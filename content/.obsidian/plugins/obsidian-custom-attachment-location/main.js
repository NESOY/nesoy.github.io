/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var zy=Object.create;var Gi=Object.defineProperty;var Hy=Object.getOwnPropertyDescriptor;var Gy=Object.getOwnPropertyNames;var qy=Object.getPrototypeOf,jy=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Oc=(t,e)=>{for(var n in e)Gi(t,n,{get:e[n],enumerable:!0})},Dc=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gy(e))!jy.call(t,i)&&i!==n&&Gi(t,i,{get:()=>e[i],enumerable:!(r=Hy(e,i))||r.enumerable});return t};var $e=(t,e,n)=>(n=t!=null?zy(qy(t)):{},Dc(e||!t||!t.__esModule?Gi(n,"default",{value:t,enumerable:!0}):n,t)),Ky=t=>Dc(Gi({},"__esModule",{value:!0}),t);var Xt=Y((Oa,ir)=>{(function(t,e){typeof Oa=="object"&&typeof ir<"u"?ir.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Oa,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(s){t=s}function r(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}function i(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}function o(s,a){return Object.prototype.hasOwnProperty.call(s,a)}function l(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var a;for(a in s)if(o(s,a))return!1;return!0}function u(s){return s===void 0}function d(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}function p(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}function f(s,a){var c=[],h,y=s.length;for(h=0;h<y;++h)c.push(a(s[h],h));return c}function m(s,a){for(var c in a)o(a,c)&&(s[c]=a[c]);return o(a,"toString")&&(s.toString=a.toString),o(a,"valueOf")&&(s.valueOf=a.valueOf),s}function w(s,a,c,h){return uc(s,a,c,h,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(s){return s._pf==null&&(s._pf=g()),s._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(s){var a=Object(this),c=a.length>>>0,h;for(h=0;h<c;h++)if(h in a&&s.call(this,a[h],h,a))return!0;return!1};function T(s){var a=null,c=!1,h=s._d&&!isNaN(s._d.getTime());if(h&&(a=v(s),c=F.call(a.parsedDateParts,function(y){return y!=null}),h=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),s._strict&&(h=h&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=h;else return h;return s._isValid}function E(s){var a=w(NaN);return s!=null?m(v(a),s):v(a).userInvalidated=!0,a}var S=e.momentProperties=[],P=!1;function W(s,a){var c,h,y,k=S.length;if(u(a._isAMomentObject)||(s._isAMomentObject=a._isAMomentObject),u(a._i)||(s._i=a._i),u(a._f)||(s._f=a._f),u(a._l)||(s._l=a._l),u(a._strict)||(s._strict=a._strict),u(a._tzm)||(s._tzm=a._tzm),u(a._isUTC)||(s._isUTC=a._isUTC),u(a._offset)||(s._offset=a._offset),u(a._pf)||(s._pf=v(a)),u(a._locale)||(s._locale=a._locale),k>0)for(c=0;c<k;c++)h=S[c],y=a[h],u(y)||(s[h]=y);return s}function U(s){W(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function x(s){return s instanceof U||s!=null&&s._isAMomentObject!=null}function ne(s){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}function X(s,a){var c=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,s),c){var h=[],y,k,C,R=arguments.length;for(k=0;k<R;k++){if(y="",typeof arguments[k]=="object"){y+=`
[`+k+"] ";for(C in arguments[0])o(arguments[0],C)&&(y+=C+": "+arguments[0][C]+", ");y=y.slice(0,-2)}else y=arguments[k];h.push(y)}ne(s+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var Z={};function ae(s,a){e.deprecationHandler!=null&&e.deprecationHandler(s,a),Z[s]||(ne(a),Z[s]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function de(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}function ie(s){var a,c;for(c in s)o(s,c)&&(a=s[c],de(a)?this[c]=a:this["_"+c]=a);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(s,a){var c=m({},s),h;for(h in a)o(a,h)&&(i(s[h])&&i(a[h])?(c[h]={},m(c[h],s[h]),m(c[h],a[h])):a[h]!=null?c[h]=a[h]:delete c[h]);for(h in s)o(s,h)&&!o(a,h)&&i(s[h])&&(c[h]=m({},c[h]));return c}function G(s){s!=null&&this.set(s)}var z;Object.keys?z=Object.keys:z=function(s){var a,c=[];for(a in s)o(s,a)&&c.push(a);return c};var se={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function we(s,a,c){var h=this._calendar[s]||this._calendar.sameElse;return de(h)?h.call(a,c):h}function be(s,a,c){var h=""+Math.abs(s),y=a-h.length,k=s>=0;return(k?c?"+":"":"-")+Math.pow(10,Math.max(0,y)).toString().substr(1)+h}var Qe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Me={},Le={};function b(s,a,c,h){var y=h;typeof h=="string"&&(y=function(){return this[h]()}),s&&(Le[s]=y),a&&(Le[a[0]]=function(){return be(y.apply(this,arguments),a[1],a[2])}),c&&(Le[c]=function(){return this.localeData().ordinal(y.apply(this,arguments),s)})}function Ue(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}function $t(s){var a=s.match(Qe),c,h;for(c=0,h=a.length;c<h;c++)Le[a[c]]?a[c]=Le[a[c]]:a[c]=Ue(a[c]);return function(y){var k="",C;for(C=0;C<h;C++)k+=de(a[C])?a[C].call(y,s):a[C];return k}}function ln(s,a){return s.isValid()?(a=Tn(a,s.localeData()),Me[a]=Me[a]||$t(a),Me[a](s)):s.localeData().invalidDate()}function Tn(s,a){var c=5;function h(y){return a.longDateFormat(y)||y}for(A.lastIndex=0;c>=0&&A.test(s);)s=s.replace(A,h),A.lastIndex=0,c-=1;return s}var Te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Sn(s){var a=this._longDateFormat[s],c=this._longDateFormat[s.toUpperCase()];return a||!c?a:(this._longDateFormat[s]=c.match(Qe).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[s])}var vt="Invalid date";function Vt(){return this._invalidDate}var un="%d",Nr=/\d{1,2}/;function ua(s){return this._ordinal.replace("%d",s)}var Si={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _i(s,a,c,h){var y=this._relativeTime[c];return de(y)?y(s,a,c,h):y.replace(/%d/i,s)}function Fi(s,a){var c=this._relativeTime[s>0?"future":"past"];return de(c)?c(a):c.replace(/%s/i,a)}var Pi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ze(s){return typeof s=="string"?Pi[s]||Pi[s.toLowerCase()]:void 0}function Xn(s){var a={},c,h;for(h in s)o(s,h)&&(c=ze(h),c&&(a[c]=s[h]));return a}var ca={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function da(s){var a=[],c;for(c in s)o(s,c)&&a.push({unit:c,priority:ca[c]});return a.sort(function(h,y){return h.priority-y.priority}),a}var Ii=/\d/,He=/\d\d/,Oi=/\d{3}/,_=/\d{4}/,O=/[+-]?\d{6}/,D=/\d\d?/,J=/\d\d\d\d?/,le=/\d\d\d\d\d\d?/,Ne=/\d{1,3}/,Et=/\d{1,4}/,et=/[+-]?\d{1,6}/,dt=/\d+/,Ft=/[+-]?\d+/,Ge=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,xt=/[+-]?\d+(\.\d{1,3})?/,Br=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zn=/^[1-9]\d?/,fa=/^([1-9]\d|\d)/,Di;Di={};function N(s,a,c){Di[s]=de(a)?a:function(h,y){return h&&c?c:a}}function dg(s,a){return o(Di,s)?Di[s](a._strict,a._locale):new RegExp(fg(s))}function fg(s){return Yt(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,h,y,k){return c||h||y||k}))}function Yt(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ft(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function ee(s){var a=+s,c=0;return a!==0&&isFinite(a)&&(c=ft(a)),c}var ha={};function ce(s,a){var c,h=a,y;for(typeof s=="string"&&(s=[s]),d(a)&&(h=function(k,C){C[a]=ee(k)}),y=s.length,c=0;c<y;c++)ha[s[c]]=h}function $r(s,a){ce(s,function(c,h,y,k){y._w=y._w||{},a(c,y._w,y,k)})}function hg(s,a,c){a!=null&&o(ha,s)&&ha[s](a,c._a,c,s)}function Ri(s){return s%4===0&&s%100!==0||s%400===0}var Be=0,Wt=1,Pt=2,Se=3,Tt=4,Ut=5,_n=6,pg=7,mg=8;b("Y",0,0,function(){var s=this.year();return s<=9999?be(s,4):"+"+s}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),N("Y",Ft),N("YY",D,He),N("YYYY",Et,_),N("YYYYY",et,O),N("YYYYYY",et,O),ce(["YYYYY","YYYYYY"],Be),ce("YYYY",function(s,a){a[Be]=s.length===2?e.parseTwoDigitYear(s):ee(s)}),ce("YY",function(s,a){a[Be]=e.parseTwoDigitYear(s)}),ce("Y",function(s,a){a[Be]=parseInt(s,10)});function Vr(s){return Ri(s)?366:365}e.parseTwoDigitYear=function(s){return ee(s)+(ee(s)>68?1900:2e3)};var qu=Jn("FullYear",!0);function gg(){return Ri(this.year())}function Jn(s,a){return function(c){return c!=null?(ju(this,s,c),e.updateOffset(this,a),this):Yr(this,s)}}function Yr(s,a){if(!s.isValid())return NaN;var c=s._d,h=s._isUTC;switch(a){case"Milliseconds":return h?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return h?c.getUTCSeconds():c.getSeconds();case"Minutes":return h?c.getUTCMinutes():c.getMinutes();case"Hours":return h?c.getUTCHours():c.getHours();case"Date":return h?c.getUTCDate():c.getDate();case"Day":return h?c.getUTCDay():c.getDay();case"Month":return h?c.getUTCMonth():c.getMonth();case"FullYear":return h?c.getUTCFullYear():c.getFullYear();default:return NaN}}function ju(s,a,c){var h,y,k,C,R;if(!(!s.isValid()||isNaN(c))){switch(h=s._d,y=s._isUTC,a){case"Milliseconds":return void(y?h.setUTCMilliseconds(c):h.setMilliseconds(c));case"Seconds":return void(y?h.setUTCSeconds(c):h.setSeconds(c));case"Minutes":return void(y?h.setUTCMinutes(c):h.setMinutes(c));case"Hours":return void(y?h.setUTCHours(c):h.setHours(c));case"Date":return void(y?h.setUTCDate(c):h.setDate(c));case"FullYear":break;default:return}k=c,C=s.month(),R=s.date(),R=R===29&&C===1&&!Ri(k)?28:R,y?h.setUTCFullYear(k,C,R):h.setFullYear(k,C,R)}}function wg(s){return s=ze(s),de(this[s])?this[s]():this}function yg(s,a){if(typeof s=="object"){s=Xn(s);var c=da(s),h,y=c.length;for(h=0;h<y;h++)this[c[h].unit](s[c[h].unit])}else if(s=ze(s),de(this[s]))return this[s](a);return this}function bg(s,a){return(s%a+a)%a}var Ae;Array.prototype.indexOf?Ae=Array.prototype.indexOf:Ae=function(s){var a;for(a=0;a<this.length;++a)if(this[a]===s)return a;return-1};function pa(s,a){if(isNaN(s)||isNaN(a))return NaN;var c=bg(a,12);return s+=(a-c)/12,c===1?Ri(s)?29:28:31-c%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),b("MMMM",0,0,function(s){return this.localeData().months(this,s)}),N("M",D,Zn),N("MM",D,He),N("MMM",function(s,a){return a.monthsShortRegex(s)}),N("MMMM",function(s,a){return a.monthsRegex(s)}),ce(["M","MM"],function(s,a){a[Wt]=ee(s)-1}),ce(["MMM","MMMM"],function(s,a,c,h){var y=c._locale.monthsParse(s,h,c._strict);y!=null?a[Wt]=y:v(c).invalidMonth=s});var kg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ku="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ag=Br,vg=Br;function Eg(s,a){return s?r(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||Xu).test(a)?"format":"standalone"][s.month()]:r(this._months)?this._months:this._months.standalone}function Cg(s,a){return s?r(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[Xu.test(a)?"format":"standalone"][s.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function xg(s,a,c){var h,y,k,C=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)k=w([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(k,"").toLocaleLowerCase();return c?a==="MMM"?(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:null):(y=Ae.call(this._longMonthsParse,C),y!==-1?y:null):a==="MMM"?(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:(y=Ae.call(this._longMonthsParse,C),y!==-1?y:null)):(y=Ae.call(this._longMonthsParse,C),y!==-1?y:(y=Ae.call(this._shortMonthsParse,C),y!==-1?y:null))}function Tg(s,a,c){var h,y,k;if(this._monthsParseExact)return xg.call(this,s,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(y=w([2e3,h]),c&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(y,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(y,"").replace(".","")+"$","i")),!c&&!this._monthsParse[h]&&(k="^"+this.months(y,"")+"|^"+this.monthsShort(y,""),this._monthsParse[h]=new RegExp(k.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[h].test(s))return h;if(c&&a==="MMM"&&this._shortMonthsParse[h].test(s))return h;if(!c&&this._monthsParse[h].test(s))return h}}function Zu(s,a){if(!s.isValid())return s;if(typeof a=="string"){if(/^\d+$/.test(a))a=ee(a);else if(a=s.localeData().monthsParse(a),!d(a))return s}var c=a,h=s.date();return h=h<29?h:Math.min(h,pa(s.year(),c)),s._isUTC?s._d.setUTCMonth(c,h):s._d.setMonth(c,h),s}function Ju(s){return s!=null?(Zu(this,s),e.updateOffset(this,!0),this):Yr(this,"Month")}function Sg(){return pa(this.year(),this.month())}function _g(s){return this._monthsParseExact?(o(this,"_monthsRegex")||Qu.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Ag),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}function Fg(s){return this._monthsParseExact?(o(this,"_monthsRegex")||Qu.call(this),s?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=vg),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}function Qu(){function s(H,te){return te.length-H.length}var a=[],c=[],h=[],y,k,C,R;for(y=0;y<12;y++)k=w([2e3,y]),C=Yt(this.monthsShort(k,"")),R=Yt(this.months(k,"")),a.push(C),c.push(R),h.push(R),h.push(C);a.sort(s),c.sort(s),h.sort(s),this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Pg(s,a,c,h,y,k,C){var R;return s<100&&s>=0?(R=new Date(s+400,a,c,h,y,k,C),isFinite(R.getFullYear())&&R.setFullYear(s)):R=new Date(s,a,c,h,y,k,C),R}function Wr(s){var a,c;return s<100&&s>=0?(c=Array.prototype.slice.call(arguments),c[0]=s+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(s)):a=new Date(Date.UTC.apply(null,arguments)),a}function Mi(s,a,c){var h=7+a-c,y=(7+Wr(s,0,h).getUTCDay()-a)%7;return-y+h-1}function ec(s,a,c,h,y){var k=(7+c-h)%7,C=Mi(s,h,y),R=1+7*(a-1)+k+C,H,te;return R<=0?(H=s-1,te=Vr(H)+R):R>Vr(s)?(H=s+1,te=R-Vr(s)):(H=s,te=R),{year:H,dayOfYear:te}}function Ur(s,a,c){var h=Mi(s.year(),a,c),y=Math.floor((s.dayOfYear()-h-1)/7)+1,k,C;return y<1?(C=s.year()-1,k=y+zt(C,a,c)):y>zt(s.year(),a,c)?(k=y-zt(s.year(),a,c),C=s.year()+1):(C=s.year(),k=y),{week:k,year:C}}function zt(s,a,c){var h=Mi(s,a,c),y=Mi(s+1,a,c);return(Vr(s)-h+y)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),N("w",D,Zn),N("ww",D,He),N("W",D,Zn),N("WW",D,He),$r(["w","ww","W","WW"],function(s,a,c,h){a[h.substr(0,1)]=ee(s)});function Ig(s){return Ur(s,this._week.dow,this._week.doy).week}var Og={dow:0,doy:6};function Dg(){return this._week.dow}function Rg(){return this._week.doy}function Mg(s){var a=this.localeData().week(this);return s==null?a:this.add((s-a)*7,"d")}function Lg(s){var a=Ur(this,1,4).week;return s==null?a:this.add((s-a)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),b("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),b("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),N("d",D),N("e",D),N("E",D),N("dd",function(s,a){return a.weekdaysMinRegex(s)}),N("ddd",function(s,a){return a.weekdaysShortRegex(s)}),N("dddd",function(s,a){return a.weekdaysRegex(s)}),$r(["dd","ddd","dddd"],function(s,a,c,h){var y=c._locale.weekdaysParse(s,h,c._strict);y!=null?a.d=y:v(c).invalidWeekday=s}),$r(["d","e","E"],function(s,a,c,h){a[h]=ee(s)});function Ng(s,a){return typeof s!="string"?s:isNaN(s)?(s=a.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}function Bg(s,a){return typeof s=="string"?a.weekdaysParse(s)%7||7:isNaN(s)?null:s}function ma(s,a){return s.slice(a,7).concat(s.slice(0,a))}var $g="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),tc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vg="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Yg=Br,Wg=Br,Ug=Br;function zg(s,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return s===!0?ma(c,this._week.dow):s?c[s.day()]:c}function Hg(s){return s===!0?ma(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}function Gg(s){return s===!0?ma(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}function qg(s,a,c){var h,y,k,C=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)k=w([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(k,"").toLocaleLowerCase();return c?a==="dddd"?(y=Ae.call(this._weekdaysParse,C),y!==-1?y:null):a==="ddd"?(y=Ae.call(this._shortWeekdaysParse,C),y!==-1?y:null):(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null):a==="dddd"?(y=Ae.call(this._weekdaysParse,C),y!==-1||(y=Ae.call(this._shortWeekdaysParse,C),y!==-1)?y:(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null)):a==="ddd"?(y=Ae.call(this._shortWeekdaysParse,C),y!==-1||(y=Ae.call(this._weekdaysParse,C),y!==-1)?y:(y=Ae.call(this._minWeekdaysParse,C),y!==-1?y:null)):(y=Ae.call(this._minWeekdaysParse,C),y!==-1||(y=Ae.call(this._weekdaysParse,C),y!==-1)?y:(y=Ae.call(this._shortWeekdaysParse,C),y!==-1?y:null))}function jg(s,a,c){var h,y,k;if(this._weekdaysParseExact)return qg.call(this,s,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(y=w([2e3,1]).day(h),c&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(k="^"+this.weekdays(y,"")+"|^"+this.weekdaysShort(y,"")+"|^"+this.weekdaysMin(y,""),this._weekdaysParse[h]=new RegExp(k.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[h].test(s))return h;if(c&&a==="ddd"&&this._shortWeekdaysParse[h].test(s))return h;if(c&&a==="dd"&&this._minWeekdaysParse[h].test(s))return h;if(!c&&this._weekdaysParse[h].test(s))return h}}function Kg(s){if(!this.isValid())return s!=null?this:NaN;var a=Yr(this,"Day");return s!=null?(s=Ng(s,this.localeData()),this.add(s-a,"d")):a}function Xg(s){if(!this.isValid())return s!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return s==null?a:this.add(s-a,"d")}function Zg(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var a=Bg(s,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function Jg(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ga.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Yg),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qg(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ga.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wg),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function e0(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ga.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ug),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ga(){function s(qe,Kt){return Kt.length-qe.length}var a=[],c=[],h=[],y=[],k,C,R,H,te;for(k=0;k<7;k++)C=w([2e3,1]).day(k),R=Yt(this.weekdaysMin(C,"")),H=Yt(this.weekdaysShort(C,"")),te=Yt(this.weekdays(C,"")),a.push(R),c.push(H),h.push(te),y.push(R),y.push(H),y.push(te);a.sort(s),c.sort(s),h.sort(s),y.sort(s),this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function wa(){return this.hours()%12||12}function t0(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,wa),b("k",["kk",2],0,t0),b("hmm",0,0,function(){return""+wa.apply(this)+be(this.minutes(),2)}),b("hmmss",0,0,function(){return""+wa.apply(this)+be(this.minutes(),2)+be(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+be(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+be(this.minutes(),2)+be(this.seconds(),2)});function nc(s,a){b(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}nc("a",!0),nc("A",!1);function rc(s,a){return a._meridiemParse}N("a",rc),N("A",rc),N("H",D,fa),N("h",D,Zn),N("k",D,Zn),N("HH",D,He),N("hh",D,He),N("kk",D,He),N("hmm",J),N("hmmss",le),N("Hmm",J),N("Hmmss",le),ce(["H","HH"],Se),ce(["k","kk"],function(s,a,c){var h=ee(s);a[Se]=h===24?0:h}),ce(["a","A"],function(s,a,c){c._isPm=c._locale.isPM(s),c._meridiem=s}),ce(["h","hh"],function(s,a,c){a[Se]=ee(s),v(c).bigHour=!0}),ce("hmm",function(s,a,c){var h=s.length-2;a[Se]=ee(s.substr(0,h)),a[Tt]=ee(s.substr(h)),v(c).bigHour=!0}),ce("hmmss",function(s,a,c){var h=s.length-4,y=s.length-2;a[Se]=ee(s.substr(0,h)),a[Tt]=ee(s.substr(h,2)),a[Ut]=ee(s.substr(y)),v(c).bigHour=!0}),ce("Hmm",function(s,a,c){var h=s.length-2;a[Se]=ee(s.substr(0,h)),a[Tt]=ee(s.substr(h))}),ce("Hmmss",function(s,a,c){var h=s.length-4,y=s.length-2;a[Se]=ee(s.substr(0,h)),a[Tt]=ee(s.substr(h,2)),a[Ut]=ee(s.substr(y))});function n0(s){return(s+"").toLowerCase().charAt(0)==="p"}var r0=/[ap]\.?m?\.?/i,i0=Jn("Hours",!0);function s0(s,a,c){return s>11?c?"pm":"PM":c?"am":"AM"}var ic={calendar:se,longDateFormat:Te,invalidDate:vt,ordinal:un,dayOfMonthOrdinalParse:Nr,relativeTime:Si,months:kg,monthsShort:Ku,week:Og,weekdays:$g,weekdaysMin:Vg,weekdaysShort:tc,meridiemParse:r0},pe={},zr={},Hr;function o0(s,a){var c,h=Math.min(s.length,a.length);for(c=0;c<h;c+=1)if(s[c]!==a[c])return c;return h}function sc(s){return s&&s.toLowerCase().replace("_","-")}function a0(s){for(var a=0,c,h,y,k;a<s.length;){for(k=sc(s[a]).split("-"),c=k.length,h=sc(s[a+1]),h=h?h.split("-"):null;c>0;){if(y=Li(k.slice(0,c).join("-")),y)return y;if(h&&h.length>=c&&o0(k,h)>=c-1)break;c--}a++}return Hr}function l0(s){return!!(s&&s.match("^[^/\\\\]*$"))}function Li(s){var a=null,c;if(pe[s]===void 0&&typeof ir<"u"&&ir&&ir.exports&&l0(s))try{a=Hr._abbr,c=require,c("./locale/"+s),cn(a)}catch{pe[s]=null}return pe[s]}function cn(s,a){var c;return s&&(u(a)?c=Ht(s):c=ya(s,a),c?Hr=c:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),Hr._abbr}function ya(s,a){if(a!==null){var c,h=ic;if(a.abbr=s,pe[s]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=pe[s]._config;else if(a.parentLocale!=null)if(pe[a.parentLocale]!=null)h=pe[a.parentLocale]._config;else if(c=Li(a.parentLocale),c!=null)h=c._config;else return zr[a.parentLocale]||(zr[a.parentLocale]=[]),zr[a.parentLocale].push({name:s,config:a}),null;return pe[s]=new G(V(h,a)),zr[s]&&zr[s].forEach(function(y){ya(y.name,y.config)}),cn(s),pe[s]}else return delete pe[s],null}function u0(s,a){if(a!=null){var c,h,y=ic;pe[s]!=null&&pe[s].parentLocale!=null?pe[s].set(V(pe[s]._config,a)):(h=Li(s),h!=null&&(y=h._config),a=V(y,a),h==null&&(a.abbr=s),c=new G(a),c.parentLocale=pe[s],pe[s]=c),cn(s)}else pe[s]!=null&&(pe[s].parentLocale!=null?(pe[s]=pe[s].parentLocale,s===cn()&&cn(s)):pe[s]!=null&&delete pe[s]);return pe[s]}function Ht(s){var a;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return Hr;if(!r(s)){if(a=Li(s),a)return a;s=[s]}return a0(s)}function c0(){return z(pe)}function ba(s){var a,c=s._a;return c&&v(s).overflow===-2&&(a=c[Wt]<0||c[Wt]>11?Wt:c[Pt]<1||c[Pt]>pa(c[Be],c[Wt])?Pt:c[Se]<0||c[Se]>24||c[Se]===24&&(c[Tt]!==0||c[Ut]!==0||c[_n]!==0)?Se:c[Tt]<0||c[Tt]>59?Tt:c[Ut]<0||c[Ut]>59?Ut:c[_n]<0||c[_n]>999?_n:-1,v(s)._overflowDayOfYear&&(a<Be||a>Pt)&&(a=Pt),v(s)._overflowWeeks&&a===-1&&(a=pg),v(s)._overflowWeekday&&a===-1&&(a=mg),v(s).overflow=a),s}var d0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,f0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,h0=/Z|[+-]\d\d(?::?\d\d)?/,Ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ka=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],p0=/^\/?Date\((-?\d+)/i,m0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,g0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oc(s){var a,c,h=s._i,y=d0.exec(h)||f0.exec(h),k,C,R,H,te=Ni.length,qe=ka.length;if(y){for(v(s).iso=!0,a=0,c=te;a<c;a++)if(Ni[a][1].exec(y[1])){C=Ni[a][0],k=Ni[a][2]!==!1;break}if(C==null){s._isValid=!1;return}if(y[3]){for(a=0,c=qe;a<c;a++)if(ka[a][1].exec(y[3])){R=(y[2]||" ")+ka[a][0];break}if(R==null){s._isValid=!1;return}}if(!k&&R!=null){s._isValid=!1;return}if(y[4])if(h0.exec(y[4]))H="Z";else{s._isValid=!1;return}s._f=C+(R||"")+(H||""),va(s)}else s._isValid=!1}function w0(s,a,c,h,y,k){var C=[y0(s),Ku.indexOf(a),parseInt(c,10),parseInt(h,10),parseInt(y,10)];return k&&C.push(parseInt(k,10)),C}function y0(s){var a=parseInt(s,10);return a<=49?2e3+a:a<=999?1900+a:a}function b0(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function k0(s,a,c){if(s){var h=tc.indexOf(s),y=new Date(a[0],a[1],a[2]).getDay();if(h!==y)return v(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function A0(s,a,c){if(s)return g0[s];if(a)return 0;var h=parseInt(c,10),y=h%100,k=(h-y)/100;return k*60+y}function ac(s){var a=m0.exec(b0(s._i)),c;if(a){if(c=w0(a[4],a[3],a[2],a[5],a[6],a[7]),!k0(a[1],c,s))return;s._a=c,s._tzm=A0(a[8],a[9],a[10]),s._d=Wr.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),v(s).rfc2822=!0}else s._isValid=!1}function v0(s){var a=p0.exec(s._i);if(a!==null){s._d=new Date(+a[1]);return}if(oc(s),s._isValid===!1)delete s._isValid;else return;if(ac(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:e.createFromInputFallback(s)}e.createFromInputFallback=X("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function Qn(s,a,c){return s??a??c}function E0(s){var a=new Date(e.now());return s._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Aa(s){var a,c,h=[],y,k,C;if(!s._d){for(y=E0(s),s._w&&s._a[Pt]==null&&s._a[Wt]==null&&C0(s),s._dayOfYear!=null&&(C=Qn(s._a[Be],y[Be]),(s._dayOfYear>Vr(C)||s._dayOfYear===0)&&(v(s)._overflowDayOfYear=!0),c=Wr(C,0,s._dayOfYear),s._a[Wt]=c.getUTCMonth(),s._a[Pt]=c.getUTCDate()),a=0;a<3&&s._a[a]==null;++a)s._a[a]=h[a]=y[a];for(;a<7;a++)s._a[a]=h[a]=s._a[a]==null?a===2?1:0:s._a[a];s._a[Se]===24&&s._a[Tt]===0&&s._a[Ut]===0&&s._a[_n]===0&&(s._nextDay=!0,s._a[Se]=0),s._d=(s._useUTC?Wr:Pg).apply(null,h),k=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[Se]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==k&&(v(s).weekdayMismatch=!0)}}function C0(s){var a,c,h,y,k,C,R,H,te;a=s._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,C=4,c=Qn(a.GG,s._a[Be],Ur(fe(),1,4).year),h=Qn(a.W,1),y=Qn(a.E,1),(y<1||y>7)&&(H=!0)):(k=s._locale._week.dow,C=s._locale._week.doy,te=Ur(fe(),k,C),c=Qn(a.gg,s._a[Be],te.year),h=Qn(a.w,te.week),a.d!=null?(y=a.d,(y<0||y>6)&&(H=!0)):a.e!=null?(y=a.e+k,(a.e<0||a.e>6)&&(H=!0)):y=k),h<1||h>zt(c,k,C)?v(s)._overflowWeeks=!0:H!=null?v(s)._overflowWeekday=!0:(R=ec(c,h,y,k,C),s._a[Be]=R.year,s._dayOfYear=R.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function va(s){if(s._f===e.ISO_8601){oc(s);return}if(s._f===e.RFC_2822){ac(s);return}s._a=[],v(s).empty=!0;var a=""+s._i,c,h,y,k,C,R=a.length,H=0,te,qe;for(y=Tn(s._f,s._locale).match(Qe)||[],qe=y.length,c=0;c<qe;c++)k=y[c],h=(a.match(dg(k,s))||[])[0],h&&(C=a.substr(0,a.indexOf(h)),C.length>0&&v(s).unusedInput.push(C),a=a.slice(a.indexOf(h)+h.length),H+=h.length),Le[k]?(h?v(s).empty=!1:v(s).unusedTokens.push(k),hg(k,h,s)):s._strict&&!h&&v(s).unusedTokens.push(k);v(s).charsLeftOver=R-H,a.length>0&&v(s).unusedInput.push(a),s._a[Se]<=12&&v(s).bigHour===!0&&s._a[Se]>0&&(v(s).bigHour=void 0),v(s).parsedDateParts=s._a.slice(0),v(s).meridiem=s._meridiem,s._a[Se]=x0(s._locale,s._a[Se],s._meridiem),te=v(s).era,te!==null&&(s._a[Be]=s._locale.erasConvertYear(te,s._a[Be])),Aa(s),ba(s)}function x0(s,a,c){var h;return c==null?a:s.meridiemHour!=null?s.meridiemHour(a,c):(s.isPM!=null&&(h=s.isPM(c),h&&a<12&&(a+=12),!h&&a===12&&(a=0)),a)}function T0(s){var a,c,h,y,k,C,R=!1,H=s._f.length;if(H===0){v(s).invalidFormat=!0,s._d=new Date(NaN);return}for(y=0;y<H;y++)k=0,C=!1,a=W({},s),s._useUTC!=null&&(a._useUTC=s._useUTC),a._f=s._f[y],va(a),T(a)&&(C=!0),k+=v(a).charsLeftOver,k+=v(a).unusedTokens.length*10,v(a).score=k,R?k<h&&(h=k,c=a):(h==null||k<h||C)&&(h=k,c=a,C&&(R=!0));m(s,c||a)}function S0(s){if(!s._d){var a=Xn(s._i),c=a.day===void 0?a.date:a.day;s._a=f([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(h){return h&&parseInt(h,10)}),Aa(s)}}function _0(s){var a=new U(ba(lc(s)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function lc(s){var a=s._i,c=s._f;return s._locale=s._locale||Ht(s._l),a===null||c===void 0&&a===""?E({nullInput:!0}):(typeof a=="string"&&(s._i=a=s._locale.preparse(a)),x(a)?new U(ba(a)):(p(a)?s._d=a:r(c)?T0(s):c?va(s):F0(s),T(s)||(s._d=null),s))}function F0(s){var a=s._i;u(a)?s._d=new Date(e.now()):p(a)?s._d=new Date(a.valueOf()):typeof a=="string"?v0(s):r(a)?(s._a=f(a.slice(0),function(c){return parseInt(c,10)}),Aa(s)):i(a)?S0(s):d(a)?s._d=new Date(a):e.createFromInputFallback(s)}function uc(s,a,c,h,y){var k={};return(a===!0||a===!1)&&(h=a,a=void 0),(c===!0||c===!1)&&(h=c,c=void 0),(i(s)&&l(s)||r(s)&&s.length===0)&&(s=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=y,k._l=c,k._i=s,k._f=a,k._strict=h,_0(k)}function fe(s,a,c,h){return uc(s,a,c,h,!1)}var P0=X("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=fe.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:E()}),I0=X("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=fe.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:E()});function cc(s,a){var c,h;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return fe();for(c=a[0],h=1;h<a.length;++h)(!a[h].isValid()||a[h][s](c))&&(c=a[h]);return c}function O0(){var s=[].slice.call(arguments,0);return cc("isBefore",s)}function D0(){var s=[].slice.call(arguments,0);return cc("isAfter",s)}var R0=function(){return Date.now?Date.now():+new Date},Gr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function M0(s){var a,c=!1,h,y=Gr.length;for(a in s)if(o(s,a)&&!(Ae.call(Gr,a)!==-1&&(s[a]==null||!isNaN(s[a]))))return!1;for(h=0;h<y;++h)if(s[Gr[h]]){if(c)return!1;parseFloat(s[Gr[h]])!==ee(s[Gr[h]])&&(c=!0)}return!0}function L0(){return this._isValid}function N0(){return St(NaN)}function Bi(s){var a=Xn(s),c=a.year||0,h=a.quarter||0,y=a.month||0,k=a.week||a.isoWeek||0,C=a.day||0,R=a.hour||0,H=a.minute||0,te=a.second||0,qe=a.millisecond||0;this._isValid=M0(a),this._milliseconds=+qe+te*1e3+H*6e4+R*1e3*60*60,this._days=+C+k*7,this._months=+y+h*3+c*12,this._data={},this._locale=Ht(),this._bubble()}function $i(s){return s instanceof Bi}function Ea(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}function B0(s,a,c){var h=Math.min(s.length,a.length),y=Math.abs(s.length-a.length),k=0,C;for(C=0;C<h;C++)(c&&s[C]!==a[C]||!c&&ee(s[C])!==ee(a[C]))&&k++;return k+y}function dc(s,a){b(s,0,0,function(){var c=this.utcOffset(),h="+";return c<0&&(c=-c,h="-"),h+be(~~(c/60),2)+a+be(~~c%60,2)})}dc("Z",":"),dc("ZZ",""),N("Z",Ct),N("ZZ",Ct),ce(["Z","ZZ"],function(s,a,c){c._useUTC=!0,c._tzm=Ca(Ct,s)});var $0=/([\+\-]|\d\d)/gi;function Ca(s,a){var c=(a||"").match(s),h,y,k;return c===null?null:(h=c[c.length-1]||[],y=(h+"").match($0)||["-",0,0],k=+(y[1]*60)+ee(y[2]),k===0?0:y[0]==="+"?k:-k)}function xa(s,a){var c,h;return a._isUTC?(c=a.clone(),h=(x(s)||p(s)?s.valueOf():fe(s).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+h),e.updateOffset(c,!1),c):fe(s).local()}function Ta(s){return-Math.round(s._d.getTimezoneOffset())}e.updateOffset=function(){};function V0(s,a,c){var h=this._offset||0,y;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=Ca(Ct,s),s===null)return this}else Math.abs(s)<16&&!c&&(s=s*60);return!this._isUTC&&a&&(y=Ta(this)),this._offset=s,this._isUTC=!0,y!=null&&this.add(y,"m"),h!==s&&(!a||this._changeInProgress?mc(this,St(s-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Ta(this)}function Y0(s,a){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,a),this):-this.utcOffset()}function W0(s){return this.utcOffset(0,s)}function U0(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Ta(this),"m")),this}function z0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=Ca(Ge,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}function H0(s){return this.isValid()?(s=s?fe(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}function G0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function q0(){if(!u(this._isDSTShifted))return this._isDSTShifted;var s={},a;return W(s,this),s=lc(s),s._a?(a=s._isUTC?w(s._a):fe(s._a),this._isDSTShifted=this.isValid()&&B0(s._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function j0(){return this.isValid()?!this._isUTC:!1}function K0(){return this.isValid()?this._isUTC:!1}function fc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var X0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Z0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function St(s,a){var c=s,h=null,y,k,C;return $i(s)?c={ms:s._milliseconds,d:s._days,M:s._months}:d(s)||!isNaN(+s)?(c={},a?c[a]=+s:c.milliseconds=+s):(h=X0.exec(s))?(y=h[1]==="-"?-1:1,c={y:0,d:ee(h[Pt])*y,h:ee(h[Se])*y,m:ee(h[Tt])*y,s:ee(h[Ut])*y,ms:ee(Ea(h[_n]*1e3))*y}):(h=Z0.exec(s))?(y=h[1]==="-"?-1:1,c={y:Fn(h[2],y),M:Fn(h[3],y),w:Fn(h[4],y),d:Fn(h[5],y),h:Fn(h[6],y),m:Fn(h[7],y),s:Fn(h[8],y)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(C=J0(fe(c.from),fe(c.to)),c={},c.ms=C.milliseconds,c.M=C.months),k=new Bi(c),$i(s)&&o(s,"_locale")&&(k._locale=s._locale),$i(s)&&o(s,"_isValid")&&(k._isValid=s._isValid),k}St.fn=Bi.prototype,St.invalid=N0;function Fn(s,a){var c=s&&parseFloat(s.replace(",","."));return(isNaN(c)?0:c)*a}function hc(s,a){var c={};return c.months=a.month()-s.month()+(a.year()-s.year())*12,s.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+s.clone().add(c.months,"M"),c}function J0(s,a){var c;return s.isValid()&&a.isValid()?(a=xa(a,s),s.isBefore(a)?c=hc(s,a):(c=hc(a,s),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function pc(s,a){return function(c,h){var y,k;return h!==null&&!isNaN(+h)&&(ae(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=c,c=h,h=k),y=St(c,h),mc(this,y,s),this}}function mc(s,a,c,h){var y=a._milliseconds,k=Ea(a._days),C=Ea(a._months);s.isValid()&&(h=h??!0,C&&Zu(s,Yr(s,"Month")+C*c),k&&ju(s,"Date",Yr(s,"Date")+k*c),y&&s._d.setTime(s._d.valueOf()+y*c),h&&e.updateOffset(s,k||C))}var Q0=pc(1,"add"),ew=pc(-1,"subtract");function gc(s){return typeof s=="string"||s instanceof String}function tw(s){return x(s)||p(s)||gc(s)||d(s)||rw(s)||nw(s)||s===null||s===void 0}function nw(s){var a=i(s)&&!l(s),c=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],y,k,C=h.length;for(y=0;y<C;y+=1)k=h[y],c=c||o(s,k);return a&&c}function rw(s){var a=r(s),c=!1;return a&&(c=s.filter(function(h){return!d(h)&&gc(s)}).length===0),a&&c}function iw(s){var a=i(s)&&!l(s),c=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],y,k;for(y=0;y<h.length;y+=1)k=h[y],c=c||o(s,k);return a&&c}function sw(s,a){var c=s.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function ow(s,a){arguments.length===1&&(arguments[0]?tw(arguments[0])?(s=arguments[0],a=void 0):iw(arguments[0])&&(a=arguments[0],s=void 0):(s=void 0,a=void 0));var c=s||fe(),h=xa(c,this).startOf("day"),y=e.calendarFormat(this,h)||"sameElse",k=a&&(de(a[y])?a[y].call(this,c):a[y]);return this.format(k||this.localeData().calendar(y,this,fe(c)))}function aw(){return new U(this)}function lw(s,a){var c=x(s)?s:fe(s);return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function uw(s,a){var c=x(s)?s:fe(s);return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function cw(s,a,c,h){var y=x(s)?s:fe(s),k=x(a)?a:fe(a);return this.isValid()&&y.isValid()&&k.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(y,c):!this.isBefore(y,c))&&(h[1]===")"?this.isBefore(k,c):!this.isAfter(k,c))):!1}function dw(s,a){var c=x(s)?s:fe(s),h;return this.isValid()&&c.isValid()?(a=ze(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(h=c.valueOf(),this.clone().startOf(a).valueOf()<=h&&h<=this.clone().endOf(a).valueOf())):!1}function fw(s,a){return this.isSame(s,a)||this.isAfter(s,a)}function hw(s,a){return this.isSame(s,a)||this.isBefore(s,a)}function pw(s,a,c){var h,y,k;if(!this.isValid())return NaN;if(h=xa(s,this),!h.isValid())return NaN;switch(y=(h.utcOffset()-this.utcOffset())*6e4,a=ze(a),a){case"year":k=Vi(this,h)/12;break;case"month":k=Vi(this,h);break;case"quarter":k=Vi(this,h)/3;break;case"second":k=(this-h)/1e3;break;case"minute":k=(this-h)/6e4;break;case"hour":k=(this-h)/36e5;break;case"day":k=(this-h-y)/864e5;break;case"week":k=(this-h-y)/6048e5;break;default:k=this-h}return c?k:ft(k)}function Vi(s,a){if(s.date()<a.date())return-Vi(a,s);var c=(a.year()-s.year())*12+(a.month()-s.month()),h=s.clone().add(c,"months"),y,k;return a-h<0?(y=s.clone().add(c-1,"months"),k=(a-h)/(h-y)):(y=s.clone().add(c+1,"months"),k=(a-h)/(y-h)),-(c+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function mw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gw(s){if(!this.isValid())return null;var a=s!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?ln(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):de(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ln(c,"Z")):ln(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ww(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",a="",c,h,y,k;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+s+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",y="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(c+h+y+k)}function yw(s){s||(s=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=ln(this,s);return this.localeData().postformat(a)}function bw(s,a){return this.isValid()&&(x(s)&&s.isValid()||fe(s).isValid())?St({to:this,from:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function kw(s){return this.from(fe(),s)}function Aw(s,a){return this.isValid()&&(x(s)&&s.isValid()||fe(s).isValid())?St({from:this,to:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function vw(s){return this.to(fe(),s)}function wc(s){var a;return s===void 0?this._locale._abbr:(a=Ht(s),a!=null&&(this._locale=a),this)}var yc=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function bc(){return this._locale}var Yi=1e3,er=60*Yi,Wi=60*er,kc=(365*400+97)*24*Wi;function tr(s,a){return(s%a+a)%a}function Ac(s,a,c){return s<100&&s>=0?new Date(s+400,a,c)-kc:new Date(s,a,c).valueOf()}function vc(s,a,c){return s<100&&s>=0?Date.UTC(s+400,a,c)-kc:Date.UTC(s,a,c)}function Ew(s){var a,c;if(s=ze(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?vc:Ac,s){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=tr(a+(this._isUTC?0:this.utcOffset()*er),Wi);break;case"minute":a=this._d.valueOf(),a-=tr(a,er);break;case"second":a=this._d.valueOf(),a-=tr(a,Yi);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Cw(s){var a,c;if(s=ze(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?vc:Ac,s){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=Wi-tr(a+(this._isUTC?0:this.utcOffset()*er),Wi)-1;break;case"minute":a=this._d.valueOf(),a+=er-tr(a,er)-1;break;case"second":a=this._d.valueOf(),a+=Yi-tr(a,Yi)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function xw(){return this._d.valueOf()-(this._offset||0)*6e4}function Tw(){return Math.floor(this.valueOf()/1e3)}function Sw(){return new Date(this.valueOf())}function _w(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}function Fw(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}function Pw(){return this.isValid()?this.toISOString():null}function Iw(){return T(this)}function Ow(){return m({},v(this))}function Dw(){return v(this).overflow}function Rw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),N("N",Sa),N("NN",Sa),N("NNN",Sa),N("NNNN",Hw),N("NNNNN",Gw),ce(["N","NN","NNN","NNNN","NNNNN"],function(s,a,c,h){var y=c._locale.erasParse(s,h,c._strict);y?v(c).era=y:v(c).invalidEra=s}),N("y",dt),N("yy",dt),N("yyy",dt),N("yyyy",dt),N("yo",qw),ce(["y","yy","yyy","yyyy"],Be),ce(["yo"],function(s,a,c,h){var y;c._locale._eraYearOrdinalRegex&&(y=s.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[Be]=c._locale.eraYearOrdinalParse(s,y):a[Be]=parseInt(s,10)});function Mw(s,a){var c,h,y,k=this._eras||Ht("en")._eras;for(c=0,h=k.length;c<h;++c){switch(typeof k[c].since){case"string":y=e(k[c].since).startOf("day"),k[c].since=y.valueOf();break}switch(typeof k[c].until){case"undefined":k[c].until=1/0;break;case"string":y=e(k[c].until).startOf("day").valueOf(),k[c].until=y.valueOf();break}}return k}function Lw(s,a,c){var h,y,k=this.eras(),C,R,H;for(s=s.toUpperCase(),h=0,y=k.length;h<y;++h)if(C=k[h].name.toUpperCase(),R=k[h].abbr.toUpperCase(),H=k[h].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(R===s)return k[h];break;case"NNNN":if(C===s)return k[h];break;case"NNNNN":if(H===s)return k[h];break}else if([C,R,H].indexOf(s)>=0)return k[h]}function Nw(s,a){var c=s.since<=s.until?1:-1;return a===void 0?e(s.since).year():e(s.since).year()+(a-s.offset)*c}function Bw(){var s,a,c,h=this.localeData().eras();for(s=0,a=h.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),h[s].since<=c&&c<=h[s].until||h[s].until<=c&&c<=h[s].since)return h[s].name;return""}function $w(){var s,a,c,h=this.localeData().eras();for(s=0,a=h.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),h[s].since<=c&&c<=h[s].until||h[s].until<=c&&c<=h[s].since)return h[s].narrow;return""}function Vw(){var s,a,c,h=this.localeData().eras();for(s=0,a=h.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),h[s].since<=c&&c<=h[s].until||h[s].until<=c&&c<=h[s].since)return h[s].abbr;return""}function Yw(){var s,a,c,h,y=this.localeData().eras();for(s=0,a=y.length;s<a;++s)if(c=y[s].since<=y[s].until?1:-1,h=this.clone().startOf("day").valueOf(),y[s].since<=h&&h<=y[s].until||y[s].until<=h&&h<=y[s].since)return(this.year()-e(y[s].since).year())*c+y[s].offset;return this.year()}function Ww(s){return o(this,"_erasNameRegex")||_a.call(this),s?this._erasNameRegex:this._erasRegex}function Uw(s){return o(this,"_erasAbbrRegex")||_a.call(this),s?this._erasAbbrRegex:this._erasRegex}function zw(s){return o(this,"_erasNarrowRegex")||_a.call(this),s?this._erasNarrowRegex:this._erasRegex}function Sa(s,a){return a.erasAbbrRegex(s)}function Hw(s,a){return a.erasNameRegex(s)}function Gw(s,a){return a.erasNarrowRegex(s)}function qw(s,a){return a._eraYearOrdinalRegex||dt}function _a(){var s=[],a=[],c=[],h=[],y,k,C,R,H,te=this.eras();for(y=0,k=te.length;y<k;++y)C=Yt(te[y].name),R=Yt(te[y].abbr),H=Yt(te[y].narrow),a.push(C),s.push(R),c.push(H),h.push(C),h.push(R),h.push(H);this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ui(s,a){b(0,[s,s.length],0,a)}Ui("gggg","weekYear"),Ui("ggggg","weekYear"),Ui("GGGG","isoWeekYear"),Ui("GGGGG","isoWeekYear"),N("G",Ft),N("g",Ft),N("GG",D,He),N("gg",D,He),N("GGGG",Et,_),N("gggg",Et,_),N("GGGGG",et,O),N("ggggg",et,O),$r(["gggg","ggggg","GGGG","GGGGG"],function(s,a,c,h){a[h.substr(0,2)]=ee(s)}),$r(["gg","GG"],function(s,a,c,h){a[h]=e.parseTwoDigitYear(s)});function jw(s){return Ec.call(this,s,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Kw(s){return Ec.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}function Xw(){return zt(this.year(),1,4)}function Zw(){return zt(this.isoWeekYear(),1,4)}function Jw(){var s=this.localeData()._week;return zt(this.year(),s.dow,s.doy)}function Qw(){var s=this.localeData()._week;return zt(this.weekYear(),s.dow,s.doy)}function Ec(s,a,c,h,y){var k;return s==null?Ur(this,h,y).year:(k=zt(s,h,y),a>k&&(a=k),ey.call(this,s,a,c,h,y))}function ey(s,a,c,h,y){var k=ec(s,a,c,h,y),C=Wr(k.year,0,k.dayOfYear);return this.year(C.getUTCFullYear()),this.month(C.getUTCMonth()),this.date(C.getUTCDate()),this}b("Q",0,"Qo","quarter"),N("Q",Ii),ce("Q",function(s,a){a[Wt]=(ee(s)-1)*3});function ty(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),N("D",D,Zn),N("DD",D,He),N("Do",function(s,a){return s?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],Pt),ce("Do",function(s,a){a[Pt]=ee(s.match(D)[0])});var Cc=Jn("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),N("DDD",Ne),N("DDDD",Oi),ce(["DDD","DDDD"],function(s,a,c){c._dayOfYear=ee(s)});function ny(s){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"d")}b("m",["mm",2],0,"minute"),N("m",D,fa),N("mm",D,He),ce(["m","mm"],Tt);var ry=Jn("Minutes",!1);b("s",["ss",2],0,"second"),N("s",D,fa),N("ss",D,He),ce(["s","ss"],Ut);var iy=Jn("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),N("S",Ne,Ii),N("SS",Ne,He),N("SSS",Ne,Oi);var dn,xc;for(dn="SSSS";dn.length<=9;dn+="S")N(dn,dt);function sy(s,a){a[_n]=ee(("0."+s)*1e3)}for(dn="S";dn.length<=9;dn+="S")ce(dn,sy);xc=Jn("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function oy(){return this._isUTC?"UTC":""}function ay(){return this._isUTC?"Coordinated Universal Time":""}var I=U.prototype;I.add=Q0,I.calendar=ow,I.clone=aw,I.diff=pw,I.endOf=Cw,I.format=yw,I.from=bw,I.fromNow=kw,I.to=Aw,I.toNow=vw,I.get=wg,I.invalidAt=Dw,I.isAfter=lw,I.isBefore=uw,I.isBetween=cw,I.isSame=dw,I.isSameOrAfter=fw,I.isSameOrBefore=hw,I.isValid=Iw,I.lang=yc,I.locale=wc,I.localeData=bc,I.max=I0,I.min=P0,I.parsingFlags=Ow,I.set=yg,I.startOf=Ew,I.subtract=ew,I.toArray=_w,I.toObject=Fw,I.toDate=Sw,I.toISOString=gw,I.inspect=ww,typeof Symbol<"u"&&Symbol.for!=null&&(I[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),I.toJSON=Pw,I.toString=mw,I.unix=Tw,I.valueOf=xw,I.creationData=Rw,I.eraName=Bw,I.eraNarrow=$w,I.eraAbbr=Vw,I.eraYear=Yw,I.year=qu,I.isLeapYear=gg,I.weekYear=jw,I.isoWeekYear=Kw,I.quarter=I.quarters=ty,I.month=Ju,I.daysInMonth=Sg,I.week=I.weeks=Mg,I.isoWeek=I.isoWeeks=Lg,I.weeksInYear=Jw,I.weeksInWeekYear=Qw,I.isoWeeksInYear=Xw,I.isoWeeksInISOWeekYear=Zw,I.date=Cc,I.day=I.days=Kg,I.weekday=Xg,I.isoWeekday=Zg,I.dayOfYear=ny,I.hour=I.hours=i0,I.minute=I.minutes=ry,I.second=I.seconds=iy,I.millisecond=I.milliseconds=xc,I.utcOffset=V0,I.utc=W0,I.local=U0,I.parseZone=z0,I.hasAlignedHourOffset=H0,I.isDST=G0,I.isLocal=j0,I.isUtcOffset=K0,I.isUtc=fc,I.isUTC=fc,I.zoneAbbr=oy,I.zoneName=ay,I.dates=X("dates accessor is deprecated. Use date instead.",Cc),I.months=X("months accessor is deprecated. Use month instead",Ju),I.years=X("years accessor is deprecated. Use year instead",qu),I.zone=X("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Y0),I.isDSTShifted=X("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",q0);function ly(s){return fe(s*1e3)}function uy(){return fe.apply(null,arguments).parseZone()}function Tc(s){return s}var oe=G.prototype;oe.calendar=we,oe.longDateFormat=Sn,oe.invalidDate=Vt,oe.ordinal=ua,oe.preparse=Tc,oe.postformat=Tc,oe.relativeTime=_i,oe.pastFuture=Fi,oe.set=ie,oe.eras=Mw,oe.erasParse=Lw,oe.erasConvertYear=Nw,oe.erasAbbrRegex=Uw,oe.erasNameRegex=Ww,oe.erasNarrowRegex=zw,oe.months=Eg,oe.monthsShort=Cg,oe.monthsParse=Tg,oe.monthsRegex=Fg,oe.monthsShortRegex=_g,oe.week=Ig,oe.firstDayOfYear=Rg,oe.firstDayOfWeek=Dg,oe.weekdays=zg,oe.weekdaysMin=Gg,oe.weekdaysShort=Hg,oe.weekdaysParse=jg,oe.weekdaysRegex=Jg,oe.weekdaysShortRegex=Qg,oe.weekdaysMinRegex=e0,oe.isPM=n0,oe.meridiem=s0;function zi(s,a,c,h){var y=Ht(),k=w().set(h,a);return y[c](k,s)}function Sc(s,a,c){if(d(s)&&(a=s,s=void 0),s=s||"",a!=null)return zi(s,a,c,"month");var h,y=[];for(h=0;h<12;h++)y[h]=zi(s,h,c,"month");return y}function Fa(s,a,c,h){typeof s=="boolean"?(d(a)&&(c=a,a=void 0),a=a||""):(a=s,c=a,s=!1,d(a)&&(c=a,a=void 0),a=a||"");var y=Ht(),k=s?y._week.dow:0,C,R=[];if(c!=null)return zi(a,(c+k)%7,h,"day");for(C=0;C<7;C++)R[C]=zi(a,(C+k)%7,h,"day");return R}function cy(s,a){return Sc(s,a,"months")}function dy(s,a){return Sc(s,a,"monthsShort")}function fy(s,a,c){return Fa(s,a,c,"weekdays")}function hy(s,a,c){return Fa(s,a,c,"weekdaysShort")}function py(s,a,c){return Fa(s,a,c,"weekdaysMin")}cn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var a=s%10,c=ee(s%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return s+c}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",cn),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",Ht);var Gt=Math.abs;function my(){var s=this._data;return this._milliseconds=Gt(this._milliseconds),this._days=Gt(this._days),this._months=Gt(this._months),s.milliseconds=Gt(s.milliseconds),s.seconds=Gt(s.seconds),s.minutes=Gt(s.minutes),s.hours=Gt(s.hours),s.months=Gt(s.months),s.years=Gt(s.years),this}function _c(s,a,c,h){var y=St(a,c);return s._milliseconds+=h*y._milliseconds,s._days+=h*y._days,s._months+=h*y._months,s._bubble()}function gy(s,a){return _c(this,s,a,1)}function wy(s,a){return _c(this,s,a,-1)}function Fc(s){return s<0?Math.floor(s):Math.ceil(s)}function yy(){var s=this._milliseconds,a=this._days,c=this._months,h=this._data,y,k,C,R,H;return s>=0&&a>=0&&c>=0||s<=0&&a<=0&&c<=0||(s+=Fc(Pa(c)+a)*864e5,a=0,c=0),h.milliseconds=s%1e3,y=ft(s/1e3),h.seconds=y%60,k=ft(y/60),h.minutes=k%60,C=ft(k/60),h.hours=C%24,a+=ft(C/24),H=ft(Pc(a)),c+=H,a-=Fc(Pa(H)),R=ft(c/12),c%=12,h.days=a,h.months=c,h.years=R,this}function Pc(s){return s*4800/146097}function Pa(s){return s*146097/4800}function by(s){if(!this.isValid())return NaN;var a,c,h=this._milliseconds;if(s=ze(s),s==="month"||s==="quarter"||s==="year")switch(a=this._days+h/864e5,c=this._months+Pc(a),s){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Pa(this._months)),s){case"week":return a/7+h/6048e5;case"day":return a+h/864e5;case"hour":return a*24+h/36e5;case"minute":return a*1440+h/6e4;case"second":return a*86400+h/1e3;case"millisecond":return Math.floor(a*864e5)+h;default:throw new Error("Unknown unit "+s)}}function qt(s){return function(){return this.as(s)}}var Ic=qt("ms"),ky=qt("s"),Ay=qt("m"),vy=qt("h"),Ey=qt("d"),Cy=qt("w"),xy=qt("M"),Ty=qt("Q"),Sy=qt("y"),_y=Ic;function Fy(){return St(this)}function Py(s){return s=ze(s),this.isValid()?this[s+"s"]():NaN}function Pn(s){return function(){return this.isValid()?this._data[s]:NaN}}var Iy=Pn("milliseconds"),Oy=Pn("seconds"),Dy=Pn("minutes"),Ry=Pn("hours"),My=Pn("days"),Ly=Pn("months"),Ny=Pn("years");function By(){return ft(this.days()/7)}var jt=Math.round,nr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $y(s,a,c,h,y){return y.relativeTime(a||1,!!c,s,h)}function Vy(s,a,c,h){var y=St(s).abs(),k=jt(y.as("s")),C=jt(y.as("m")),R=jt(y.as("h")),H=jt(y.as("d")),te=jt(y.as("M")),qe=jt(y.as("w")),Kt=jt(y.as("y")),fn=k<=c.ss&&["s",k]||k<c.s&&["ss",k]||C<=1&&["m"]||C<c.m&&["mm",C]||R<=1&&["h"]||R<c.h&&["hh",R]||H<=1&&["d"]||H<c.d&&["dd",H];return c.w!=null&&(fn=fn||qe<=1&&["w"]||qe<c.w&&["ww",qe]),fn=fn||te<=1&&["M"]||te<c.M&&["MM",te]||Kt<=1&&["y"]||["yy",Kt],fn[2]=a,fn[3]=+s>0,fn[4]=h,$y.apply(null,fn)}function Yy(s){return s===void 0?jt:typeof s=="function"?(jt=s,!0):!1}function Wy(s,a){return nr[s]===void 0?!1:a===void 0?nr[s]:(nr[s]=a,s==="s"&&(nr.ss=a-1),!0)}function Uy(s,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,h=nr,y,k;return typeof s=="object"&&(a=s,s=!1),typeof s=="boolean"&&(c=s),typeof a=="object"&&(h=Object.assign({},nr,a),a.s!=null&&a.ss==null&&(h.ss=a.s-1)),y=this.localeData(),k=Vy(this,!c,h,y),c&&(k=y.pastFuture(+this,k)),y.postformat(k)}var Ia=Math.abs;function rr(s){return(s>0)-(s<0)||+s}function Hi(){if(!this.isValid())return this.localeData().invalidDate();var s=Ia(this._milliseconds)/1e3,a=Ia(this._days),c=Ia(this._months),h,y,k,C,R=this.asSeconds(),H,te,qe,Kt;return R?(h=ft(s/60),y=ft(h/60),s%=60,h%=60,k=ft(c/12),c%=12,C=s?s.toFixed(3).replace(/\.?0+$/,""):"",H=R<0?"-":"",te=rr(this._months)!==rr(R)?"-":"",qe=rr(this._days)!==rr(R)?"-":"",Kt=rr(this._milliseconds)!==rr(R)?"-":"",H+"P"+(k?te+k+"Y":"")+(c?te+c+"M":"")+(a?qe+a+"D":"")+(y||h||s?"T":"")+(y?Kt+y+"H":"")+(h?Kt+h+"M":"")+(s?Kt+C+"S":"")):"P0D"}var re=Bi.prototype;re.isValid=L0,re.abs=my,re.add=gy,re.subtract=wy,re.as=by,re.asMilliseconds=Ic,re.asSeconds=ky,re.asMinutes=Ay,re.asHours=vy,re.asDays=Ey,re.asWeeks=Cy,re.asMonths=xy,re.asQuarters=Ty,re.asYears=Sy,re.valueOf=_y,re._bubble=yy,re.clone=Fy,re.get=Py,re.milliseconds=Iy,re.seconds=Oy,re.minutes=Dy,re.hours=Ry,re.days=My,re.weeks=By,re.months=Ly,re.years=Ny,re.humanize=Uy,re.toISOString=Hi,re.toString=Hi,re.toJSON=Hi,re.locale=wc,re.localeData=bc,re.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hi),re.lang=yc,b("X",0,0,"unix"),b("x",0,0,"valueOf"),N("x",Ft),N("X",xt),ce("X",function(s,a,c){c._d=new Date(parseFloat(s)*1e3)}),ce("x",function(s,a,c){c._d=new Date(ee(s))});return e.version="2.30.1",n(fe),e.fn=I,e.min=O0,e.max=D0,e.now=R0,e.utc=w,e.unix=ly,e.months=cy,e.isDate=p,e.locale=cn,e.invalid=E,e.duration=St,e.isMoment=x,e.weekdays=fy,e.parseZone=uy,e.localeData=Ht,e.isDuration=$i,e.monthsShort=dy,e.weekdaysMin=py,e.defineLocale=ya,e.updateLocale=u0,e.locales=c0,e.weekdaysShort=hy,e.normalizeUnits=ze,e.relativeTimeRounding=Yy,e.relativeTimeThreshold=Wy,e.calendarFormat=sw,e.prototype=I,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Mc=Y((E2,Rc)=>{var sr=1e3,or=sr*60,ar=or*60,In=ar*24,Xy=In*7,Zy=In*365.25;Rc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Jy(t);if(n==="number"&&isFinite(t))return e.long?eb(t):Qy(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Jy(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Zy;case"weeks":case"week":case"w":return n*Xy;case"days":case"day":case"d":return n*In;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ar;case"minutes":case"minute":case"mins":case"min":case"m":return n*or;case"seconds":case"second":case"secs":case"sec":case"s":return n*sr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Qy(t){var e=Math.abs(t);return e>=In?Math.round(t/In)+"d":e>=ar?Math.round(t/ar)+"h":e>=or?Math.round(t/or)+"m":e>=sr?Math.round(t/sr)+"s":t+"ms"}function eb(t){var e=Math.abs(t);return e>=In?qi(t,e,In,"day"):e>=ar?qi(t,e,ar,"hour"):e>=or?qi(t,e,or,"minute"):e>=sr?qi(t,e,sr,"second"):t+" ms"}function qi(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var Da=Y((C2,Lc)=>{function tb(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=i,n.enabled=u,n.humanize=Mc(),n.destroy=p,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let m=0;for(let w=0;w<f.length;w++)m=(m<<5)-m+f.charCodeAt(w),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(f){let m,w=null,g,v;function F(...T){if(!F.enabled)return;let E=F,S=Number(new Date),P=S-(m||S);E.diff=P,E.prev=m,E.curr=S,m=S,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let W=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(x,ne)=>{if(x==="%%")return"%";W++;let X=n.formatters[ne];if(typeof X=="function"){let Z=T[W];x=X.call(E,Z),T.splice(W,1),W--}return x}),n.formatArgs.call(E,T),(E.log||n.log).apply(E,T)}return F.namespace=f,F.useColors=n.useColors(),F.color=n.selectColor(f),F.extend=r,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(g!==n.namespaces&&(g=n.namespaces,v=n.enabled(f)),v),set:T=>{w=T}}),typeof n.init=="function"&&n.init(F),F}function r(f,m){let w=n(this.namespace+(typeof m>"u"?":":m)+f);return w.log=this.log,w}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let m=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of m)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function o(f,m){let w=0,g=0,v=-1,F=0;for(;w<f.length;)if(g<m.length&&(m[g]===f[w]||m[g]==="*"))m[g]==="*"?(v=g,F=w,g++):(w++,g++);else if(v!==-1)g=v+1,F++,w=F;else return!1;for(;g<m.length&&m[g]==="*";)g++;return g===m.length}function l(){let f=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),f}function u(f){for(let m of n.skips)if(o(f,m))return!1;for(let m of n.names)if(o(f,m))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Lc.exports=tb});var Nc=Y((tt,ji)=>{tt.formatArgs=rb;tt.save=ib;tt.load=sb;tt.useColors=nb;tt.storage=ob();tt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();tt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function nb(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ji.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}tt.log=console.debug||console.log||(()=>{});function ib(t){try{t?tt.storage.setItem("debug",t):tt.storage.removeItem("debug")}catch{}}function sb(){let t;try{t=tt.storage.getItem("debug")||tt.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function ob(){try{return localStorage}catch{}}ji.exports=Da()(tt);var{formatters:ab}=ji.exports;ab.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var $c=Y((x2,Bc)=>{"use strict";Bc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Wc=Y((T2,Yc)=>{"use strict";var lb=require("os"),Vc=require("tty"),ht=$c(),{env:Fe}=process,hn;ht("no-color")||ht("no-colors")||ht("color=false")||ht("color=never")?hn=0:(ht("color")||ht("colors")||ht("color=true")||ht("color=always"))&&(hn=1);"FORCE_COLOR"in Fe&&(Fe.FORCE_COLOR==="true"?hn=1:Fe.FORCE_COLOR==="false"?hn=0:hn=Fe.FORCE_COLOR.length===0?1:Math.min(parseInt(Fe.FORCE_COLOR,10),3));function Ra(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ma(t,e){if(hn===0)return 0;if(ht("color=16m")||ht("color=full")||ht("color=truecolor"))return 3;if(ht("color=256"))return 2;if(t&&!e&&hn===void 0)return 0;let n=hn||0;if(Fe.TERM==="dumb")return n;if(process.platform==="win32"){let r=lb.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Fe)||Fe.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fe.TEAMCITY_VERSION)?1:0;if(Fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fe){let r=parseInt((Fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fe.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fe.TERM)||"COLORTERM"in Fe?1:n}function ub(t){let e=Ma(t,t&&t.isTTY);return Ra(e)}Yc.exports={supportsColor:ub,stdout:Ra(Ma(!0,Vc.isatty(1))),stderr:Ra(Ma(!0,Vc.isatty(2)))}});var zc=Y((Pe,Xi)=>{var cb=require("tty"),Ki=require("util");Pe.init=wb;Pe.log=pb;Pe.formatArgs=fb;Pe.save=mb;Pe.load=gb;Pe.useColors=db;Pe.destroy=Ki.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pe.colors=[6,2,3,4,5,1];try{let t=Wc();t&&(t.stderr||t).level>=2&&(Pe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function db(){return"colors"in Pe.inspectOpts?!!Pe.inspectOpts.colors:cb.isatty(process.stderr.fd)}function fb(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+Xi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=hb()+e+" "+t[0]}function hb(){return Pe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function pb(...t){return process.stderr.write(Ki.formatWithOptions(Pe.inspectOpts,...t)+`
`)}function mb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function gb(){return process.env.DEBUG}function wb(t){t.inspectOpts={};let e=Object.keys(Pe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Pe.inspectOpts[e[n]]}Xi.exports=Da()(Pe);var{formatters:Uc}=Xi.exports;Uc.o=function(t){return this.inspectOpts.colors=this.useColors,Ki.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Uc.O=function(t){return this.inspectOpts.colors=this.useColors,Ki.inspect(t,this.inspectOpts)}});var Hc=Y((S2,La)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?La.exports=Nc():La.exports=zc()});var bd=Y((oT,yd)=>{"use strict";function Dt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function wd(t,e){for(var n="",r=0,i=-1,o=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=u,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,o=0}else l===46&&o!==-1?++o:o=-1}return n}function Gb(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var hr={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),Dt(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=wd(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Dt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=wd(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Dt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Dt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":hr.normalize(e)},relative:function(e,n){if(Dt(e),Dt(n),e===n||(e=hr.resolve(e),n=hr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,d=u-l,p=o<d?o:d,f=-1,m=0;m<=p;++m){if(m===p){if(d>p){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else o>p&&(e.charCodeAt(r+m)===47?f=m:m===0&&(f=0));break}var w=e.charCodeAt(r+m),g=n.charCodeAt(l+m);if(w!==g)break;w===47&&(f=m)}var v="";for(m=r+f+1;m<=i;++m)(m===i||e.charCodeAt(m)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(l+f):(l+=f,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Dt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,o=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!o){i=l;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Dt(e);var r=0,i=-1,o=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!o){r=l+1;break}}else d===-1&&(o=!1,d=l+1),u>=0&&(p===n.charCodeAt(u)?--u===-1&&(i=l):(u=-1,i=d))}return r===i?i=d:i===-1&&(i=e.length),e.slice(r,i)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!o){r=l+1;break}}else i===-1&&(o=!1,i=l+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Dt(e);for(var n=-1,r=0,i=-1,o=!0,l=0,u=e.length-1;u>=0;--u){var d=e.charCodeAt(u);if(d===47){if(!o){r=u+1;break}continue}i===-1&&(o=!1,i=u+1),d===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||i===-1||l===0||l===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Gb("/",e)},parse:function(e){Dt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,o;i?(n.root="/",o=1):o=0;for(var l=-1,u=0,d=-1,p=!0,f=e.length-1,m=0;f>=o;--f){if(r=e.charCodeAt(f),r===47){if(!p){u=f+1;break}continue}d===-1&&(p=!1,d=f+1),r===46?l===-1?l=f:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===u+1?d!==-1&&(u===0&&i?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(u,d)):(u===0&&i?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(u,l),n.base=e.slice(u,d)),n.ext=e.slice(l,d)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};hr.posix=hr;yd.exports=hr});var Gf=Y((EI,Hf)=>{"use strict";var Fs=Object.prototype.hasOwnProperty,zf=Object.prototype.toString,Bf=Object.defineProperty,$f=Object.getOwnPropertyDescriptor,Vf=function(e){return typeof Array.isArray=="function"?Array.isArray(e):zf.call(e)==="[object Array]"},Yf=function(e){if(!e||zf.call(e)!=="[object Object]")return!1;var n=Fs.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Fs.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Fs.call(e,i)},Wf=function(e,n){Bf&&n.name==="__proto__"?Bf(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Uf=function(e,n){if(n==="__proto__")if(Fs.call(e,n)){if($f)return $f(e,n).value}else return;return e[n]};Hf.exports=function t(){var e,n,r,i,o,l,u=arguments[0],d=1,p=arguments.length,f=!1;for(typeof u=="boolean"&&(f=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<p;++d)if(e=arguments[d],e!=null)for(n in e)r=Uf(u,n),i=Uf(e,n),u!==i&&(f&&i&&(Yf(i)||(o=Vf(i)))?(o?(o=!1,l=r&&Vf(r)?r:[]):l=r&&Yf(r)?r:{},Wf(u,{name:n,newValue:t(f,l,i)})):typeof i<"u"&&Wf(u,{name:n,newValue:i}));return u}});var xh=Y((Hs,Ch)=>{(function(t,e){typeof Hs=="object"&&typeof Ch<"u"?e(Hs):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Hs,function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=T=>{if(typeof T!="string")throw new TypeError("Invalid argument expected string");let E=T.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${T}' received)`);return E.shift(),E},r=T=>T==="*"||T==="x"||T==="X",i=T=>{let E=parseInt(T,10);return isNaN(E)?T:E},o=(T,E)=>typeof T!=typeof E?[String(T),String(E)]:[T,E],l=(T,E)=>{if(r(T)||r(E))return 0;let[S,P]=o(i(T),i(E));return S>P?1:S<P?-1:0},u=(T,E)=>{for(let S=0;S<Math.max(T.length,E.length);S++){let P=l(T[S]||"0",E[S]||"0");if(P!==0)return P}return 0},d=(T,E)=>{let S=n(T),P=n(E),W=S.pop(),U=P.pop(),x=u(S,P);return x!==0?x:W&&U?u(W.split("."),U.split(".")):W||U?W?-1:1:0},p=(T,E,S)=>{w(S);let P=d(T,E);return f[S].includes(P)},f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(f),w=T=>{if(typeof T!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof T}`);if(m.indexOf(T)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},g=(T,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(se=>g(T,se));if(E.includes(" - ")){let[se,we]=E.split(" - ",2);return g(T,`>=${se} <=${we}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(se=>g(T,se));let S=E.match(/^([<>=~^]+)/),P=S?S[1]:"=";if(P!=="^"&&P!=="~")return p(T,E,P);let[W,U,x,,ne]=n(T),[X,Z,ae,,de]=n(E),ie=[W,U,x],V=[X,Z??"x",ae??"x"];if(de&&(!ne||u(ie,V)!==0||u(ne.split("."),de.split("."))===-1))return!1;let G=V.findIndex(se=>se!=="0")+1,z=P==="~"?2:G>1?G:1;return!(u(ie.slice(0,z),V.slice(0,z))!==0||u(ie.slice(z),V.slice(z))===-1)},v=T=>typeof T=="string"&&/^[v\d]/.test(T)&&e.test(T),F=T=>typeof T=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(T);t.compare=p,t.compareVersions=d,t.satisfies=g,t.validate=v,t.validateStrict=F})});var zh=Y((lu,uu)=>{(function(t,e,n){typeof lu=="object"?(uu.exports=n(),uu.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",lu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var o=e[i.locale]||{},l=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,d=r.normalize().split("").reduce(function(p,f){var m=o[f];return m===void 0&&(m=t[f]),m===void 0&&(m=f),m===l&&(m=" "),p+m.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),u&&(d=d.trim()),d=d.replace(/\s+/g,l),i.lower&&(d=d.toLowerCase()),d}return n.extend=function(r){Object.assign(t,r)},n})});var ki=Y((IM,sp)=>{"use strict";var mE="2.0.0",gE=Number.MAX_SAFE_INTEGER||9007199254740991,wE=16,yE=250,bE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];sp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:wE,MAX_SAFE_BUILD_LENGTH:yE,MAX_SAFE_INTEGER:gE,RELEASE_TYPES:bE,SEMVER_SPEC_VERSION:mE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ai=Y((OM,op)=>{"use strict";var kE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};op.exports=kE});var Or=Y((Bt,ap)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:bu,MAX_SAFE_BUILD_LENGTH:AE,MAX_LENGTH:vE}=ki(),EE=Ai();Bt=ap.exports={};var CE=Bt.re=[],xE=Bt.safeRe=[],M=Bt.src=[],TE=Bt.safeSrc=[],L=Bt.t={},SE=0,ku="[a-zA-Z0-9-]",_E=[["\\s",1],["\\d",vE],[ku,AE]],FE=t=>{for(let[e,n]of _E)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},K=(t,e,n)=>{let r=FE(e),i=SE++;EE(t,i,e),L[t]=i,M[i]=e,TE[i]=r,CE[i]=new RegExp(e,n?"g":void 0),xE[i]=new RegExp(r,n?"g":void 0)};K("NUMERICIDENTIFIER","0|[1-9]\\d*");K("NUMERICIDENTIFIERLOOSE","\\d+");K("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ku}*`);K("MAINVERSION",`(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})`);K("MAINVERSIONLOOSE",`(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASEIDENTIFIER",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIER]})`);K("PRERELEASEIDENTIFIERLOOSE",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASE",`(?:-(${M[L.PRERELEASEIDENTIFIER]}(?:\\.${M[L.PRERELEASEIDENTIFIER]})*))`);K("PRERELEASELOOSE",`(?:-?(${M[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[L.PRERELEASEIDENTIFIERLOOSE]})*))`);K("BUILDIDENTIFIER",`${ku}+`);K("BUILD",`(?:\\+(${M[L.BUILDIDENTIFIER]}(?:\\.${M[L.BUILDIDENTIFIER]})*))`);K("FULLPLAIN",`v?${M[L.MAINVERSION]}${M[L.PRERELEASE]}?${M[L.BUILD]}?`);K("FULL",`^${M[L.FULLPLAIN]}$`);K("LOOSEPLAIN",`[v=\\s]*${M[L.MAINVERSIONLOOSE]}${M[L.PRERELEASELOOSE]}?${M[L.BUILD]}?`);K("LOOSE",`^${M[L.LOOSEPLAIN]}$`);K("GTLT","((?:<|>)?=?)");K("XRANGEIDENTIFIERLOOSE",`${M[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);K("XRANGEIDENTIFIER",`${M[L.NUMERICIDENTIFIER]}|x|X|\\*`);K("XRANGEPLAIN",`[v=\\s]*(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:${M[L.PRERELEASE]})?${M[L.BUILD]}?)?)?`);K("XRANGEPLAINLOOSE",`[v=\\s]*(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:${M[L.PRERELEASELOOSE]})?${M[L.BUILD]}?)?)?`);K("XRANGE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAIN]}$`);K("XRANGELOOSE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAINLOOSE]}$`);K("COERCEPLAIN",`(^|[^\\d])(\\d{1,${bu}})(?:\\.(\\d{1,${bu}}))?(?:\\.(\\d{1,${bu}}))?`);K("COERCE",`${M[L.COERCEPLAIN]}(?:$|[^\\d])`);K("COERCEFULL",M[L.COERCEPLAIN]+`(?:${M[L.PRERELEASE]})?(?:${M[L.BUILD]})?(?:$|[^\\d])`);K("COERCERTL",M[L.COERCE],!0);K("COERCERTLFULL",M[L.COERCEFULL],!0);K("LONETILDE","(?:~>?)");K("TILDETRIM",`(\\s*)${M[L.LONETILDE]}\\s+`,!0);Bt.tildeTrimReplace="$1~";K("TILDE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAIN]}$`);K("TILDELOOSE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAINLOOSE]}$`);K("LONECARET","(?:\\^)");K("CARETTRIM",`(\\s*)${M[L.LONECARET]}\\s+`,!0);Bt.caretTrimReplace="$1^";K("CARET",`^${M[L.LONECARET]}${M[L.XRANGEPLAIN]}$`);K("CARETLOOSE",`^${M[L.LONECARET]}${M[L.XRANGEPLAINLOOSE]}$`);K("COMPARATORLOOSE",`^${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]})$|^$`);K("COMPARATOR",`^${M[L.GTLT]}\\s*(${M[L.FULLPLAIN]})$|^$`);K("COMPARATORTRIM",`(\\s*)${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]}|${M[L.XRANGEPLAIN]})`,!0);Bt.comparatorTrimReplace="$1$2$3";K("HYPHENRANGE",`^\\s*(${M[L.XRANGEPLAIN]})\\s+-\\s+(${M[L.XRANGEPLAIN]})\\s*$`);K("HYPHENRANGELOOSE",`^\\s*(${M[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[L.XRANGEPLAINLOOSE]})\\s*$`);K("STAR","(<|>)?=?\\s*\\*");K("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");K("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var mo=Y((DM,lp)=>{"use strict";var PE=Object.freeze({loose:!0}),IE=Object.freeze({}),OE=t=>t?typeof t!="object"?PE:t:IE;lp.exports=OE});var Au=Y((RM,dp)=>{"use strict";var up=/^[0-9]+$/,cp=(t,e)=>{let n=up.test(t),r=up.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},DE=(t,e)=>cp(e,t);dp.exports={compareIdentifiers:cp,rcompareIdentifiers:DE}});var Ye=Y((MM,hp)=>{"use strict";var go=Ai(),{MAX_LENGTH:fp,MAX_SAFE_INTEGER:wo}=ki(),{safeRe:yo,t:bo}=Or(),RE=mo(),{compareIdentifiers:Dr}=Au(),vu=class t{constructor(e,n){if(n=RE(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>fp)throw new TypeError(`version is longer than ${fp} characters`);go("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?yo[bo.LOOSE]:yo[bo.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>wo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>wo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>wo||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<wo)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(go("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Dr(this.major,e.major)||Dr(this.minor,e.minor)||Dr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(go("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Dr(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(go("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Dr(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?yo[bo.PRERELEASELOOSE]:yo[bo.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Dr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};hp.exports=vu});var jn=Y((LM,mp)=>{"use strict";var pp=Ye(),ME=(t,e,n=!1)=>{if(t instanceof pp)return t;try{return new pp(t,e)}catch(r){if(!n)return null;throw r}};mp.exports=ME});var wp=Y((NM,gp)=>{"use strict";var LE=jn(),NE=(t,e)=>{let n=LE(t,e);return n?n.version:null};gp.exports=NE});var bp=Y((BM,yp)=>{"use strict";var BE=jn(),$E=(t,e)=>{let n=BE(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};yp.exports=$E});var vp=Y(($M,Ap)=>{"use strict";var kp=Ye(),VE=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new kp(t instanceof kp?t.version:t,n).inc(e,r,i).version}catch{return null}};Ap.exports=VE});var xp=Y((VM,Cp)=>{"use strict";var Ep=jn(),YE=(t,e)=>{let n=Ep(t,null,!0),r=Ep(e,null,!0),i=n.compare(r);if(i===0)return null;let o=i>0,l=o?n:r,u=o?r:n,d=!!l.prerelease.length;if(!!u.prerelease.length&&!d){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}let f=d?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"};Cp.exports=YE});var Sp=Y((YM,Tp)=>{"use strict";var WE=Ye(),UE=(t,e)=>new WE(t,e).major;Tp.exports=UE});var Fp=Y((WM,_p)=>{"use strict";var zE=Ye(),HE=(t,e)=>new zE(t,e).minor;_p.exports=HE});var Ip=Y((UM,Pp)=>{"use strict";var GE=Ye(),qE=(t,e)=>new GE(t,e).patch;Pp.exports=qE});var Dp=Y((zM,Op)=>{"use strict";var jE=jn(),KE=(t,e)=>{let n=jE(t,e);return n&&n.prerelease.length?n.prerelease:null};Op.exports=KE});var kt=Y((HM,Mp)=>{"use strict";var Rp=Ye(),XE=(t,e,n)=>new Rp(t,n).compare(new Rp(e,n));Mp.exports=XE});var Np=Y((GM,Lp)=>{"use strict";var ZE=kt(),JE=(t,e,n)=>ZE(e,t,n);Lp.exports=JE});var $p=Y((qM,Bp)=>{"use strict";var QE=kt(),eC=(t,e)=>QE(t,e,!0);Bp.exports=eC});var ko=Y((jM,Yp)=>{"use strict";var Vp=Ye(),tC=(t,e,n)=>{let r=new Vp(t,n),i=new Vp(e,n);return r.compare(i)||r.compareBuild(i)};Yp.exports=tC});var Up=Y((KM,Wp)=>{"use strict";var nC=ko(),rC=(t,e)=>t.sort((n,r)=>nC(n,r,e));Wp.exports=rC});var Hp=Y((XM,zp)=>{"use strict";var iC=ko(),sC=(t,e)=>t.sort((n,r)=>iC(r,n,e));zp.exports=sC});var vi=Y((ZM,Gp)=>{"use strict";var oC=kt(),aC=(t,e,n)=>oC(t,e,n)>0;Gp.exports=aC});var Ao=Y((JM,qp)=>{"use strict";var lC=kt(),uC=(t,e,n)=>lC(t,e,n)<0;qp.exports=uC});var Eu=Y((QM,jp)=>{"use strict";var cC=kt(),dC=(t,e,n)=>cC(t,e,n)===0;jp.exports=dC});var Cu=Y((eL,Kp)=>{"use strict";var fC=kt(),hC=(t,e,n)=>fC(t,e,n)!==0;Kp.exports=hC});var vo=Y((tL,Xp)=>{"use strict";var pC=kt(),mC=(t,e,n)=>pC(t,e,n)>=0;Xp.exports=mC});var Eo=Y((nL,Zp)=>{"use strict";var gC=kt(),wC=(t,e,n)=>gC(t,e,n)<=0;Zp.exports=wC});var xu=Y((rL,Jp)=>{"use strict";var yC=Eu(),bC=Cu(),kC=vi(),AC=vo(),vC=Ao(),EC=Eo(),CC=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return yC(t,n,r);case"!=":return bC(t,n,r);case">":return kC(t,n,r);case">=":return AC(t,n,r);case"<":return vC(t,n,r);case"<=":return EC(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Jp.exports=CC});var em=Y((iL,Qp)=>{"use strict";var xC=Ye(),TC=jn(),{safeRe:Co,t:xo}=Or(),SC=(t,e)=>{if(t instanceof xC)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Co[xo.COERCEFULL]:Co[xo.COERCE]);else{let d=e.includePrerelease?Co[xo.COERCERTLFULL]:Co[xo.COERCERTL],p;for(;(p=d.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||p.index+p[0].length!==n.index+n[0].length)&&(n=p),d.lastIndex=p.index+p[1].length+p[2].length;d.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",o=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return TC(`${r}.${i}.${o}${l}${u}`,e)};Qp.exports=SC});var nm=Y((sL,tm)=>{"use strict";var Tu=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};tm.exports=Tu});var At=Y((oL,om)=>{"use strict";var _C=/\s+/g,Su=class t{constructor(e,n){if(n=PC(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof _u)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(_C," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!im(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&NC(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&MC)|(this.options.loose&&LC))+":"+e,i=rm.get(r);if(i)return i;let o=this.options.loose,l=o?st[Ze.HYPHENRANGELOOSE]:st[Ze.HYPHENRANGE];e=e.replace(l,qC(this.options.includePrerelease)),he("hyphen replace",e),e=e.replace(st[Ze.COMPARATORTRIM],OC),he("comparator trim",e),e=e.replace(st[Ze.TILDETRIM],DC),he("tilde trim",e),e=e.replace(st[Ze.CARETTRIM],RC),he("caret trim",e);let u=e.split(" ").map(m=>BC(m,this.options)).join(" ").split(/\s+/).map(m=>GC(m,this.options));o&&(u=u.filter(m=>(he("loose invalid filter",m,this.options),!!m.match(st[Ze.COMPARATORLOOSE])))),he("range list",u);let d=new Map,p=u.map(m=>new _u(m,this.options));for(let m of p){if(im(m))return[m];d.set(m.value,m)}d.size>1&&d.has("")&&d.delete("");let f=[...d.values()];return rm.set(r,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>sm(r,n)&&e.set.some(i=>sm(i,n)&&r.every(o=>i.every(l=>o.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new IC(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(jC(this.set[n],e,this.options))return!0;return!1}};om.exports=Su;var FC=nm(),rm=new FC,PC=mo(),_u=Ei(),he=Ai(),IC=Ye(),{safeRe:st,t:Ze,comparatorTrimReplace:OC,tildeTrimReplace:DC,caretTrimReplace:RC}=Or(),{FLAG_INCLUDE_PRERELEASE:MC,FLAG_LOOSE:LC}=ki(),im=t=>t.value==="<0.0.0-0",NC=t=>t.value==="",sm=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,e)),i=r.pop();return n},BC=(t,e)=>(he("comp",t,e),t=YC(t,e),he("caret",t),t=$C(t,e),he("tildes",t),t=UC(t,e),he("xrange",t),t=HC(t,e),he("stars",t),t),Je=t=>!t||t.toLowerCase()==="x"||t==="*",$C=(t,e)=>t.trim().split(/\s+/).map(n=>VC(n,e)).join(" "),VC=(t,e)=>{let n=e.loose?st[Ze.TILDELOOSE]:st[Ze.TILDE];return t.replace(n,(r,i,o,l,u)=>{he("tilde",t,r,i,o,l,u);let d;return Je(i)?d="":Je(o)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:Je(l)?d=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:u?(he("replaceTilde pr",u),d=`>=${i}.${o}.${l}-${u} <${i}.${+o+1}.0-0`):d=`>=${i}.${o}.${l} <${i}.${+o+1}.0-0`,he("tilde return",d),d})},YC=(t,e)=>t.trim().split(/\s+/).map(n=>WC(n,e)).join(" "),WC=(t,e)=>{he("caret",t,e);let n=e.loose?st[Ze.CARETLOOSE]:st[Ze.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,o,l,u,d)=>{he("caret",t,i,o,l,u,d);let p;return Je(o)?p="":Je(l)?p=`>=${o}.0.0${r} <${+o+1}.0.0-0`:Je(u)?o==="0"?p=`>=${o}.${l}.0${r} <${o}.${+l+1}.0-0`:p=`>=${o}.${l}.0${r} <${+o+1}.0.0-0`:d?(he("replaceCaret pr",d),o==="0"?l==="0"?p=`>=${o}.${l}.${u}-${d} <${o}.${l}.${+u+1}-0`:p=`>=${o}.${l}.${u}-${d} <${o}.${+l+1}.0-0`:p=`>=${o}.${l}.${u}-${d} <${+o+1}.0.0-0`):(he("no pr"),o==="0"?l==="0"?p=`>=${o}.${l}.${u}${r} <${o}.${l}.${+u+1}-0`:p=`>=${o}.${l}.${u}${r} <${o}.${+l+1}.0-0`:p=`>=${o}.${l}.${u} <${+o+1}.0.0-0`),he("caret return",p),p})},UC=(t,e)=>(he("replaceXRanges",t,e),t.split(/\s+/).map(n=>zC(n,e)).join(" ")),zC=(t,e)=>{t=t.trim();let n=e.loose?st[Ze.XRANGELOOSE]:st[Ze.XRANGE];return t.replace(n,(r,i,o,l,u,d)=>{he("xRange",t,r,i,o,l,u,d);let p=Je(o),f=p||Je(l),m=f||Je(u),w=m;return i==="="&&w&&(i=""),d=e.includePrerelease?"-0":"",p?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&w?(f&&(l=0),u=0,i===">"?(i=">=",f?(o=+o+1,l=0,u=0):(l=+l+1,u=0)):i==="<="&&(i="<",f?o=+o+1:l=+l+1),i==="<"&&(d="-0"),r=`${i+o}.${l}.${u}${d}`):f?r=`>=${o}.0.0${d} <${+o+1}.0.0-0`:m&&(r=`>=${o}.${l}.0${d} <${o}.${+l+1}.0-0`),he("xRange return",r),r})},HC=(t,e)=>(he("replaceStars",t,e),t.trim().replace(st[Ze.STAR],"")),GC=(t,e)=>(he("replaceGTE0",t,e),t.trim().replace(st[e.includePrerelease?Ze.GTE0PRE:Ze.GTE0],"")),qC=t=>(e,n,r,i,o,l,u,d,p,f,m,w)=>(Je(r)?n="":Je(i)?n=`>=${r}.0.0${t?"-0":""}`:Je(o)?n=`>=${r}.${i}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Je(p)?d="":Je(f)?d=`<${+p+1}.0.0-0`:Je(m)?d=`<${p}.${+f+1}.0-0`:w?d=`<=${p}.${f}.${m}-${w}`:t?d=`<${p}.${f}.${+m+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),jC=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(he(t[r].semver),t[r].semver!==_u.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ei=Y((aL,fm)=>{"use strict";var Ci=Symbol("SemVer ANY"),Iu=class t{static get ANY(){return Ci}constructor(e,n){if(n=am(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Pu("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Ci?this.value="":this.value=this.operator+this.semver.version,Pu("comp",this)}parse(e){let n=this.options.loose?lm[um.COMPARATORLOOSE]:lm[um.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new cm(r[2],this.options.loose):this.semver=Ci}toString(){return this.value}test(e){if(Pu("Comparator.test",e,this.options.loose),this.semver===Ci||e===Ci)return!0;if(typeof e=="string")try{e=new cm(e,this.options)}catch{return!1}return Fu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new dm(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new dm(this.value,n).test(e.semver):(n=am(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Fu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Fu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};fm.exports=Iu;var am=mo(),{safeRe:lm,t:um}=Or(),Fu=xu(),Pu=Ai(),cm=Ye(),dm=At()});var xi=Y((lL,hm)=>{"use strict";var KC=At(),XC=(t,e,n)=>{try{e=new KC(e,n)}catch{return!1}return e.test(t)};hm.exports=XC});var mm=Y((uL,pm)=>{"use strict";var ZC=At(),JC=(t,e)=>new ZC(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));pm.exports=JC});var wm=Y((cL,gm)=>{"use strict";var QC=Ye(),ex=At(),tx=(t,e,n)=>{let r=null,i=null,o=null;try{o=new ex(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new QC(r,n))}),r};gm.exports=tx});var bm=Y((dL,ym)=>{"use strict";var nx=Ye(),rx=At(),ix=(t,e,n)=>{let r=null,i=null,o=null;try{o=new rx(e,n)}catch{return null}return t.forEach(l=>{o.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new nx(r,n))}),r};ym.exports=ix});var vm=Y((fL,Am)=>{"use strict";var Ou=Ye(),sx=At(),km=vi(),ox=(t,e)=>{t=new sx(t,e);let n=new Ou("0.0.0");if(t.test(n)||(n=new Ou("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null;i.forEach(l=>{let u=new Ou(l.semver.version);switch(l.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||km(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!n||km(n,o))&&(n=o)}return n&&t.test(n)?n:null};Am.exports=ox});var Cm=Y((hL,Em)=>{"use strict";var ax=At(),lx=(t,e)=>{try{return new ax(t,e).range||"*"}catch{return null}};Em.exports=lx});var To=Y((pL,_m)=>{"use strict";var ux=Ye(),Sm=Ei(),{ANY:cx}=Sm,dx=At(),fx=xi(),xm=vi(),Tm=Ao(),hx=Eo(),px=vo(),mx=(t,e,n,r)=>{t=new ux(t,r),e=new dx(e,r);let i,o,l,u,d;switch(n){case">":i=xm,o=hx,l=Tm,u=">",d=">=";break;case"<":i=Tm,o=px,l=xm,u="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fx(t,e,r))return!1;for(let p=0;p<e.set.length;++p){let f=e.set[p],m=null,w=null;if(f.forEach(g=>{g.semver===cx&&(g=new Sm(">=0.0.0")),m=m||g,w=w||g,i(g.semver,m.semver,r)?m=g:l(g.semver,w.semver,r)&&(w=g)}),m.operator===u||m.operator===d||(!w.operator||w.operator===u)&&o(t,w.semver))return!1;if(w.operator===d&&l(t,w.semver))return!1}return!0};_m.exports=mx});var Pm=Y((mL,Fm)=>{"use strict";var gx=To(),wx=(t,e,n)=>gx(t,e,">",n);Fm.exports=wx});var Om=Y((gL,Im)=>{"use strict";var yx=To(),bx=(t,e,n)=>yx(t,e,"<",n);Im.exports=bx});var Mm=Y((wL,Rm)=>{"use strict";var Dm=At(),kx=(t,e,n)=>(t=new Dm(t,n),e=new Dm(e,n),t.intersects(e,n));Rm.exports=kx});var Nm=Y((yL,Lm)=>{"use strict";var Ax=xi(),vx=kt();Lm.exports=(t,e,n)=>{let r=[],i=null,o=null,l=t.sort((f,m)=>vx(f,m,n));for(let f of l)Ax(f,e,n)?(o=f,i||(i=f)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let u=[];for(let[f,m]of r)f===m?u.push(f):!m&&f===l[0]?u.push("*"):m?f===l[0]?u.push(`<=${m}`):u.push(`${f} - ${m}`):u.push(`>=${f}`);let d=u.join(" || "),p=typeof e.raw=="string"?e.raw:String(e);return d.length<p.length?d:e}});var Um=Y((bL,Wm)=>{"use strict";var Bm=At(),Ru=Ei(),{ANY:Du}=Ru,Ti=xi(),Mu=kt(),Ex=(t,e,n={})=>{if(t===e)return!0;t=new Bm(t,n),e=new Bm(e,n);let r=!1;e:for(let i of t.set){for(let o of e.set){let l=xx(i,o,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},Cx=[new Ru(">=0.0.0-0")],$m=[new Ru(">=0.0.0")],xx=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Du){if(e.length===1&&e[0].semver===Du)return!0;n.includePrerelease?t=Cx:t=$m}if(e.length===1&&e[0].semver===Du){if(n.includePrerelease)return!0;e=$m}let r=new Set,i,o;for(let g of t)g.operator===">"||g.operator===">="?i=Vm(i,g,n):g.operator==="<"||g.operator==="<="?o=Ym(o,g,n):r.add(g.semver);if(r.size>1)return null;let l;if(i&&o){if(l=Mu(i.semver,o.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let g of r){if(i&&!Ti(g,String(i),n)||o&&!Ti(g,String(o),n))return null;for(let v of e)if(!Ti(g,String(v),n))return!1;return!0}let u,d,p,f,m=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,w=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let g of e){if(f=f||g.operator===">"||g.operator===">=",p=p||g.operator==="<"||g.operator==="<=",i){if(w&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===w.major&&g.semver.minor===w.minor&&g.semver.patch===w.patch&&(w=!1),g.operator===">"||g.operator===">="){if(u=Vm(i,g,n),u===g&&u!==i)return!1}else if(i.operator===">="&&!Ti(i.semver,String(g),n))return!1}if(o){if(m&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===m.major&&g.semver.minor===m.minor&&g.semver.patch===m.patch&&(m=!1),g.operator==="<"||g.operator==="<="){if(d=Ym(o,g,n),d===g&&d!==o)return!1}else if(o.operator==="<="&&!Ti(o.semver,String(g),n))return!1}if(!g.operator&&(o||i)&&l!==0)return!1}return!(i&&p&&!o&&l!==0||o&&f&&!i&&l!==0||w||m)},Vm=(t,e,n)=>{if(!t)return e;let r=Mu(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Ym=(t,e,n)=>{if(!t)return e;let r=Mu(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};Wm.exports=Ex});var qm=Y((kL,Gm)=>{"use strict";var Lu=Or(),zm=ki(),Tx=Ye(),Hm=Au(),Sx=jn(),_x=wp(),Fx=bp(),Px=vp(),Ix=xp(),Ox=Sp(),Dx=Fp(),Rx=Ip(),Mx=Dp(),Lx=kt(),Nx=Np(),Bx=$p(),$x=ko(),Vx=Up(),Yx=Hp(),Wx=vi(),Ux=Ao(),zx=Eu(),Hx=Cu(),Gx=vo(),qx=Eo(),jx=xu(),Kx=em(),Xx=Ei(),Zx=At(),Jx=xi(),Qx=mm(),e2=wm(),t2=bm(),n2=vm(),r2=Cm(),i2=To(),s2=Pm(),o2=Om(),a2=Mm(),l2=Nm(),u2=Um();Gm.exports={parse:Sx,valid:_x,clean:Fx,inc:Px,diff:Ix,major:Ox,minor:Dx,patch:Rx,prerelease:Mx,compare:Lx,rcompare:Nx,compareLoose:Bx,compareBuild:$x,sort:Vx,rsort:Yx,gt:Wx,lt:Ux,eq:zx,neq:Hx,gte:Gx,lte:qx,cmp:jx,coerce:Kx,Comparator:Xx,Range:Zx,satisfies:Jx,toComparators:Qx,maxSatisfying:e2,minSatisfying:t2,minVersion:n2,validRange:r2,outside:i2,gtr:s2,ltr:o2,intersects:a2,simplifyRange:l2,subset:u2,SemVer:Tx,re:Lu.re,src:Lu.src,tokens:Lu.t,SEMVER_SPEC_VERSION:zm.SEMVER_SPEC_VERSION,RELEASE_TYPES:zm.RELEASE_TYPES,compareIdentifiers:Hm.compareIdentifiers,rcompareIdentifiers:Hm.rcompareIdentifiers}});var b2={};Oc(b2,{default:()=>y2});module.exports=Ky(b2);var Hu=require("electron"),Gu=$e(Xt(),1),cg=require("obsidian");var Ua=$e(Hc(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Na="30.4.1",Zi="obsidian-dev-utils",Gc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function qr(t,e){let n=0;for(let r=0;r<t.length;r++){if(!(r in t))continue;let i=t[r];e(i,r,t)&&(t[n++]=i)}t.length=n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var It=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(qr(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(qr(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let o={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(o),o}once(e,n,r){let i=this.on(e,n,r),o=this.on(e,()=>{this.offref(i),this.offref(o)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $a="asyncError",Ba=`Error stack:
`,Qi="An unhandled error occurred executing async operation",Ji=new It;Ji.on($a,yb);function es(t){Ji.trigger($a,t)}function qc(t){return Va(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(Ba)?e.message.slice(Ba.length):e.message)).join(`
`)}function On(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Dn(t,e){e??=globalThis.console;let n=Va(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function jc(t){let e=Ji.on($a,t);return()=>{Ji.offref(e)}}function Zt(t){throw t}function yb(t){Dn(t)}function Va(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let i;return t===null?i="(null)":typeof t=="string"?i=t:i=JSON.stringify(t)??"undefined",n.push({level:e,message:i}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let i=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${Ba}${i}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),Va(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Rn(){}async function Ot(){}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ya=class{constructor(e){this.value=e}};function bb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??Zt(new Error("Obsidian app not found"))}}function Jt(t,e,n){let i=t??kb()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new Ya(n)}function kb(){return typeof window>"u"?null:bb()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Wa="__no-plugin-id-initialized__",Kc=Wa;function ts(){return Kc}function Xc(t){t&&(Kc=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zc=",",ns="-";function Jc(){return{disable:Ab,enable:vb,get:rs,set:jr}}function lr(t,e=0){let n=`${t}:${String(e)}`,r=Jt(null,"debuggers",new Map).value,i=r.get(n);return i||(i=ur()(t),i.log=(o,...l)=>{Eb(t,e,o,...l)},i.printStackTrace=(o,l)=>{td(t,o,l)},r.set(n,i)),i}function pt(t){let e=ts(),n=e===Wa?"":`${e}:`;return lr(`${n}${Zi}:${t}`)}function Qc(t){let e=ur().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=rs();jr(t),lr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),jr(i)}function Ab(t){let e=new Set(rs());for(let n of Kr(t)){if(n.startsWith(ns))continue;let r=ns+n;e.has(n)&&e.delete(n),e.add(r)}jr(Array.from(e))}function vb(t){let e=new Set(rs());for(let n of Kr(t)){if(!n.startsWith(ns)){let r=ns+n;e.has(r)&&e.delete(r)}e.add(n)}jr(Array.from(e))}function rs(){return Kr(ur().load()??"")}function ur(){return typeof window>"u"?Ua.default:Jt(null,"debug",Ua.default).value}function ed(){return typeof window<"u"}function Eb(t,e,n,...r){if(!ur().enabled(t))return;let l=(new Error().stack?.split(`
`)??[])[4+e]??"";console.debug(n,...r),ed()&&td(t,l,"Debug message caller")}function td(t,e,n){let r=ur()(t);if(!r.enabled)return;e||(e="(unavailable)"),(n??"")||(n="Caller stack trace"),r(n);let i=ed()?`StackTraceFakeError
`:"";console.debug(`${i}${e}`)}function jr(t){ur().enable(Kr(t).join(Zc))}function Kr(t){return typeof t=="string"?t.split(Zc).filter(Boolean):t.flatMap(Kr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var za=Number.POSITIVE_INFINITY;async function Ha(t){let e=new Error(Qi);try{await t()}catch(n){e.cause=n,es(e)}}function je(t){return(...e)=>{_e(()=>t(...e))}}function _e(t){Ha(t)}function nd(t,e=0){window.setTimeout(je(async()=>await t()),e)}async function rd(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function is(t,e,n){let r=pt("Async:retryWithTimeout");n??=On(1);let o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};await Ga(o.timeoutInMilliseconds,async()=>{let l=0;for(;;){o.abortSignal?.throwIfAborted(),l++;let u;try{u=await t()}catch(d){if(!o.shouldRetryOnError||d.__terminateRetry)throw d;Dn(d),u=!1}if(u){l>1&&(r(`Retry completed successfully after ${String(l)} attempts`),r.printStackTrace(n));return}r(`Retry attempt ${String(l)} completed unsuccessfully. Trying again in ${String(o.retryDelayInMilliseconds)} milliseconds`,{fn:t}),r.printStackTrace(n),await id(o.retryDelayInMilliseconds)}},{retryFn:t})}async function Ga(t,e,n){let r=!0,i=null,o=performance.now();if(t===za)return await l(),i;if(await Promise.race([l(),u()]),r)throw new Error("Timed out");return i;async function l(){try{i=await e();let d=performance.now()-o;pt("Async:runWithTimeout")(`Execution time: ${String(d)} milliseconds`,{context:n,fn:e})}finally{r=!1}}async function u(){if(!r||(await id(t),!r))return;let d=performance.now()-o;console.warn(`Timed out in ${String(d)} milliseconds`,{context:n,fn:e});let p=pt("Async:runWithTimeout:timeout");p.enabled&&(p(`The execution is not terminated because debugger ${p.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information`),await u())}}async function id(t){await new Promise(e=>{window.setTimeout(e,t)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Cb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}})}async function sd(t,e){let n=await Cb(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",o),i.src=n;function o(){let l=document.createElement("canvas"),u=l.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let d=i.width,p=i.height;l.width=d,l.height=p,u.fillStyle="#fff",u.fillRect(0,0,d,p),u.save();let f=.5;u.translate(d*f,p*f),u.drawImage(i,0,0,d,p,-d*f,-p*f,d,p),u.restore();let m=l.toDataURL("image/jpeg",e),w=xb(m);r(w)}})}function xb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,o=new Uint8Array(i);for(let l=0;l<i;l++)o[l]=r.charCodeAt(l);return o.buffer}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ss(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function od(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Mn(t,...e){return Tb(t)?await t(...e):t}function Tb(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Sb={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},_b={};for(let[t,e]of Object.entries(Sb))_b[e]=t;function ad(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function Xr(t){return me(t,/\u00A0|\u202F/g," ").normalize("NFC")}function me(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let l=typeof i.at(-1)=="object",u=l?i.length-2:i.length-1,d={groups:l?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(u-1),source:i.at(u),substring:r},p=i.slice(0,u-1).map((f,m)=>{if(typeof f=="string")return f;if(typeof f>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(d,...p)??d.substring}))}async function ld(t,e,n){if(typeof n=="string")return me(t,e,n);let r=[];me(t,e,(o,...l)=>(r.push(()=>Mn(n,o,...l)),""));let i=[];for(let o of r)i.push(await o());return me(t,e,o=>i.shift()??o.substring)}function os(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function as(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ud=".",Fb=[{constructor:ArrayBuffer,equalityComparer:Ib},{constructor:Date,equalityComparer:Ob},{constructor:RegExp,equalityComparer:Rb},{constructor:Map,equalityComparer:Db},{constructor:Set,equalityComparer:Mb}];function mt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=Lb(t,e);if(d!==void 0)return d}let i=cr(t),o=cr(e);if(i.length!==o.length)return!1;let l=t,u=e;for(let d of i)if(!o.includes(d)||!mt(l[d],u[d]))return!1;return!0}function cd(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}function cr(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,o]of Object.entries(r)){if(i==="__proto__"||typeof o.value=="function")continue;let l=typeof o.get=="function",u=typeof o.set=="function";if(l||u){l&&u&&e.push(i);continue}o.enumerable&&o.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}function pn(t,e){let n=t,r=e.split(ud);for(let i of r){if(n===void 0)return;n=n[i]}return n}function dd(t){return t==null?t:Object.getPrototypeOf(t)}function ja(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,o=e.split(ud);for(let u of o.slice(0,-1)){if(i===void 0)throw r;i=i[u]}let l=o.at(-1);if(i===void 0||l===void 0)throw r;i[l]=n}function dr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:qa("CircularReference"),maxDepthLimitReached:qa("MaxDepthLimitReached"),toJSONFailed:qa("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],l=ls(t,"",0,!0,r,i,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=me(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,p,f)=>Pb({functionTexts:i,index:f?parseInt(f,10):0,key:p,substitutions:r.tokenSubstitutions})),u}function Pb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??Zt(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function Ib(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return mt(n,r)}function Ob(t,e){return t.getTime()===e.getTime()}function Db(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!mt(r,e.get(n)))return!1;return!0}function Rb(t,e){return t.source===e.source&&t.flags===e.flags}function Mb(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(mt(n,i)){r=!0;break}if(!r)return!1}return!0}function Lb(t,e){for(let{constructor:n,equalityComparer:r}of Fb)if(t instanceof n&&e instanceof n)return r(t,e)}function Nb(t,e,n,r,i,o){return e>r.maxDepth?fr("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>ls(l,String(u),e+1,n,r,i,o))}function Bb(t,e,n){if(n.shouldHandleCircularReferences)return fr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function $b(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),fr("Function",r)}function Vb(t,e,n,r,i,o,l){if(l.has(t))return Bb(t,e,i);if(l.add(t),r){let u=Wb(t,e,n,i,o,l);if(u!==void 0)return u}return Array.isArray(t)?Nb(t,n,r,i,o,l):n>i.maxDepth?fr("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?qc(t):Yb(t,n,r,i,o,l)}function Yb(t,e,n,r,i,o){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[d])=>u.localeCompare(d)),Object.fromEntries(l.map(([u,d])=>[u,ls(d,u,e+1,n,r,i,o)]))}function qa(t){return`{ "[[${t}]]": null }`}function fr(t,e){return`[[${t}${e?String(e):""}]]`}function ls(t,e,n,r,i,o,l){return t===void 0?n===0||i.shouldHandleUndefined?fr("Undefined"):void 0:typeof t=="function"?$b(t,o,i):typeof t!="object"||t===null?t:Vb(t,e,n,r,i,o,l)}function Wb(t,e,n,r,i,o){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return ls(u,e,n,!1,r,i,o)}catch(u){if(r.shouldCatchToJSONErrors)return fr("ToJSONFailed");throw u}}var Ub=require("obsidian"),pd=require("obsidian"),md=require("obsidian"),nT=require("obsidian"),rT=require("obsidian"),fd=class{data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var _t={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},hd={AllProperties:"all-properties",Audio:"audio",Backlink:_t.Backlink,Bookmarks:_t.Bookmarks,Canvas:_t.Canvas,Empty:"empty",FileExplorer:_t.FileExplorer,FileProperties:"file-properties",Graph:_t.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:_t.OutgoingLink,Outline:_t.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function zb(){return pd.TFile}function Hb(){return md.TFolder}function gt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function us(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(Hb())(t.vault,e),n.parent=us(t,gt(e)),n.deleted=!0,n)}function gd(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(zb())(t.vault,e),n.parent=us(t,gt(e)),n.deleted=!0,n)}function Qt(t){return!!t.position}function at(t){return!!t.key}var Ka=$e(bd(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qb=/[a-zA-Z]:\/[^:]*$/,Rt=Ka.default.posix,uT=Rt.delimiter,cT=Ka.default.posix.sep,ke=Rt.basename,ve=Rt.dirname,xe=Rt.extname,dT=Rt.format;var Ee=Rt.join,fT=Rt.normalize,hT=Rt.parse,pr=Rt.relative;function Mt(t,e){return e?`${t}.${e}`:t}function kd(...t){let e=Rt.resolve(...t);return e=jb(e),qb.exec(e)?.[0]??e}function jb(t){return me(t,"\\","/")}var en=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Kb="base",Xb="canvas",vd="md";function Xa(t,e,n){if(wt(e))return e.extension===n;if(typeof e=="string"){let r=nt(t,e);return r?r.extension===n:xe(e).slice(1)===n}return!1}function Ln(t,e,n){if(e===null)return null;if(Ed(e))return e;let r=Ad(t,e,n);if(r)return r;let i=xd(e);return i===e?null:Ad(t,i,n)}function Ie(t,e,n,r){let i=nt(t,e,r);if(!i)if(n)i=gd(t,e);else throw new Error(`File not found: ${e}`);return i}function nt(t,e,n){let r=Ln(t,e,n);return wt(r)?r:null}function Zr(t,e,n,r){let i=Lt(t,e,r);if(!i)if(n)i=us(t,e);else throw new Error(`Folder not found: ${e}`);return i}function Lt(t,e,n){let r=Ln(t,e,n);return Za(r)?r:null}function ye(t,e){if(Ed(e))return e.path;let n=Ln(t,e);return n?n.path:xd(e)}function Ed(t){return t instanceof en.TAbstractFile}function Zb(t,e){return Xa(t,e,Kb)}function tn(t,e){return Xa(t,e,Xb)}function wt(t){return t instanceof en.TFile}function Za(t){return t instanceof en.TFolder}function nn(t,e){return Xa(t,e,vd)}function Jr(t,e){return nn(t,e)||tn(t,e)||Zb(t,e)}function Cd(t,e){return nn(t,e)?os(e.path,`.${vd}`):e.path}function Ad(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function xd(t){return(0,en.normalizePath)(kd("/",t))}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Jb(t,e,n){let r=ye(t,e),i=ye(t,n),o=Ie(t,i,!0),l=xe(r),u=ke(r,l),d=t.vault.getAvailablePathForAttachments;return d.isExtended?d(u,l.slice(1),o,!0):await Ja(t,u,l.slice(1),o,!0)}async function mr(t,e){return gt(await Jb(t,"DUMMY_FILE.pdf",e))}async function Ja(t,e,n,r,i){let o=t.vault.getConfig("attachmentFolderPath"),l=o==="."||o==="./",u=null;o.startsWith("./")&&(u=as(o,"./")),l?o=r?r.parent?.path??"":"":u&&(o=(r?r.parent?.getParentPrefix()??"":"")+u),o=Xr(Td(o)),e=Xr(Td(e));let d=Lt(t,o,!0);!d&&u&&(i?d=Zr(t,o,!0):d=await t.vault.createFolder(o));let p=d?.getParentPrefix()??"";return t.vault.getAvailablePath(p+e,n)}async function Qa(t,e){let n=await mr(t,e),r=await mr(t,Ee(ve(e),"DUMMY_FILE.md"));return n!==r}function Td(t){return t=me(t,/(?:[\\/])+/g,"/"),t=me(t,/^\/+|\/+$/g,""),t||"/"}var Ys=require("obsidian");var Qb={};function Nn(t,e){let n=e||Qb,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _d(t,r,i)}function _d(t,e,n){if(ek(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Sd(t.children,e,n)}return Array.isArray(t)?Sd(t,e,n):""}function Sd(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=_d(t[i],e,n);return r.join("")}function ek(t){return!!(t&&typeof t=="object")}var Fd=document.createElement("i");function gr(t){let e="&"+t+";";Fd.innerHTML=e;let n=Fd.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Re(t,e,n,r){let i=t.length,o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Ke(t,e){return t.length>0?(Re(t,t.length,0,e),t):e}var Pd={}.hasOwnProperty;function Id(t){let e={},n=-1;for(;++n<t.length;)tk(e,t[n]);return e}function tk(t,e){let n;for(n in e){let i=(Pd.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n],l;if(o)for(l in o){Pd.call(i,l)||(i[l]=[]);let u=o[l];nk(i[l],Array.isArray(u)?u:u?[u]:[])}}}function nk(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Re(t,0,0,r)}function cs(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function rn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var lt=mn(/[A-Za-z]/),Xe=mn(/[\dA-Za-z]/),Od=mn(/[#-'*+\--9=?A-Z^-~]/);function Qr(t){return t!==null&&(t<32||t===127)}var ei=mn(/\d/),Dd=mn(/[\dA-Fa-f]/),Rd=mn(/[!-/:-@[-`{-~]/);function $(t){return t!==null&&t<-2}function Ce(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}var Md=mn(/\p{P}|\p{S}/u),Ld=mn(/\s/);function mn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function j(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,o=0;return l;function l(d){return q(d)?(t.enter(n),u(d)):e(d)}function u(d){return q(d)&&o++<i?(t.consume(d),u):(t.exit(n),e(d))}}var Nd={tokenize:rk};function rk(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),j(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return $(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}var $d={tokenize:ik},Bd={tokenize:sk};function ik(t){let e=this,n=[],r=0,i,o,l;return u;function u(P){if(r<n.length){let W=n[r];return e.containerState=W[1],t.attempt(W[0].continuation,d,p)(P)}return p(P)}function d(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();let W=e.events.length,U=W,x;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){x=e.events[U][1].end;break}E(r);let ne=W;for(;ne<e.events.length;)e.events[ne][1].end={...x},ne++;return Re(e.events,U+1,0,e.events.slice(W)),e.events.length=ne,p(P)}return u(P)}function p(P){if(r===n.length){if(!i)return w(P);if(i.currentConstruct&&i.currentConstruct.concrete)return v(P);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Bd,f,m)(P)}function f(P){return i&&S(),E(r),w(P)}function m(P){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,v(P)}function w(P){return e.containerState={},t.attempt(Bd,g,v)(P)}function g(P){return r++,n.push([e.currentConstruct,e.containerState]),w(P)}function v(P){if(P===null){i&&S(),E(0),t.consume(P);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),F(P)}function F(P){if(P===null){T(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return $(P)?(t.consume(P),T(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),F)}function T(P,W){let U=e.sliceStream(P);if(W&&U.push(null),P.previous=o,o&&(o.next=P),o=P,i.defineSkip(P.start),i.write(U),e.parser.lazy[P.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<l&&(!i.events[x][1].end||i.events[x][1].end.offset>l))return;let ne=e.events.length,X=ne,Z,ae;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){if(Z){ae=e.events[X][1].end;break}Z=!0}for(E(r),x=ne;x<e.events.length;)e.events[x][1].end={...ae},x++;Re(e.events,X+1,0,e.events.slice(ne)),e.events.length=x}}function E(P){let W=n.length;for(;W-- >P;){let U=n[W];e.containerState=U[1],U[0].exit.call(e,t)}n.length=P}function S(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function sk(t,e,n){return j(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function wr(t){if(t===null||Ce(t)||Ld(t))return 1;if(Md(t))return 2}function yr(t,e,n){let r=[],i=-1;for(;++i<t.length;){let o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}var ti={name:"attention",resolveAll:ok,tokenize:ak};function ok(t,e){let n=-1,r,i,o,l,u,d,p,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},w={...t[n][1].start};Vd(m,-d),Vd(w,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=Ke(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=Ke(p,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),p=Ke(p,yr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=Ke(p,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,p=Ke(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Re(t,r-1,n-r+3,p),n=r+p.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ak(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=wr(r),o;return l;function l(d){return o=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===o)return t.consume(d),u;let p=t.exit("attentionSequence"),f=wr(d),m=!f||f===2&&i||n.includes(d),w=!i||i===2&&f||n.includes(r);return p._open=!!(o===42?m:m&&(i||!w)),p._close=!!(o===42?w:w&&(f||!m)),e(d)}}function Vd(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var el={name:"autolink",tokenize:lk};function lk(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(g){return lt(g)?(t.consume(g),l):g===64?n(g):p(g)}function l(g){return g===43||g===45||g===46||Xe(g)?(r=1,u(g)):p(g)}function u(g){return g===58?(t.consume(g),r=0,d):(g===43||g===45||g===46||Xe(g))&&r++<32?(t.consume(g),u):(r=0,p(g))}function d(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||Qr(g)?n(g):(t.consume(g),d)}function p(g){return g===64?(t.consume(g),f):Od(g)?(t.consume(g),p):n(g)}function f(g){return Xe(g)?m(g):n(g)}function m(g){return g===46?(t.consume(g),r=0,f):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):w(g)}function w(g){if((g===45||Xe(g))&&r++<63){let v=g===45?w:m;return t.consume(g),v}return n(g)}}var gn={partial:!0,tokenize:uk};function uk(t,e,n){return r;function r(o){return q(o)?j(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||$(o)?e(o):n(o)}}var ds={continuation:{tokenize:dk},exit:fk,name:"blockQuote",tokenize:ck};function ck(t,e,n){let r=this;return i;function i(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return q(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function dk(t,e,n){let r=this;return i;function i(l){return q(l)?j(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(ds,e,n)(l)}}function fk(t){t.exit("blockQuote")}var fs={name:"characterEscape",tokenize:hk};function hk(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Rd(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}var hs={name:"characterReference",tokenize:pk};function pk(t,e,n){let r=this,i=0,o,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,l=Xe,f(m))}function p(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=Dd,f):(t.enter("characterReferenceValue"),o=7,l=ei,f(m))}function f(m){if(m===59&&i){let w=t.exit("characterReferenceValue");return l===Xe&&!gr(r.sliceSerialize(w))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&i++<o?(t.consume(m),f):n(m)}}var Yd={partial:!0,tokenize:gk},ps={concrete:!0,name:"codeFenced",tokenize:mk};function mk(t,e,n){let r=this,i={partial:!0,tokenize:U},o=0,l=0,u;return d;function d(x){return p(x)}function p(x){let ne=r.events[r.events.length-1];return o=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,u=x,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(x)}function f(x){return x===u?(l++,t.consume(x),f):l<3?n(x):(t.exit("codeFencedFenceSequence"),q(x)?j(t,m,"whitespace")(x):m(x))}function m(x){return x===null||$(x)?(t.exit("codeFencedFence"),r.interrupt?e(x):t.check(Yd,F,W)(x)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===null||$(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(x)):q(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),j(t,g,"whitespace")(x)):x===96&&x===u?n(x):(t.consume(x),w)}function g(x){return x===null||$(x)?m(x):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(x))}function v(x){return x===null||$(x)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(x)):x===96&&x===u?n(x):(t.consume(x),v)}function F(x){return t.attempt(i,W,T)(x)}function T(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),E}function E(x){return o>0&&q(x)?j(t,S,"linePrefix",o+1)(x):S(x)}function S(x){return x===null||$(x)?t.check(Yd,F,W)(x):(t.enter("codeFlowValue"),P(x))}function P(x){return x===null||$(x)?(t.exit("codeFlowValue"),S(x)):(t.consume(x),P)}function W(x){return t.exit("codeFenced"),e(x)}function U(x,ne,X){let Z=0;return ae;function ae(z){return x.enter("lineEnding"),x.consume(z),x.exit("lineEnding"),de}function de(z){return x.enter("codeFencedFence"),q(z)?j(x,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ie(z)}function ie(z){return z===u?(x.enter("codeFencedFenceSequence"),V(z)):X(z)}function V(z){return z===u?(Z++,x.consume(z),V):Z>=l?(x.exit("codeFencedFenceSequence"),q(z)?j(x,G,"whitespace")(z):G(z)):X(z)}function G(z){return z===null||$(z)?(x.exit("codeFencedFence"),ne(z)):X(z)}}}function gk(t,e,n){let r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var ni={name:"codeIndented",tokenize:yk},wk={partial:!0,tokenize:bk};function yk(t,e,n){let r=this;return i;function i(p){return t.enter("codeIndented"),j(t,o,"linePrefix",5)(p)}function o(p){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?d(p):$(p)?t.attempt(wk,l,d)(p):(t.enter("codeFlowValue"),u(p))}function u(p){return p===null||$(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),u)}function d(p){return t.exit("codeIndented"),e(p)}}function bk(t,e,n){let r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):$(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):j(t,o,"linePrefix",5)(l)}function o(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):$(l)?i(l):n(l)}}var tl={name:"codeText",previous:Ak,resolve:kk,tokenize:vk};function kk(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Ak(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vk(t,e,n){let r=this,i=0,o,l;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),d(w)}function d(w){return w===96?(t.consume(w),i++,d):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(l=t.enter("codeTextSequence"),o=0,m(w)):$(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),f(w))}function f(w){return w===null||w===32||w===96||$(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),f)}function m(w){return w===96?(t.consume(w),o++,m):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",f(w))}}var ms=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ri(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ri(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ri(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);ri(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ri(this.left,n.reverse())}}};function ri(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gs(t){let e={},n=-1,r,i,o,l,u,d,p,f=new ms(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ek(f,n)),n=e[n],p=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);i&&(r[1].end={...f.get(i)[1].start},u=f.slice(i,n),u.unshift(r),f.splice(i,n-i+1,u))}}return Re(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!p}function Ek(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,o=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,d=[],p={},f,m,w=-1,g=n,v=0,F=0,T=[F];for(;g;){for(;t.get(++i)[1]!==g;);o.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),m&&l.defineSkip(g.start),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(F=w+1,T.push(F),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(l.events=[],g?(g._tokenizer=void 0,g.previous=void 0):T.pop(),w=T.length;w--;){let E=u.slice(T[w],T[w+1]),S=o.pop();d.push([S,S+E.length-1]),t.splice(S,2,E)}for(d.reverse(),w=-1;++w<d.length;)p[v+d[w][0]]=v+d[w][1],v+=d[w][1]-d[w][0]-1;return p}var nl={resolve:xk,tokenize:Tk},Ck={partial:!0,tokenize:Sk};function xk(t){return gs(t),t}function Tk(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):$(u)?t.check(Ck,l,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Sk(t,e,n){let r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),j(t,o,"linePrefix")}function o(l){if(l===null||$(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function ws(t,e,n,r,i,o,l,u,d){let p=d||Number.POSITIVE_INFINITY,f=0;return m;function m(E){return E===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(E),t.exit(o),w):E===null||E===32||E===41||Qr(E)?n(E):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),F(E))}function w(E){return E===62?(t.enter(o),t.consume(E),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(u),w(E)):E===null||E===60||$(E)?n(E):(t.consume(E),E===92?v:g)}function v(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function F(E){return!f&&(E===null||E===41||Ce(E))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(E)):f<p&&E===40?(t.consume(E),f++,F):E===41?(t.consume(E),f--,F):E===null||E===32||E===40||Qr(E)?n(E):(t.consume(E),E===92?T:F)}function T(E){return E===40||E===41||E===92?(t.consume(E),F):F(E)}}function ys(t,e,n,r,i,o){let l=this,u=0,d;return p;function p(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(o),f}function f(g){return u>999||g===null||g===91||g===93&&!d||g===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(g):g===93?(t.exit(o),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):$(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||$(g)||u++>999?(t.exit("chunkString"),f(g)):(t.consume(g),d||(d=!q(g)),g===92?w:m)}function w(g){return g===91||g===92||g===93?(t.consume(g),u++,m):m(g)}}function bs(t,e,n,r,i,o){let l;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(i),t.consume(w),t.exit(i),l=w===40?41:w,d):n(w)}function d(w){return w===l?(t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):(t.enter(o),p(w))}function p(w){return w===l?(t.exit(o),d(l)):w===null?n(w):$(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),j(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===l||w===null||$(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?m:f)}function m(w){return w===l||w===92?(t.consume(w),f):f(w)}}function Bn(t,e){let n;return r;function r(i){return $(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):q(i)?j(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}var rl={name:"definition",tokenize:Fk},_k={partial:!0,tokenize:Pk};function Fk(t,e,n){let r=this,i;return o;function o(g){return t.enter("definition"),l(g)}function l(g){return ys.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return i=rn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),d):n(g)}function d(g){return Ce(g)?Bn(t,p)(g):p(g)}function p(g){return ws(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return t.attempt(_k,m,m)(g)}function m(g){return q(g)?j(t,w,"whitespace")(g):w(g)}function w(g){return g===null||$(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function Pk(t,e,n){return r;function r(u){return Ce(u)?Bn(t,i)(u):n(u)}function i(u){return bs(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return q(u)?j(t,l,"whitespace")(u):l(u)}function l(u){return u===null||$(u)?e(u):n(u)}}var il={name:"hardBreakEscape",tokenize:Ik};function Ik(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return $(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}var sl={name:"headingAtx",resolve:Ok,tokenize:Dk};function Ok(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Re(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Dk(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),o(f)}function o(f){return t.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&r++<6?(t.consume(f),l):f===null||Ce(f)?(t.exit("atxHeadingSequence"),u(f)):n(f)}function u(f){return f===35?(t.enter("atxHeadingSequence"),d(f)):f===null||$(f)?(t.exit("atxHeading"),e(f)):q(f)?j(t,u,"whitespace")(f):(t.enter("atxHeadingText"),p(f))}function d(f){return f===35?(t.consume(f),d):(t.exit("atxHeadingSequence"),u(f))}function p(f){return f===null||f===35||Ce(f)?(t.exit("atxHeadingText"),u(f)):(t.consume(f),p)}}var Wd=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ol=["pre","script","style","textarea"];var al={concrete:!0,name:"htmlFlow",resolveTo:Lk,tokenize:Nk},Rk={partial:!0,tokenize:$k},Mk={partial:!0,tokenize:Bk};function Lk(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Nk(t,e,n){let r=this,i,o,l,u,d;return p;function p(b){return f(b)}function f(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),m}function m(b){return b===33?(t.consume(b),w):b===47?(t.consume(b),o=!0,F):b===63?(t.consume(b),i=3,r.interrupt?e:A):lt(b)?(t.consume(b),l=String.fromCharCode(b),T):n(b)}function w(b){return b===45?(t.consume(b),i=2,g):b===91?(t.consume(b),i=5,u=0,v):lt(b)?(t.consume(b),i=4,r.interrupt?e:A):n(b)}function g(b){return b===45?(t.consume(b),r.interrupt?e:A):n(b)}function v(b){let Ue="CDATA[";return b===Ue.charCodeAt(u++)?(t.consume(b),u===Ue.length?r.interrupt?e:ie:v):n(b)}function F(b){return lt(b)?(t.consume(b),l=String.fromCharCode(b),T):n(b)}function T(b){if(b===null||b===47||b===62||Ce(b)){let Ue=b===47,$t=l.toLowerCase();return!Ue&&!o&&ol.includes($t)?(i=1,r.interrupt?e(b):ie(b)):Wd.includes(l.toLowerCase())?(i=6,Ue?(t.consume(b),E):r.interrupt?e(b):ie(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):o?S(b):P(b))}return b===45||Xe(b)?(t.consume(b),l+=String.fromCharCode(b),T):n(b)}function E(b){return b===62?(t.consume(b),r.interrupt?e:ie):n(b)}function S(b){return q(b)?(t.consume(b),S):ae(b)}function P(b){return b===47?(t.consume(b),ae):b===58||b===95||lt(b)?(t.consume(b),W):q(b)?(t.consume(b),P):ae(b)}function W(b){return b===45||b===46||b===58||b===95||Xe(b)?(t.consume(b),W):U(b)}function U(b){return b===61?(t.consume(b),x):q(b)?(t.consume(b),U):P(b)}function x(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),d=b,ne):q(b)?(t.consume(b),x):X(b)}function ne(b){return b===d?(t.consume(b),d=null,Z):b===null||$(b)?n(b):(t.consume(b),ne)}function X(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Ce(b)?U(b):(t.consume(b),X)}function Z(b){return b===47||b===62||q(b)?P(b):n(b)}function ae(b){return b===62?(t.consume(b),de):n(b)}function de(b){return b===null||$(b)?ie(b):q(b)?(t.consume(b),de):n(b)}function ie(b){return b===45&&i===2?(t.consume(b),se):b===60&&i===1?(t.consume(b),we):b===62&&i===4?(t.consume(b),Me):b===63&&i===3?(t.consume(b),A):b===93&&i===5?(t.consume(b),Qe):$(b)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Rk,Le,V)(b)):b===null||$(b)?(t.exit("htmlFlowData"),V(b)):(t.consume(b),ie)}function V(b){return t.check(Mk,G,Le)(b)}function G(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),z}function z(b){return b===null||$(b)?V(b):(t.enter("htmlFlowData"),ie(b))}function se(b){return b===45?(t.consume(b),A):ie(b)}function we(b){return b===47?(t.consume(b),l="",be):ie(b)}function be(b){if(b===62){let Ue=l.toLowerCase();return ol.includes(Ue)?(t.consume(b),Me):ie(b)}return lt(b)&&l.length<8?(t.consume(b),l+=String.fromCharCode(b),be):ie(b)}function Qe(b){return b===93?(t.consume(b),A):ie(b)}function A(b){return b===62?(t.consume(b),Me):b===45&&i===2?(t.consume(b),A):ie(b)}function Me(b){return b===null||$(b)?(t.exit("htmlFlowData"),Le(b)):(t.consume(b),Me)}function Le(b){return t.exit("htmlFlow"),e(b)}}function Bk(t,e,n){let r=this;return i;function i(l){return $(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function $k(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(gn,e,n)}}var ll={name:"htmlText",tokenize:Vk};function Vk(t,e,n){let r=this,i,o,l;return u;function u(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),d}function d(A){return A===33?(t.consume(A),p):A===47?(t.consume(A),U):A===63?(t.consume(A),P):lt(A)?(t.consume(A),X):n(A)}function p(A){return A===45?(t.consume(A),f):A===91?(t.consume(A),o=0,v):lt(A)?(t.consume(A),S):n(A)}function f(A){return A===45?(t.consume(A),g):n(A)}function m(A){return A===null?n(A):A===45?(t.consume(A),w):$(A)?(l=m,we(A)):(t.consume(A),m)}function w(A){return A===45?(t.consume(A),g):m(A)}function g(A){return A===62?se(A):A===45?w(A):m(A)}function v(A){let Me="CDATA[";return A===Me.charCodeAt(o++)?(t.consume(A),o===Me.length?F:v):n(A)}function F(A){return A===null?n(A):A===93?(t.consume(A),T):$(A)?(l=F,we(A)):(t.consume(A),F)}function T(A){return A===93?(t.consume(A),E):F(A)}function E(A){return A===62?se(A):A===93?(t.consume(A),E):F(A)}function S(A){return A===null||A===62?se(A):$(A)?(l=S,we(A)):(t.consume(A),S)}function P(A){return A===null?n(A):A===63?(t.consume(A),W):$(A)?(l=P,we(A)):(t.consume(A),P)}function W(A){return A===62?se(A):P(A)}function U(A){return lt(A)?(t.consume(A),x):n(A)}function x(A){return A===45||Xe(A)?(t.consume(A),x):ne(A)}function ne(A){return $(A)?(l=ne,we(A)):q(A)?(t.consume(A),ne):se(A)}function X(A){return A===45||Xe(A)?(t.consume(A),X):A===47||A===62||Ce(A)?Z(A):n(A)}function Z(A){return A===47?(t.consume(A),se):A===58||A===95||lt(A)?(t.consume(A),ae):$(A)?(l=Z,we(A)):q(A)?(t.consume(A),Z):se(A)}function ae(A){return A===45||A===46||A===58||A===95||Xe(A)?(t.consume(A),ae):de(A)}function de(A){return A===61?(t.consume(A),ie):$(A)?(l=de,we(A)):q(A)?(t.consume(A),de):Z(A)}function ie(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),i=A,V):$(A)?(l=ie,we(A)):q(A)?(t.consume(A),ie):(t.consume(A),G)}function V(A){return A===i?(t.consume(A),i=void 0,z):A===null?n(A):$(A)?(l=V,we(A)):(t.consume(A),V)}function G(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Ce(A)?Z(A):(t.consume(A),G)}function z(A){return A===47||A===62||Ce(A)?Z(A):n(A)}function se(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function we(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),be}function be(A){return q(A)?j(t,Qe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Qe(A)}function Qe(A){return t.enter("htmlTextData"),l(A)}}var $n={name:"labelEnd",resolveAll:zk,resolveTo:Hk,tokenize:Gk},Yk={tokenize:qk},Wk={tokenize:jk},Uk={tokenize:Kk};function zk(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Re(t,0,t.length,n),t}function Hk(t,e){let n=t.length,r=0,i,o,l,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);let d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},f={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",p,e]],u=Ke(u,t.slice(o+1,o+r+3)),u=Ke(u,[["enter",f,e]]),u=Ke(u,yr(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=Ke(u,[["exit",f,e],t[l-2],t[l-1],["exit",p,e]]),u=Ke(u,t.slice(l+1)),u=Ke(u,[["exit",d,e]]),Re(t,o,t.length,u),t}function Gk(t,e,n){let r=this,i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(w){return o?o._inactive?m(w):(l=r.parser.defined.includes(rn(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),d):n(w)}function d(w){return w===40?t.attempt(Yk,f,l?f:m)(w):w===91?t.attempt(Wk,f,l?p:m)(w):l?f(w):m(w)}function p(w){return t.attempt(Uk,f,m)(w)}function f(w){return e(w)}function m(w){return o._balanced=!0,n(w)}}function qk(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Ce(m)?Bn(t,o)(m):o(m)}function o(m){return m===41?f(m):ws(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Ce(m)?Bn(t,d)(m):f(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?bs(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function p(m){return Ce(m)?Bn(t,f)(m):f(m)}function f(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function jk(t,e,n){let r=this;return i;function i(u){return ys.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(rn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function Kk(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}var ul={name:"labelStartImage",resolveAll:$n.resolveAll,tokenize:Xk};function Xk(t,e,n){let r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var cl={name:"labelStartLink",resolveAll:$n.resolveAll,tokenize:Zk};function Zk(t,e,n){let r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var ii={name:"lineEnding",tokenize:Jk};function Jk(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),j(t,e,"linePrefix")}}var Vn={name:"thematicBreak",tokenize:Qk};function Qk(t,e,n){let r=0,i;return o;function o(p){return t.enter("thematicBreak"),l(p)}function l(p){return i=p,u(p)}function u(p){return p===i?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||$(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===i?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),q(p)?j(t,u,"whitespace")(p):u(p))}}var Ve={continuation:{tokenize:rA},exit:sA,name:"list",tokenize:nA},eA={partial:!0,tokenize:oA},tA={partial:!0,tokenize:iA};function nA(t,e,n){let r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(g){let v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:ei(g)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Vn,n,p)(g):p(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(g)}return n(g)}function d(g){return ei(g)&&++l<10?(t.consume(g),d):(!r.interrupt||l<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),p(g)):n(g)}function p(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(gn,r.interrupt?n:f,t.attempt(eA,w,m))}function f(g){return r.containerState.initialBlankLine=!0,o++,w(g)}function m(g){return q(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),w):n(g)}function w(g){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function rA(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(gn,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,j(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!q(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(tA,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,j(t,t.attempt(Ve,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function iA(t,e,n){let r=this;return j(t,i,"listItemIndent",r.containerState.size+1);function i(o){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function sA(t){t.exit(this.containerState.type)}function oA(t,e,n){let r=this;return j(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){let l=r.events[r.events.length-1];return!q(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}var ks={name:"setextUnderline",resolveTo:aA,tokenize:lA};function aA(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function lA(t,e,n){let r=this,i;return o;function o(p){let f=r.events.length,m;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){m=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(t.consume(p),u):(t.exit("setextHeadingLineSequence"),q(p)?j(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||$(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}var Ud={tokenize:uA};function uA(t){let e=this,n=t.attempt(gn,r,t.attempt(this.parser.constructs.flowInitial,i,j(t,t.attempt(this.parser.constructs.flow,i,t.attempt(nl,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var zd={resolveAll:jd()},Hd=qd("string"),Gd=qd("text");function qd(t){return{resolveAll:jd(t==="text"?cA:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],o=n.attempt(i,l,u);return l;function l(f){return p(f)?o(f):u(f)}function u(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),d}function d(f){return p(f)?(n.exit("data"),o(f)):(n.consume(f),d)}function p(f){if(f===null)return!0;let m=i[f],w=-1;if(m)for(;++w<m.length;){let g=m[w];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function jd(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function cA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),o=i.length,l=-1,u=0,d;for(;o--;){let p=i[o];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(p===-2)d=!0,u++;else if(p!==-1){o++;break}}if(u){let p={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}var dl={};Oc(dl,{attentionMarkers:()=>yA,contentInitial:()=>fA,disable:()=>bA,document:()=>dA,flow:()=>pA,flowInitial:()=>hA,insideSpan:()=>wA,string:()=>mA,text:()=>gA});var dA={42:Ve,43:Ve,45:Ve,48:Ve,49:Ve,50:Ve,51:Ve,52:Ve,53:Ve,54:Ve,55:Ve,56:Ve,57:Ve,62:ds},fA={91:rl},hA={[-2]:ni,[-1]:ni,32:ni},pA={35:sl,42:Vn,45:[ks,Vn],60:al,61:ks,95:Vn,96:ps,126:ps},mA={38:hs,92:fs},gA={[-5]:ii,[-4]:ii,[-3]:ii,33:ul,38:hs,42:ti,60:[el,ll],91:cl,92:[il,fs],93:$n,95:ti,96:tl},wA={null:[ti,zd]},yA={null:[42,95]},bA={null:[]};function Kd(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},o=[],l=[],u=[],d=!0,p={attempt:Z(ne),check:Z(X),consume:W,enter:U,exit:x,interrupt:Z(X,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:T,parser:t,previous:null,sliceSerialize:v,sliceStream:F,write:g},m=e.tokenize.call(f,p),w;return e.resolveAll&&o.push(e),f;function g(V){return l=Ke(l,V),S(),l[l.length-1]!==null?[]:(ae(e,0),f.events=yr(o,f.events,f),f.events)}function v(V,G){return AA(F(V),G)}function F(V){return kA(l,V)}function T(){let{_bufferIndex:V,_index:G,line:z,column:se,offset:we}=r;return{_bufferIndex:V,_index:G,line:z,column:se,offset:we}}function E(V){i[V.line]=V.column,ie()}function S(){let V;for(;r._index<l.length;){let G=l[r._index];if(typeof G=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<G.length;)P(G.charCodeAt(r._bufferIndex));else P(G)}}function P(V){d=void 0,w=V,m=m(V)}function W(V){$(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,ie()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V,d=!0}function U(V,G){let z=G||{};return z.type=V,z.start=T(),f.events.push(["enter",z,f]),u.push(z),z}function x(V){let G=u.pop();return G.end=T(),f.events.push(["exit",G,f]),G}function ne(V,G){ae(V,G.from)}function X(V,G){G.restore()}function Z(V,G){return z;function z(se,we,be){let Qe,A,Me,Le;return Array.isArray(se)?Ue(se):"tokenize"in se?Ue([se]):b(se);function b(Te){return Sn;function Sn(vt){let Vt=vt!==null&&Te[vt],un=vt!==null&&Te.null,Nr=[...Array.isArray(Vt)?Vt:Vt?[Vt]:[],...Array.isArray(un)?un:un?[un]:[]];return Ue(Nr)(vt)}}function Ue(Te){return Qe=Te,A=0,Te.length===0?be:$t(Te[A])}function $t(Te){return Sn;function Sn(vt){return Le=de(),Me=Te,Te.partial||(f.currentConstruct=Te),Te.name&&f.parser.constructs.disable.null.includes(Te.name)?Tn(vt):Te.tokenize.call(G?Object.assign(Object.create(f),G):f,p,ln,Tn)(vt)}}function ln(Te){return d=!0,V(Me,Le),we}function Tn(Te){return d=!0,Le.restore(),++A<Qe.length?$t(Qe[A]):be}}}function ae(V,G){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Re(f.events,G,f.events.length-G,V.resolve(f.events.slice(G),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function de(){let V=T(),G=f.previous,z=f.currentConstruct,se=f.events.length,we=Array.from(u);return{from:se,restore:be};function be(){r=V,f.previous=G,f.currentConstruct=z,f.events.length=se,u=we,ie()}}function ie(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kA(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex,l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function AA(t,e){let n=-1,r=[],i;for(;++n<t.length;){let o=t[n],l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function fl(t){let r={constructs:Id([dl,...(t||{}).extensions||[]]),content:i(Nd),defined:[],document:i($d),flow:i(Ud),lazy:{},string:i(Hd),text:i(Gd)};return r;function i(o){return l;function l(u){return Kd(r,o,u)}}}function hl(t){for(;!gs(t););return t}var Xd=/[\0\t\n\r]/g;function pl(){let t=1,e="",n=!0,r;return i;function i(o,l,u){let d=[],p,f,m,w,g;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(Xd.lastIndex=m,p=Xd.exec(o),w=p&&p.index!==void 0?p.index:o.length,g=o.charCodeAt(w),!p){e=o.slice(m);break}if(g===10&&m===w&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<w&&(d.push(o.slice(m,w)),t+=w-m),g){case 0:{d.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,d.push(-2);t++<f;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=w+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}var vA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function As(t){return t.replace(vA,EA)}function EA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),o=i===120||i===88;return cs(n.slice(o?2:1),o?16:10)}return gr(n)||t}function wn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Zd(t.position):"start"in t||"end"in t?Zd(t):"line"in t||"column"in t?ml(t):""}function ml(t){return Jd(t&&t.line)+":"+Jd(t&&t.column)}function Zd(t){return ml(t&&t.start)+"-"+ml(t&&t.end)}function Jd(t){return t&&typeof t=="number"?t:1}var ef={}.hasOwnProperty;function gl(t,e,n){return typeof e!="string"&&(n=e,e=void 0),CA(n)(hl(fl(n).document().write(pl()(t,e,!0))))}function CA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ze),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:o(Si),blockQuote:o(vt),characterEscape:Z,characterReference:Z,codeFenced:o(Vt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Vt,l),codeText:o(un,l),codeTextData:Z,data:Z,codeFlowValue:Z,definition:o(Nr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ua),hardBreakEscape:o(_i),hardBreakTrailing:o(_i),htmlFlow:o(Fi,l),htmlFlowData:Z,htmlText:o(Fi,l),htmlTextData:Z,image:o(Pi),label:l,link:o(ze),listItem:o(ca),listItemValue:w,listOrdered:o(Xn,m),listUnordered:o(Xn),paragraph:o(da),reference:b,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Si),strong:o(Ii),thematicBreak:o(Oi)},exit:{atxHeading:d(),atxHeadingSequence:U,autolink:d(),autolinkEmail:Sn,autolinkProtocol:Te,blockQuote:d(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:$t,characterReferenceMarkerNumeric:$t,characterReferenceValue:ln,characterReference:Tn,codeFenced:d(T),codeFencedFence:F,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:ae,codeIndented:d(E),codeText:d(z),codeTextData:ae,data:ae,definition:d(),definitionDestinationString:W,definitionLabelString:S,definitionTitleString:P,emphasis:d(),hardBreakEscape:d(ie),hardBreakTrailing:d(ie),htmlFlow:d(V),htmlFlowData:ae,htmlText:d(G),htmlTextData:ae,image:d(we),label:Qe,labelText:be,lineEnding:de,link:d(se),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Ue,resourceDestinationString:A,resourceTitleString:Me,resource:Le,setextHeading:d(X),setextHeadingLineSequence:ne,setextHeadingText:x,strong:d(),thematicBreak:d()}};tf(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let O={type:"root",children:[]},D={stack:[O],tokenStack:[],config:e,enter:u,exit:p,buffer:l,resume:f,data:n},J=[],le=-1;for(;++le<_.length;)if(_[le][1].type==="listOrdered"||_[le][1].type==="listUnordered")if(_[le][0]==="enter")J.push(le);else{let Ne=J.pop();le=i(_,Ne,le)}for(le=-1;++le<_.length;){let Ne=e[_[le][0]];ef.call(Ne,_[le][1].type)&&Ne[_[le][1].type].call(Object.assign({sliceSerialize:_[le][2].sliceSerialize},D),_[le][1])}if(D.tokenStack.length>0){let Ne=D.tokenStack[D.tokenStack.length-1];(Ne[1]||Qd).call(D,void 0,Ne[0])}for(O.position={start:yn(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:yn(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<e.transforms.length;)O=e.transforms[le](O)||O;return O}function i(_,O,D){let J=O-1,le=-1,Ne=!1,Et,et,dt,Ft;for(;++J<=D;){let Ge=_[J];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?le++:le--,Ft=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(Et&&!Ft&&!le&&!dt&&(dt=J),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!le&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||le===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(Et){let Ct=J;for(et=void 0;Ct--;){let xt=_[Ct];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;et&&(_[et][1].type="lineEndingBlank",Ne=!0),xt[1].type="lineEnding",et=Ct}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}dt&&(!et||dt<et)&&(Et._spread=!0),Et.end=Object.assign({},et?_[et][1].start:Ge[1].end),_.splice(et||J,0,["exit",Et,Ge[2]]),J++,D++}if(Ge[1].type==="listItemPrefix"){let Ct={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};Et=Ct,_.splice(J,0,["enter",Ct,Ge[2]]),J++,D++,dt=void 0,Ft=!0}}}return _[O][1]._spread=Ne,D}function o(_,O){return D;function D(J){u.call(this,_(J),J),O&&O.call(this,J)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,O,D){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([O,D||void 0]),_.position={start:yn(O.start),end:void 0}}function d(_){return O;function O(D){_&&_.call(this,D),p.call(this,D)}}function p(_,O){let D=this.stack.pop(),J=this.tokenStack.pop();if(J)J[0].type!==_.type&&(O?O.call(this,_,J[0]):(J[1]||Qd).call(this,_,J[0]));else throw new Error("Cannot close `"+_.type+"` ("+wn({start:_.start,end:_.end})+"): it\u2019s not open");D.position.end=yn(_.end)}function f(){return Nn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function w(_){if(this.data.expectingFirstListItemValue){let O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function g(){let _=this.resume(),O=this.stack[this.stack.length-1];O.lang=_}function v(){let _=this.resume(),O=this.stack[this.stack.length-1];O.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_.replace(/(\r?\n|\r)$/g,"")}function S(_){let O=this.resume(),D=this.stack[this.stack.length-1];D.label=O,D.identifier=rn(this.sliceSerialize(_)).toLowerCase()}function P(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function W(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function U(_){let O=this.stack[this.stack.length-1];if(!O.depth){let D=this.sliceSerialize(_).length;O.depth=D}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function ne(_){let O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(_){let D=this.stack[this.stack.length-1].children,J=D[D.length-1];(!J||J.type!=="text")&&(J=He(),J.position={start:yn(_.start),end:void 0},D.push(J)),this.stack.push(J)}function ae(_){let O=this.stack.pop();O.value+=this.sliceSerialize(_),O.position.end=yn(_.end)}function de(_){let O=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=O.children[O.children.length-1];D.position.end=yn(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(O.type)&&(Z.call(this,_),ae.call(this,_))}function ie(){this.data.atHardBreak=!0}function V(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function G(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function z(){let _=this.resume(),O=this.stack[this.stack.length-1];O.value=_}function se(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function we(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=O,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function be(_){let O=this.sliceSerialize(_),D=this.stack[this.stack.length-2];D.label=As(O),D.identifier=rn(O).toLowerCase()}function Qe(){let _=this.stack[this.stack.length-1],O=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let J=_.children;D.children=J}else D.alt=O}function A(){let _=this.resume(),O=this.stack[this.stack.length-1];O.url=_}function Me(){let _=this.resume(),O=this.stack[this.stack.length-1];O.title=_}function Le(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function Ue(_){let O=this.resume(),D=this.stack[this.stack.length-1];D.label=O,D.identifier=rn(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function $t(_){this.data.characterReferenceType=_.type}function ln(_){let O=this.sliceSerialize(_),D=this.data.characterReferenceType,J;D?(J=cs(O,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):J=gr(O);let le=this.stack[this.stack.length-1];le.value+=J}function Tn(_){let O=this.stack.pop();O.position.end=yn(_.end)}function Te(_){ae.call(this,_);let O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(_)}function Sn(_){ae.call(this,_);let O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(_)}function vt(){return{type:"blockquote",children:[]}}function Vt(){return{type:"code",lang:null,meta:null,value:""}}function un(){return{type:"inlineCode",value:""}}function Nr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ua(){return{type:"emphasis",children:[]}}function Si(){return{type:"heading",depth:0,children:[]}}function _i(){return{type:"break"}}function Fi(){return{type:"html",value:""}}function Pi(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function Xn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function ca(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function da(){return{type:"paragraph",children:[]}}function Ii(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function Oi(){return{type:"thematicBreak"}}}function yn(t){return{line:t.line,column:t.column,offset:t.offset}}function tf(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?tf(t,r):xA(t,r)}}function xA(t,e){let n;for(n in e)if(ef.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function Qd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wn({start:e.start,end:e.end})+") is still open")}function br(t){let e=this;e.parser=n;function n(r){return gl(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var nf={}.hasOwnProperty;function rf(t,e){let n=e||{};function r(i,...o){let l=r.invalid,u=r.handlers;if(i&&nf.call(i,t)){let d=String(i[t]);l=nf.call(u,d)?u[d]:r.unknown}if(l)return l.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var TA={}.hasOwnProperty;function wl(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)wl(t,e.extensions[n]);for(r in e)if(TA.call(e,r))switch(r){case"extensions":break;case"unsafe":{sf(t[r],e[r]);break}case"join":{sf(t[r],e[r]);break}case"handlers":{SA(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function sf(t,e){e&&t.push(...e)}function SA(t,e){e&&Object.assign(t,e)}function of(t,e,n,r){let i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let l=n.indentLines(n.containerFlow(t,o.current()),_A);return i(),l}function _A(t,e,n){return">"+(n?"":" ")+t}function vs(t,e){return af(t,e.inConstruct,!0)&&!af(t,e.notInConstruct,!1)}function af(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function yl(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&vs(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function lf(t,e){let n=String(t),r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function si(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function uf(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function cf(t,e,n,r){let i=uf(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(si(t,n)){let m=n.enter("codeIndented"),w=n.indentLines(o,FA);return m(),w}let u=n.createTracker(r),d=i.repeat(Math.max(lf(o,i)+1,3)),p=n.enter("codeFenced"),f=u.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);f+=u.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);f+=u.move(" "),f+=u.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...u.current()})),m()}return f+=u.move(`
`),o&&(f+=u.move(o+`
`)),f+=u.move(d),p(),f}function FA(t,e,n){return(n?"":"    ")+t}function kr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function df(t,e,n,r){let i=kr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),d=n.createTracker(r),p=d.move("[");return p+=d.move(n.safe(n.associationId(t),{before:p,after:"]",...d.current()})),p+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),p+=d.move(" "+i),p+=d.move(n.safe(t.title,{before:p,after:i,...d.current()})),p+=d.move(i),u()),l(),p}function ff(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ut(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ar(t,e,n){let r=wr(t),i=wr(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}bl.peek=PA;function bl(t,e,n,r){let i=ff(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),p=d.charCodeAt(0),f=Ar(r.before.charCodeAt(r.before.length-1),p,i);f.inside&&(d=ut(p)+d.slice(1));let m=d.charCodeAt(d.length-1),w=Ar(r.after.charCodeAt(0),m,i);w.inside&&(d=d.slice(0,-1)+ut(m));let g=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:f.outside},u+d+g}function PA(t,e,n){return n.options.emphasis||"*"}var vr=function(t){if(t==null)return RA;if(typeof t=="function")return Es(t);if(typeof t=="object")return Array.isArray(t)?IA(t):OA(t);if(typeof t=="string")return DA(t);throw new Error("Expected function, string, or object as test")};function IA(t){let e=[],n=-1;for(;++n<t.length;)e[n]=vr(t[n]);return Es(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function OA(t){let e=t;return Es(n);function n(r){let i=r,o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function DA(t){return Es(e);function e(n){return n&&n.type===t}}function Es(t){return e;function e(n,r,i){return!!(MA(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function RA(){return!0}function MA(t){return t!==null&&typeof t=="object"&&"type"in t}function hf(t){return"\x1B[33m"+t+"\x1B[39m"}var pf=[],Cs=!0,Yn=!1,xs="skip";function kl(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let o=vr(i),l=r?-1:1;u(t,void 0,[])();function u(d,p,f){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let g=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(w,"name",{value:"node ("+hf(d.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=pf,v,F,T;if((!e||o(d,p,f[f.length-1]||void 0))&&(g=LA(n(d,f)),g[0]===Yn))return g;if("children"in d&&d.children){let E=d;if(E.children&&g[0]!==xs)for(F=(r?E.children.length:-1)+l,T=f.concat(E);F>-1&&F<E.children.length;){let S=E.children[F];if(v=u(S,F,T)(),v[0]===Yn)return v;F=typeof v[1]=="number"?v[1]:F+l}}return g}}}function LA(t){return Array.isArray(t)?t:typeof t=="number"?[Cs,t]:t==null?pf:[t]}function oi(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),kl(t,o,u,i);function u(d,p){let f=p[p.length-1],m=f?f.children.indexOf(d):void 0;return l(d,m,f)}}function Ts(t,e){let n=!1;return oi(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Yn}),!!((!t.depth||t.depth<3)&&Nn(t)&&(e.options.setext||n))}function mf(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Ts(t,n)){let f=n.enter("headingSetext"),m=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),f(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(i),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=ut(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),d(),u(),p}Al.peek=NA;function Al(t){return t.value||""}function NA(){return"<"}vl.peek=BA;function vl(t,e,n,r){let i=kr(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),d=n.createTracker(r),p=d.move("![");return p+=d.move(n.safe(t.alt,{before:p,after:"]",...d.current()})),p+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),p+=d.move(" "+i),p+=d.move(n.safe(t.title,{before:p,after:i,...d.current()})),p+=d.move(i),u()),p+=d.move(")"),l(),p}function BA(){return"!"}El.peek=$A;function El(t,e,n,r){let i=t.referenceType,o=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("!["),p=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let f=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=f,o(),i==="full"||!p||p!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function $A(){return"!"}Cl.peek=VA;function Cl(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let l=n.unsafe[o],u=n.compilePattern(l),d;if(l.atBreak)for(;d=u.exec(r);){let p=d.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(d.index+1)}}return i+r+i}function VA(){return"`"}function xl(t,e){let n=Nn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Tl.peek=YA;function Tl(t,e,n,r){let i=kr(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,d;if(xl(t,n)){let f=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=f,m}u=n.enter("link"),d=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(d=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${o}`),p+=l.move(" "+i),p+=l.move(n.safe(t.title,{before:p,after:i,...l.current()})),p+=l.move(i),d()),p+=l.move(")"),u(),p}function YA(t,e,n){return xl(t,n)?"<":"["}Sl.peek=WA;function Sl(t,e,n,r){let i=t.referenceType,o=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("["),p=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let f=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=f,o(),i==="full"||!p||p!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function WA(){return"["}function Er(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function gf(t){let e=Er(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function wf(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ss(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function yf(t,e,n,r){let i=n.enter("list"),o=n.bulletCurrent,l=t.ordered?wf(n):Er(n),u=t.ordered?l==="."?")":".":gf(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),Ss(n)===l&&f){let m=-1;for(;++m<t.children.length;){let w=t.children[m];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;let p=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),p}function bf(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function kf(t,e,n,r){let i=bf(n),o=n.bulletCurrent||Er(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);let d=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,u.current()),f);return d(),p;function f(m,w,g){return w?(g?"":" ".repeat(l))+m:(g?o:o+" ".repeat(l-o.length))+m}}function Af(t,e,n,r){let i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}var _l=vr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vf(t,e,n,r){return(t.children.some(function(l){return _l(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Ef(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Fl.peek=UA;function Fl(t,e,n,r){let i=Ef(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i),d=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()})),p=d.charCodeAt(0),f=Ar(r.before.charCodeAt(r.before.length-1),p,i);f.inside&&(d=ut(p)+d.slice(1));let m=d.charCodeAt(d.length-1),w=Ar(r.after.charCodeAt(0),m,i);w.inside&&(d=d.slice(0,-1)+ut(m));let g=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:f.outside},u+d+g}function UA(t,e,n){return n.options.strong||"*"}function Cf(t,e,n,r){return n.safe(t.value,r)}function xf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Tf(t,e,n){let r=(Ss(n)+(n.options.ruleSpaces?" ":"")).repeat(xf(n));return n.options.ruleSpaces?r.slice(0,-1):r}var Sf={blockquote:of,break:yl,code:cf,definition:df,emphasis:bl,hardBreak:yl,heading:mf,html:Al,image:vl,imageReference:El,inlineCode:Cl,link:Tl,linkReference:Sl,list:yf,listItem:kf,paragraph:Af,root:vf,strong:Fl,text:Cf,thematicBreak:Tf};var _f=[zA];function zA(t,e,n,r){if(e.type==="code"&&si(e,r)&&(t.type==="list"||t.type===e.type&&si(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Ts(e,r))?void 0:n.spread?1:0}var Wn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ff=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Wn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Wn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Wn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Wn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Wn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Wn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Wn},{atBreak:!0,character:"~"}];function Pf(t){return t.label||!t.identifier?t.label||"":As(t.identifier)}function If(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Of(t,e,n){let r=e.indexStack,i=t.children||[],o=[],l=-1,u=n.before,d;r.push(-1);let p=e.createTracker(n);for(;++l<i.length;){let f=i[l],m;if(r[r.length-1]=l,l+1<i.length){let v=e.handle.handlers[i[l+1].type];v&&v.peek&&(v=v.peek),m=v?v(i[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else m=n.after;o.length>0&&(u==="\r"||u===`
`)&&f.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",p=e.createTracker(n),p.move(o.join("")));let w=e.handle(f,t,e,{...p.current(),after:m,before:u});d&&d===w.slice(0,1)&&(w=ut(d.charCodeAt(0))+w.slice(1));let g=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,g&&(o.length>0&&g.before&&u===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+ut(u.charCodeAt(0))),g.after&&(d=m)),p.move(w),o.push(w),u=w.slice(-1)}return r.pop(),o.join("")}function Df(t,e,n){let r=e.indexStack,i=t.children||[],o=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<i.length;){let d=i[u];r[r.length-1]=u,l.push(o.move(e.handle(d,t,e,{before:`
`,after:`
`,...o.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&l.push(o.move(HA(d,i[u+1],t,e)))}return r.pop(),l.join("")}function HA(t,e,n,r){let i=r.join.length;for(;i--;){let o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}var GA=/\r?\n|\r/g;function Rf(t,e){let n=[],r=0,i=0,o;for(;o=GA.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,i,!u))}}function Lf(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],l={},u=-1;for(;++u<t.unsafe.length;){let f=t.unsafe[u];if(!vs(t.stack,f))continue;let m=t.compilePattern(f),w;for(;w=m.exec(r);){let g="before"in f||!!f.atBreak,v="after"in f,F=w.index+(g?w[1].length:0);i.includes(F)?(l[F].before&&!g&&(l[F].before=!1),l[F].after&&!v&&(l[F].after=!1)):(i.push(F),l[F]={before:g,after:v})}}i.sort(qA);let d=n.before?n.before.length:0,p=r.length-(n.after?n.after.length:0);for(u=-1;++u<i.length;){let f=i[u];f<d||f>=p||f+1<p&&i[u+1]===f+1&&l[f].after&&!l[f+1].before&&!l[f+1].after||i[u-1]===f-1&&l[f].before&&!l[f-1].before&&!l[f-1].after||(d!==f&&o.push(Mf(r.slice(d,f),"\\")),d=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?o.push("\\"):(o.push(ut(r.charCodeAt(f))),d++))}return o.push(Mf(r.slice(d,p),n.after)),o.join("")}function qA(t,e){return t-e}function Mf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e,l=-1,u=0,d;for(;d=n.exec(o);)r.push(d.index);for(;++l<r.length;)u!==r[l]&&i.push(t.slice(u,r[l])),i.push("\\"),u=r[l];return i.push(t.slice(u)),i.join("")}function Nf(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:d,current:l,shift:u};function l(){return{now:{line:i,column:o},lineShift:r}}function u(p){r+=p}function d(p){let f=p||"",m=f.split(/\r?\n|\r/g),w=m[m.length-1];return i+=m.length-1,o=m.length===1?o+w.length:1+w.length+r,f}}function Pl(t,e){let n=e||{},r={associationId:Pf,containerPhrasing:ZA,containerFlow:JA,createTracker:Nf,compilePattern:If,enter:o,handlers:{...Sf},handle:void 0,indentLines:Rf,indexStack:[],join:[..._f],options:{},safe:QA,stack:[],unsafe:[...Ff]};wl(r,n),r.options.tightDefinitions&&r.join.push(XA),r.handle=rf("type",{invalid:jA,unknown:KA,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function o(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function jA(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function KA(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function XA(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function ZA(t,e){return Of(t,this,e)}function JA(t,e){return Df(t,this,e)}function QA(t,e){return Lf(this,t,e)}function _s(t){let e=this;e.compiler=n;function n(r){return Pl(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Il(t){if(t)throw t}var Os=$e(Gf(),1);function ai(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ol(){let t=[],e={run:n,use:r};return e;function n(...i){let o=-1,l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(d,...p){let f=t[++o],m=-1;if(d){l(d);return}for(;++m<i.length;)(p[m]===null||p[m]===void 0)&&(p[m]=i[m]);i=p,f?qf(f,u)(...p):l(null,...p)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function qf(t,e){let n;return r;function r(...l){let u=t.length>l.length,d;u&&l.push(i);try{d=t.apply(this,l)}catch(p){let f=p;if(u&&n)throw f;return i(f)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(l,...u){n||(n=!0,e(l,...u))}function o(l){i(null,l)}}var Oe=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){let d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}let u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=u?u.line:void 0,this.name=wn(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}};Oe.prototype.file="";Oe.prototype.name="";Oe.prototype.reason="";Oe.prototype.message="";Oe.prototype.stack="";Oe.prototype.column=void 0;Oe.prototype.line=void 0;Oe.prototype.ancestors=void 0;Oe.prototype.cause=void 0;Oe.prototype.fatal=void 0;Oe.prototype.place=void 0;Oe.prototype.ruleId=void 0;Oe.prototype.source=void 0;var yt=$e(require("node:path"),1);var Dl=$e(require("node:process"),1);var Rl=require("node:url");function Ps(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var Ml=["history","path","basename","stem","extname","dirname"],li=class{constructor(e){let n;e?Ps(e)?n={path:e}:typeof e=="string"||ev(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Dl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ml.length;){let o=Ml[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Ml.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yt.default.basename(this.path):void 0}set basename(e){Nl(e,"basename"),Ll(e,"basename"),this.path=yt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?yt.default.dirname(this.path):void 0}set dirname(e){jf(this.basename,"dirname"),this.path=yt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?yt.default.extname(this.path):void 0}set extname(e){if(Ll(e,"extname"),jf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ps(e)&&(e=(0,Rl.fileURLToPath)(e)),Nl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?yt.default.basename(this.path,this.extname):void 0}set stem(e){Nl(e,"stem"),Ll(e,"stem"),this.path=yt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new Oe(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Ll(t,e){if(t&&t.includes(yt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+yt.default.sep+"`")}function Nl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function jf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ev(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Kf=function(t){let r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o};var tv={}.hasOwnProperty,Yl=class t extends Kf{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ol()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,Os.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Vl("data",this.frozen),this.namespace[e]=n,this):tv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Vl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Is(e),r=this.parser||this.Parser;return Bl("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Bl("process",this.parser||this.Parser),$l("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){let u=Is(e),d=r.parse(u);r.run(d,u,function(f,m,w){if(f||!m||!w)return p(f);let g=m,v=r.stringify(g,w);rv(v)?w.value=v:w.result=v,p(f,w)});function p(f,m){f||!m?l(f):o?o(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Bl("processSync",this.parser||this.Parser),$l("processSync",this.compiler||this.Compiler),this.process(e,i),Zf("processSync","process",n),r;function i(o,l){n=!0,Il(o),r=l}}run(e,n,r){Xf(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){let d=Is(n);i.run(e,d,p);function p(f,m,w){let g=m||e;f?u(f):l?l(g):r(void 0,g,w)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),Zf("runSync","run",r),i;function o(l,u){Il(l),i=u,r=!0}}stringify(e,n){this.freeze();let r=Is(n),i=this.compiler||this.Compiler;return $l("stringify",i),Xf(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(Vl("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[f,...m]=p;d(f,m)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(i.settings=(0,Os.default)(!0,i.settings,p.settings))}function u(p){let f=-1;if(p!=null)if(Array.isArray(p))for(;++f<p.length;){let m=p[f];o(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,f){let m=-1,w=-1;for(;++m<r.length;)if(r[m][0]===p){w=m;break}if(w===-1)r.push([p,...f]);else if(f.length>0){let[g,...v]=f,F=r[w][1];ai(F)&&ai(g)&&(g=(0,Os.default)(!0,F,g)),r[w]=[p,g,...v]}}}},Wl=new Yl().freeze();function Bl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function $l(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Vl(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Xf(t){if(!ai(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Zf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Is(t){return nv(t)?t:new li(t)}function nv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function rv(t){return typeof t=="string"||iv(t)}function iv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Jf=Wl().use(br).use(_s).freeze();var zl={d:(t,e)=>{for(var n in e)zl.o(e,n)&&!zl.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},Hl={};zl.d(Hl,{Z:()=>lv,$:()=>nh});var Cr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Qf(t){return t<Cr.nul||t===Cr.space}function Ul(t){return t<Cr.horizontalTab}var sv={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var o;if(!r)return i;for(typeof r=="string"&&(r=[r]),o=-1;++o<r.length;)if(n.indexOf(r[o])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,d,p){for(var f,m,w,g,v,F,T,E,S=(p.before||"")+(d||"")+(p.after||""),P=[],W=[],U={},x=-1;++x<u.unsafe.length;)if(g=u.unsafe[x],i(u.stack,g))for(v=r(g);F=v.exec(S);)f="before"in g||g.atBreak,m="after"in g,w=F.index+(f?F[1].length:0),P.indexOf(w)===-1?(P.push(w),U[w]={before:f,after:m}):(U[w].before&&!f&&(U[w].before=!1),U[w].after&&!m&&(U[w].after=!1));for(P.sort(o),T=p.before?p.before.length:0,E=S.length-(p.after?p.after.length:0),x=-1;++x<P.length;)(w=P[x])<T||w>=E||w+1<E&&P[x+1]===w+1&&U[w].after&&!U[w+1].before&&!U[w+1].after||(T!==w&&W.push(l(S.slice(T,w),"\\")),T=w,!/[!-/:-@[-`{-~]/.test(S.charAt(w))||p.encode&&p.encode.indexOf(S.charAt(w))!==-1?(W.push("&#x"+S.charCodeAt(w).toString(16).toUpperCase()+";"),T++):W.push("\\"));return W.push(l(S.slice(T,E),p.after)),W.join("")};var r=n(553),i=n(112);function o(u,d){return u-d}function l(u,d){for(var p,f=/\\(?=[!-/:-@[-`{-~])/g,m=[],w=[],g=-1,v=0,F=u+d;p=f.exec(F);)m.push(p.index);for(;++g<m.length;)v!==m[g]&&w.push(u.slice(v,m[g])),w.push("\\"),v=m[g];return w.push(u.slice(v)),w.join("")}}},eh={};function Nt(t){var e=eh[t];if(e!==void 0)return e.exports;var n=eh[t]={exports:{}};return sv[t](n,n.exports,Nt),n.exports}Nt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Nt.d(e,{a:e}),e},Nt.d=(t,e)=>{for(var n in e)Nt.o(e,n)&&!Nt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Nt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Gl={};(()=>{function t(i={}){let o=i.permalinks||[],l=i.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=i.newClassName||"new",d=i.wikiLinkClassName||"internal",p=i.hrefTemplate||(w=>`#/page/${w}`),f;function m(w){return w[w.length-1]}return{enter:{wikiLink:function(w){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,w)}},exit:{wikiLinkTarget:function(w){let g=this.sliceSerialize(w);m(this.stack).value=g},wikiLinkAlias:function(w){let g=this.sliceSerialize(w);m(this.stack).data.alias=g},wikiLink:function(w){this.exit(w);let g=f,v=l(g.value),F=v.find(W=>o.indexOf(W)!==-1),T=F!==void 0,E;E=T?F:v[0]||"";let S=g.value;g.data.alias&&(S=g.data.alias);let P=d;T||(P+=" "+u),g.data.alias=S,g.data.permalink=E,g.data.exists=T,g.data.hName="a",g.data.hProperties={className:P,href:p(E)},g.data.hChildren=[{type:"text",value:S}]}}}}Nt.d(Gl,{V:()=>t,x:()=>r});var e=Nt(113),n=Nt.n(e);function r(i={}){let o=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,d){let p=d.enter("wikiLink"),f=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),w;return w=m!==f?`[[${f}${o}${m}]]`:`[[${f}]]`,p(),w}}}}})();var ov=Gl.V,av=Gl.x,th=!1;function nh(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}!th&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(th=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:function(o,l,u){var d,p,f=0,m=0,w=0;return function(S){return S!=="[[".charCodeAt(m)?u(S):(o.enter("wikiLink"),o.enter("wikiLinkMarker"),g(S))};function g(S){return m===2?(o.exit("wikiLinkMarker"),function(P){return Ul(P)||P===Cr.eof?u(P):(o.enter("wikiLinkData"),o.enter("wikiLinkTarget"),v(P))}(S)):S!=="[[".charCodeAt(m)?u(S):(o.consume(S),m++,g)}function v(S){return S===r.charCodeAt(f)?d?(o.exit("wikiLinkTarget"),o.enter("wikiLinkAliasMarker"),F(S)):u(S):S===i.charCodeAt(w)?d?(o.exit("wikiLinkTarget"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(S)):u(S):Ul(S)||S===Cr.eof?u(S):(Qf(S)||(d=!0),o.consume(S),v)}function F(S){return f===r.length?(o.exit("wikiLinkAliasMarker"),o.enter("wikiLinkAlias"),T(S)):S!==r.charCodeAt(f)?u(S):(o.consume(S),f++,F)}function T(S){return S===i.charCodeAt(w)?p?(o.exit("wikiLinkAlias"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),E(S)):u(S):Ul(S)||S===Cr.eof?u(S):(Qf(S)||(p=!0),o.consume(S),T)}function E(S){return w===2?(o.exit("wikiLinkMarker"),o.exit("wikiLink"),l(S)):S!==i.charCodeAt(w)?u(S):(o.consume(S),w++,E)}}}}}}(t)),n("fromMarkdownExtensions",ov(t)),n("toMarkdownExtensions",av(t))}var lv=nh,rO=Hl.Z,rh=Hl.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var uv=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function ql(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return uv.test(t)}var Un=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ds(t){let e=(0,Un.getFrontMatterInfo)(t);return(0,Un.parseYaml)(e.frontmatter)??{}}function ih(t,e){let n=(0,Un.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Un.stringifyYaml)(e);return n.exists?ad(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ct(t){if(!at(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function sh(t){return jl(t)&&t.type==="file"}function jl(t){return at(t)&&!!t.isCanvas}function xr(t,e){return{newContent:e,oldContent:t.original,reference:t}}function oh(t){return t.sort((e,n)=>{if(at(e)&&at(n)){let r=ct(e)?e.startOffset:0,i=ct(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ct(n))-Number(ct(e))||r-i}return Qt(e)&&Qt(n)?e.position.start.offset-n.position.start.offset:at(e)?1:-1})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ah(t,e,n){let r=Ie(t,e),i=gt(n);await Rs(t,i);let o=lh(t,n);try{await t.vault.copy(r,o)}catch(l){if(!await t.vault.exists(o))throw l}return o}async function Rs(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function lh(t,e){let n=xe(e);return t.vault.getAvailablePath(Ee(ve(e),ke(e,n)),n.slice(1))}function Kl(t,e,n){let r=ye(t,e);if(t.vault.adapter.insensitive){let i=ve(n),o=ke(n),l;for(;l=Lt(t,i,!0),!l;)o=Ee(ke(i),o),i=ve(i);n=Ee(l.getParentPrefix(),o)}return r.toLowerCase()===n.toLowerCase()?n:lh(t,n)}async function Xl(t,e){let n=await Zl(t,ye(t,e));return n.files.length===0&&n.folders.length===0}async function Zl(t,e){let n=ye(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}async function Ms(t,e,n,r={}){let o={...{shouldFailOnMissingFile:!0},...r};await is(async()=>{let l=await Jl(t,e);if(l===null)return f();let u=await Mn(n,l);if(u===null)return!1;let d=!0;if(!await uh(t,e,async m=>{await t.vault.process(m,w=>w!==l?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:l,path:m.path}),d=!1,w):u)}))return f();return d;function f(){if(o.shouldFailOnMissingFile){let m=ye(t,e);throw new Error(`File '${m}' not found`)}return!0}},o)}async function Jl(t,e){let n=null;return await uh(t,e,async r=>{n=await t.vault.read(r)}),n}async function Ls(t,e,n){let r=Ie(t,e,!1,!0),i=Kl(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let o=gt(i);await Rs(t,o);try{await t.vault.rename(r,i)}catch(l){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw l}return i}async function uh(t,e,n){let r=ye(t,e),i=nt(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(o){if(i=nt(t,r),!i||i.deleted)return!1;throw o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function $s(t,e,n,r=!0){let i=await Mn(n),o={},l=!1;try{o=Ds(t)}catch(m){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:m})),l=!0}if(!mv(i,t,o,e,r))return r?null:t;i.sort((m,w)=>sn(m)&&sn(w)?m.reference.position.start.offset-w.reference.position.start.offset:Bs(m)&&Bs(w)?m.reference.key.localeCompare(w.reference.key)||m.reference.startOffset-w.reference.startOffset:Ns(m)&&Ns(w)?m.reference.key.localeCompare(w.reference.key):sn(m)?-1:1),i=i.filter((m,w)=>m.oldContent===m.newContent?!1:w===0?!0:!mt(m,i[w-1]));for(let m=1;m<i.length;m++){let w=i[m];if(!w)continue;let g=i[m-1];if(g&&sn(g)&&sn(w)&&g.reference.position.end.offset&&g.reference.position.end.offset>w.reference.position.start.offset)return console.warn("Overlapping changes",{change:w,previousChange:g}),null}let u="",d=0,p=!1,f=new Map;for(let m of i)if(sn(m))u+=t.slice(d,m.reference.position.start.offset),u+=m.newContent,d=m.reference.position.end.offset;else if(Bs(m))if(l)console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:m});else{let w=f.get(m.reference.key);w||(w=[],f.set(m.reference.key,w)),w.push(m),p=!0}else Ns(m)&&(l?console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:m}):(ja(o,m.reference.key,m.newContent),p=!0));return await hv(o,f,e),u+=t.slice(d),p&&(u=ih(u,o)),u}async function Vs(t,e,n,r={},i=!0){await Ms(t,e,async o=>tn(t,e)?fv(o,ye(t,e),n,i):await $s(o,ye(t,e),n,i),r)}function ui(t){return jl(t.reference)}function cv(t){return ui(t)&&t.reference.type==="file"}function dv(t){return ui(t)&&t.reference.type==="text"}function sn(t){return Qt(t.reference)}function Ns(t){return at(t.reference)}function Bs(t){return ct(t.reference)}async function fv(t,e,n,r=!0){let i=await Mn(n),o=pv(t),l=new Map;for(let u of i){if(!ui(u))return console.warn("Only canvas changes are supported for canvas files",{change:u,path:e}),null;let d=o.nodes[u.reference.nodeIndex];if(!d)return console.warn("Node not found",{nodeIndex:u.reference.nodeIndex,path:e}),null;if(cv(u)){if(d.file!==u.oldContent)return console.warn("Content mismatch",{actualContent:d.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:e,type:"file"}),null;d.file=u.newContent}else if(dv(u)){let p=l.get(u.reference.nodeIndex);p||(p=[],l.set(u.reference.nodeIndex,p)),p.push(u)}}for(let[u,d]of l.entries()){let p=o.nodes[u];if(!p)return console.warn("Node not found",{nodeIndex:u,path:e}),null;if(typeof p.text!="string")return console.warn("Node text is not a string",{nodeIndex:u,path:e}),null;let f=d.map(m=>xr(m.reference.originalReference,m.newContent));p.text=await $s(p.text,`${e}.node${String(u)}.VIRTUAL_FILE.md`,f,r)}return JSON.stringify(o,null,"	")}async function hv(t,e,n){for(let[r,i]of e.entries()){let o=pn(t,r);if(typeof o!="string")return;let l=i.map(d=>({newContent:d.newContent,oldContent:d.oldContent,reference:{link:"",original:"",position:{end:{col:d.reference.endOffset,line:0,offset:d.reference.endOffset},start:{col:d.reference.startOffset,line:0,offset:d.reference.startOffset}}}})),u=await $s(o,`${n}.frontmatter.${r}.VIRTUAL_FILE.md`,l);if(u===null)return;ja(t,r,u)}}function pv(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function mv(t,e,n,r,i){let o=lr("validateChanges"),l=i?console.warn.bind(console):o;for(let u of t)if(sn(u)){let d=u.reference.position.start.offset,p=u.reference.position.end.offset,f=e.slice(d,p);if(f!==u.oldContent)return l("Content mismatch",{actualContent:f,endOffset:p,expectedContent:u.oldContent,path:r,startOffset:d}),!1}else if(Bs(u)){let d=pn(n,u.reference.key);if(typeof d!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:d}),!1;let p=d.slice(u.reference.startOffset,u.reference.endOffset);if(p!==u.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(Ns(u)){let d=pn(n,u.reference.key);if(d!==u.oldContent)return l("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}var ch=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function dh(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function bn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),oh(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(Qt(n)&&Qt(i))return n.position.start.offset!==i.position.start.offset;if(at(n)&&at(i)){let o=ct(n)?n.startOffset:0,l=ct(i)?i.startOffset:0;return n.key!==i.key||ct(n)!==ct(i)||o!==l}return!0}),e}function Ql(t,e){let n=Ie(t,e,!0);return ci(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function on(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new fd;return await is(async()=>{let o=Ie(t,e);await dh(t),i=Ql(t,o);for(let l of i.keys()){let u=nt(t,l);if(!u)return!1;await fh(t,u);let d=await Jl(t,u);if(!d)return!1;let p=Ds(d),f=i.get(l);if(!f)return!1;for(let m of f){let w;if(Qt(m))w=d.slice(m.position.start.offset,m.position.end.offset);else if(at(m)){let g=pn(p,m.key);if(typeof g!="string")return!1;let v=0,F=g.length;ct(m)&&(v=m.startOffset,F=m.endOffset),w=g.slice(v,F)}else return!0;if(w!==m.original)return!1}}return!0},n),i}async function Tr(t,e){let n=nt(t,e);if(!n||n.deleted)return null;await fh(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await dh(t)),t.metadataCache.getFileCache(n)}function gv(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let i=r;for(;i.deleted;)n.add(i.path),t.vault.fileMap[i.path]=i,i=i.parent??Zr(t,gt(i.path),!0);wt(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&wt(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function ci(t,e,n){let r=gv(t,e);try{return n()}finally{r()}}async function fh(t,e){if(!nn(t,e))return;let n=ye(t,e);for(let r of t.workspace.getLeavesOfType(hd.Markdown))r.view instanceof ch.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function hh(t){return t.vault.getConfig("newLinkFormat")==="relative"}function ph(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yv="\\|",bv=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,kv=/[\\[\]<>_*~=`$]/g,gh=/(?<!\\)\|/g,wh="|";function Av(t){let e=Sr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?hi({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function eu(t,e,n,r={}){await Vs(t,e,async()=>{let i=await Tr(t,e);return await Fv(i,tn(t,e),n)},r)}function di(t){return me(t,bv,({substring:e})=>encodeURIComponent(e))}function Sr(t,e,n,r=!1){let{linkPath:i}=yh(e.link),o=ye(t,n),l=t.metadataCache.getFirstLinkpathDest(i,o);if(l)return l;if(!r)return null;if(i.startsWith("/"))return Ie(t,i,!0);let u=Ee(ve(o),`./${i}`);return u.startsWith("../")?null:Ie(t,u,!0)}function tu(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let o=Ie(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return ci(e,[o],()=>Tv(t))}function fi(t){let e=vv(t);return e[0]?.raw===t?e[0]:null}function vv(t){let e=new Set,n="![",r=" [",i=me(t,n,f=>(e.add(f.offset),r)),l=Jf().use(br).use(rh,{aliasDivider:wh}).parse(i),u=[],d=[];oi(l,f=>{let m;switch(f.type){case"link":m=Iv(f,t);break;case"wikiLink":m=Ov(f,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((f,m)=>f.startOffset-m.startOffset);let p=0;for(let f of u)mh(t,p,f.startOffset-1,d),p=f.endOffset+1;return mh(t,p,t.length-1,d),u.push(...d),u.sort((f,m)=>f.startOffset-m.startOffset),u}function Ev(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:o,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let d=Ie(e,u,!0),p=ye(e,i),f=ye(e,o??i),m=ve(p),w=ve(f),g=new Set;for(let F of[d.path,l]){if(!F)continue;let T=ye(e,F);g.add(T),g.add(ke(T)),g.add(pr(m,T)),g.add(pr(w,T))}for(let F of[f,p])g.add(e.metadataCache.fileToLinktext(d,F,!1));let v=me((0,Ys.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of g){if(F.toLowerCase()===v)return!0;let T=ve(F),E=ke(F,xe(F));if(Ee(T,E).toLowerCase()===v)return!0}return!1}function yh(t){let e=(0,Ys.parseLinktext)(Xr(t));return{linkPath:e.path,subpath:e.subpath}}function nu(t){return fi(t)?.hasAngleBrackets??!1}function bh(t){return fi(t)?.isEmbed??!1}function Cv(t){return fi(t)?.url.startsWith("./")??!1}function Ws(t){return fi(t)?.isWikilink??!1}function hi(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:i,oldSourcePathOrFile:o,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFileNameAlias:d}=t;if(!i)return n.original;let p=Ie(e,i,!0),f=ye(e,l??i),m=Ws(n.original)&&u!==!0,{subpath:w}=yh(n.link),g=!d;if(tn(e,r)&&sh(n))return p.path+w;let v;if(m){let T=fi(n.original);T?.alias&&(v=T.alias,g=!0)}return v??=Ev({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:r,oldSourcePathOrFile:o,oldTargetPath:f,targetPathOrFile:p})?void 0:n.displayText,g||(v===ke(f,xe(f))?v=p.basename:v===ke(f)&&(v=p.name)),tu({alias:v,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:w,targetPathOrFile:p})}async function kh(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:i,shouldUpdateEmbedOnlyLinks:o,shouldUpdateFileNameAlias:l}=t;tn(e,n)&&!e.internalPlugins.getEnabledPluginById(_t.Canvas)||await eu(e,n,u=>{let d=bh(u.original);if(!(o!==void 0&&o!==d))return Av({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:i,shouldUpdateFileNameAlias:l})},t)}function mh(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);me(i,/(?<Url>\S+)/g,(o,l)=>{ql(l)&&r.push({encodedUrl:di(l),endOffset:e+o.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+o.offset,url:l})})}function xv(t,e,n,r,i){n==="/"&&(n="");let o;return e.path===n&&r?o=r:i.shouldForceRelativePath?o=pr(ve(n),i.isWikilink?Cd(t,e):e.path)+r:o=t.metadataCache.fileToLinktext(e,n,i.isWikilink)+r,i.shouldForceRelativePath&&i.shouldUseLeadingDot&&!o.startsWith(".")&&!o.startsWith("#")&&(o=`./${o}`),o}function Tv(t){let{app:e}=t,n=Ie(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=ye(e,t.sourcePathOrFile),i=t.subpath??"",o=Pv(t,n),l=xv(e,n,r,i,o);return o.isWikilink?_v(l,t.alias,o.isEmbed):Sv(l,n,t,o)}function Sv(t,e,n,r){let{app:i}=n,o=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:di(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||nn(i,e)?e.basename:e.name);let d=me(u,kv,"\\$&");return`${o}[${d}](${l})`}function _v(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let o=i?`|${i}`:"";return`${r}[[${t}${o}]]`}async function Fv(t,e,n){if(!t)return[];let r=[],i=(t.sections??[]).filter(o=>o.type==="table").map(o=>({end:o.position.end.offset,start:o.position.start.offset}));for(let o of bn(t)){let l=await n(o);if(l===void 0)continue;let u=xr(o,l);e?ui(u)?r.push(u):console.warn("Unsupported file change",u):(Dv(u,i)&&(u.newContent=u.newContent.replaceAll(gh,yv)),r.push(u))}return r}function Pv(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?bh(t.originalLink):void 0)??!nn(n,e),isWikilink:t.isWikilink??(t.originalLink?Ws(t.originalLink):void 0)??ph(n),shouldForceRelativePath:t.shouldForceRelativePath??hh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?nu(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Cv(t.originalLink):void 0)??!1}}function Ah(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function Iv(t,e){let o=Ah(t,e),l=t.children[0],u=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),d=o.startsWith("<")||u.startsWith("<"),p=ql(t.url),f=t.url;if(!p&&!d)try{f=decodeURIComponent(f)}catch(m){console.error(`Failed to decode URL ${f}`,m)}return{alias:l?.value,encodedUrl:p?di(f):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:d,isEmbed:!1,isExternal:p,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:f}}function Ov(t,e){return{alias:e.includes(wh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Ah(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function Dv(t,e){return!sn(t)||!gh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function vh(t,e){let n=Object.keys(e).map(r=>Rv(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function Rv(t,e,n){let r=t[e],i=t.hasOwnProperty(e),o=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(o);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,d;function u(...p){return l===o&&t[e]===u&&d(),l.apply(this,p)}function d(){t[e]===u&&(i?t[e]=o:delete t[e]),l!==o&&(l=o,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Mv(t,e){return vh(t,e)}function kn(t,e,n){let r=Mv(e,n),i=!1;function o(){if(!i)try{r()}finally{i=!0}}return t.register(o),r}var qs=require("obsidian");var Eh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Us=class extends Eh.Component{registerAsyncEvent(e){zs(this,e)}};function zs(t,e){t.register(()=>{e.asyncEvents.offref(e)})}var Sh=$e(xh(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var B=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(B||{});(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Th=`${Zi}-styles`;function ue(t,...e){t.addClass(B.LibraryName,ts(),...e)}function _h(t,e){Xc(e),Qc(e);let n=Jt(t,"lastLibraryVersion","0.0.0");if((0,Sh.compareVersions)(Na,n.value)<=0)return;n.value=Na;let r=Lv();r.DEBUG=Jc(),document.head.querySelector(`#${Th}`)?.remove(),document.head.createEl("style",{attr:{id:Th},text:Gc})}function Lv(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Gs=class extends qs.Plugin{events=new It;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){lr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),nd(this.afterLoad.bind(this))}onunload(){super.onunload(),_e(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Ot()}async onloadImpl(){_h(this.app,this.manifest.id),this.register(jc(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(zs(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),zs(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort()})}async onLoadSettings(e,n){await Ot()}async onSaveSettings(e,n,r){await Ot()}async onunloadImpl(){await Ot()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new qs.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(je(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Mh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Fh(t,e,n){let r=pt("Logger:invokeAsyncAndLog"),i=performance.now();n??=On(1),r(`${t}:start`,{fn:e,timestampStart:i}),r.printStackTrace(n);try{await e();let o=performance.now();r(`${t}:end`,{duration:o-i,fn:e,timestampEnd:o,timestampStart:i}),r.printStackTrace(n)}catch(o){let l=performance.now();throw r(`${t}:error`,{duration:l-i,error:o,fn:e,timestampEnd:l,timestampStart:i}),r.printStackTrace(n),o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function An(t,e,n,r){r??=On(1),_e(()=>Nv(t,e,n,r))}async function Nv(t,e,n,r){n??=6e4,r??=On(1);let o=Ph(t).value;o.items.push({fn:e,stackTrace:r,timeoutInMilliseconds:n}),o.promise=o.promise.then(()=>Ih(t)),await o.promise}function Ph(t){return Jt(t,"queue",{items:[],promise:Promise.resolve()})}async function Ih(t){let e=Ph(t).value,n=e.items[0];n&&(await Ha(()=>Ga(n.timeoutInMilliseconds,()=>Fh(Ih.name,n.fn,n.stackTrace),{queuedFn:n.fn})),e.items.shift())}var Oh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function js(t,e){let n=Lt(t,e);for(;n;){if(!await Xl(t,n))return;let r=n.parent;await _r(t,n.path),n=r}}async function _r(t,e,n,r,i){let o=Ln(t,e);if(!o)return!1;let l=wt(o)||(i??!0);if(wt(o)){let u=await on(t,o);n&&u.clear(n),u.count()!==0&&(r&&new Oh.Notice(`Attachment ${o.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(Za(o)){let u=await Zl(t,o);for(let d of[...u.files,...u.folders])l&&=await _r(t,d,n,r);l&&=await Xl(t,o)}if(l)try{await t.fileManager.trashFile(o)}catch(u){await t.vault.exists(o.path)&&(Dn(new Error(`Failed to delete ${o.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ru=new Map,pi=new Set,Ks=new Map,rt=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(rt||{});function Lh(t,e){let n=Xs(t.app),r=t.manifest.id;n.set(r,e),Rh(t.app),t.register(()=>{n.delete(r),Rh(t.app)});let i=t.app;t.registerEvent(i.vault.on("delete",o=>{Wv(t,o)})),t.registerEvent(i.vault.on("rename",(o,l)=>{Gv(t,o,l)})),t.registerEvent(i.metadataCache.on("deleted",(o,l)=>{zv(t,o,l)})),kn(t,i.fileManager,{runAsyncLinkUpdate:o=>l=>jv(i,o,l)})}async function Nh(t,e,n){let r=vn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let i of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await _r(t,i,n,void 0,!0);break;case"DeleteWithEmptyParents":await js(t,i);break;default:break}}async function Bv(t,e,n,r,i){let o=Ks.get(e);if(o){Ks.delete(e);for(let l of o)await iu(t,l.oldPath,n,r,i,l.combinedBacklinksMap)}}async function $v(t,e,n,r,i){if(r.set(e,n),!mi(t,e))return;let o=vn(t),l=await mr(t,e),u=o.shouldRenameAttachmentFolder?await mr(t,n):l,d=l==="/",p=Lt(t,l);if(!p||l===u&&!o.shouldRenameAttachmentFiles)return;let f=[];if(await Qa(t,e))Mh.Vault.recurseChildren(p,g=>{wt(g)&&f.push(g)});else for(let g of i){let v=Sr(t,g,e);v&&(d||v.path.startsWith(l))&&(await on(t,v)).keys().length===1&&f.push(v)}let m=ke(e,xe(e)),w=ke(n,xe(n));for(let g of f){if(mi(t,g.path))continue;let v=d?g.path:pr(l,g.path),F=Ee(u,ve(v)),T=o.shouldRenameAttachmentFiles?me(g.basename,m,w):g.basename,E=Ee(F,Mt(T,g.extension));if(g.path!==E){if(o.shouldDeleteConflictingAttachments){let S=nt(t,E);S&&(console.warn(`Removing conflicting attachment ${S.path}.`),await t.fileManager.trashFile(S))}else E=t.vault.getAvailablePath(Ee(F,T),g.extension);r.set(g.path,E)}}}function Xs(t){return Jt(t,"renameDeleteHandlersMap",new Map).value}function vn(t){let e=Xs(t),n=Array.from(e.values()).reverse(),r={};r.isNote=i=>Jr(t,i),r.isPathIgnored=()=>!1;for(let i of n){let o=i();r.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=o.shouldHandleDeletions??!1,r.shouldHandleRenames||=o.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=d=>l(d)||(o.isPathIgnored?.(d)??!1);let u=r.isNote;r.isNote=d=>u(d)&&(o.isNote?.(d)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function Vv(t,e,n,r,i){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let o=Ee(ve(n),`__temp__${ke(n)}`);return await $h(t,n,o),await iu(t,e,o,r,i),await t.vault.rename(Ie(t,o),n),!0}async function Yv(t,e){if(pt("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!mi(t,e))return;let n=vn(t);if(!n.shouldHandleDeletions)return;if(n.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let r=ru.get(e);ru.delete(e);let i=new Set;if(r){let u=bn(r);for(let d of u){let p=Sr(t,d,e);p&&(mi(t,p.path)||(i.add(p.parent?.path??""),await _r(t,p,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")))}}await Nh(t,Array.from(i),e);let o=await mr(t,e),l=Lt(t,o);l&&await Qa(t,e)&&await _r(t,l,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")}function Wv(t,e){let n=t.app;if(!su(t))return;let r=e.path;An(n,()=>Yv(n,r))}function Uv(t,e,n){let r=vn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&nn(t,e)&&n&&ru.set(e.path,n)}function zv(t,e,n){su(t)&&Uv(t.app,e,n)}function Hv(t,e,n){let r=Bh(e,n);if(pt("RenameDeleteHandler:handleRename")(`Handle Rename ${r}`),pi.has(r)){pi.delete(r);return}let i=vn(t);if(!i.shouldHandleRenames)return;if(i.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(i.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?bn(o):[],u=Ql(t,e).data;An(t,()=>iu(t,e,n,u,l))}async function iu(t,e,n,r,i,o){if(await Bv(t,e,n,r,i),await qv(t,e,n,r,i),!await Vv(t,e,n,r,i))try{let l=new Map;await $v(t,e,n,l,i);let u=new Map;Dh(r,l,u,e);for(let f of l.keys()){if(f===e)continue;let m=(await on(t,f)).data;Dh(m,l,u,f)}let d=new Set;for(let[f,m]of l.entries()){if(f===e)continue;let w=await $h(t,f,m);l.set(f,w),d.add(ve(f))}await Nh(t,Array.from(d),e);let p=vn(t);for(let[f,m]of Array.from(u.entries()).concat(Array.from(o?.entries()??[])))await eu(t,f,w=>{let g=m.get(dr(w));if(!g)return;let v=l.get(g);if(v)return hi({app:t,link:w,newSourcePathOrFile:f,newTargetPathOrFile:v,oldTargetPathOrFile:g,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1});if(mi(t,n)&&await kh({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases}),!nt(t,n)){let f=Ks.get(n);f||(f=[],Ks.set(n,f)),f.push({combinedBacklinksMap:u,oldPath:e})}}finally{let l=Array.from(pi);An(t,()=>{for(let u of l)pi.delete(u)})}}function Gv(t,e,n){if(!su(t)||!wt(e))return;let r=e.path;Hv(t.app,n,r)}function Dh(t,e,n,r){for(let[i,o]of t.entries()){let l=e.get(i)??i,u=n.get(l)??new Map;n.set(l,u);for(let d of o)u.set(dr(d),r)}}function mi(t,e){return vn(t).isNote?.(e)??!1}function Rh(t){let e=Xs(t);pt("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function Bh(t,e){return`${t} -> ${e}`}async function qv(t,e,n,r,i){let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?bn(o):[],u=Ie(t,e,!0),d=new Map;await ci(t,[u],async()=>{d=(await on(t,u)).data});for(let p of l)i.includes(p)||i.push(p);for(let[p,f]of d.entries()){let m=r.get(p);m||(m=[],r.set(p,m));for(let w of f)m.includes(w)||m.push(w)}}async function $h(t,e,n){if(n=Kl(t,e,n),e===n)return n;let r=Bh(e,n);return pi.add(r),n=await Ls(t,e,n),n}async function jv(t,e,n){await e.call(t.fileManager,r);async function r(i){let o=!1,l=t.vault.on("rename",()=>{o=!0});try{await n(i)}finally{t.vault.offref(l)}let u=vn(t);o&&u.shouldHandleRenames&&qr(i,d=>u.isPathIgnored?.(d.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${d.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(d.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${d.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(_t.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:d.sourceFile.extension==="canvas"||d.resolvedFile.extension==="canvas")}}function su(t){let e=t.app,n=t.manifest.id,r=Xs(e);return Array.from(r.keys())[0]===n}var En=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Q(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}function Vh(t){return`${String(t)}px`}var Yh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Wh(t){let n={...{abortSignal:AbortSignal.any([]),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Rn,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=n.items,i=0,o=null;n.shouldShowProgressBar&&(o=new Yh.Notice("",0));let l=sleep(n.noticeMinTimeoutInMilliseconds),u=createEl("progress");if(u.max=r.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(u),o?.setMessage(p)}let d=performance.now();for(let p of r){if(n.abortSignal.aborted){o?.hide();return}i++;let f=`# ${String(i)} / ${String(r.length)}`,m=n.buildNoticeMessage(p,f);n.shouldShowProgressBar||o?.setMessage(m),pt("Loop")(m);let w=new Error(Qi);try{performance.now()-d>n.uiUpdateThresholdInMilliseconds&&(await rd(),d=performance.now()),await n.processItem(p)}catch(g){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw o?.hide(),g;w.cause=g,es(w)}u.value++}await l,o?.hide()}var ou=require("obsidian");var Uh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Fr=class extends Uh.Modal{constructor(e,n,r){super(e.app),this.resolve=n,ue(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function Zs(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var au=class extends Fr{isConfirmed=!1;options;constructor(e,n){super(e,n,B.ConfirmModal);let r={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new ou.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(B.OkButton);let n=new ou.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(B.CancelButton)}};async function Js(t){return await Zs(e=>new au(t,e))}var to=require("obsidian");var fu=$e(Xt(),1);var qh=$e(zh(),1);var an=require("obsidian");var cu=class extends an.Modal{constructor(n){super(n.ctx.app);this.options=n;ue(this.containerEl,"preview-modal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),_e(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),_e(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(`Preview attachment file '${r}'`);let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let o=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:o},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},du=class extends an.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;ue(this.containerEl,B.PromptModal),this.value=n.ctx.originalAttachmentFileName}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){let n=createFragment(f=>{f.appendText("Provide a value for the prompt token:"),f.createEl("br"),f.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),f.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),f.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});super.onOpen(),this.titleEl.setText(n);let r=new an.TextComponent(this.contentEl),i=r.inputEl,o=async()=>{let f=await this.options.valueValidator(i.value);i.setCustomValidity(f??""),i.reportValidity()};r.setValue(this.value),r.setPlaceholder("Provide a value for the prompt token"),i.addClass(B.TextBox),r.onChange(f=>{this.value=f}),i.addEventListener("keydown",f=>{f.key==="Enter"?this.handleOk(f,r):f.key==="Escape"&&this.close()}),i.addEventListener("input",je(o)),i.addEventListener("focus",je(o)),_e(o);let l=new an.ButtonComponent(this.contentEl);l.setButtonText("OK"),l.setCta(),l.onClick(f=>{this.handleOk(f,r)}),l.setClass(B.OkButton);let u=new an.ButtonComponent(this.contentEl);u.setButtonText("Cancel"),u.onClick(this.close.bind(this)),u.setClass(B.CancelButton);let d=new an.ButtonComponent(this.contentEl);d.setButtonText("Preview attachment file"),d.onClick(this.preview.bind(this));let p=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!p)&&d.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new cu(this.options).open()}};function Hh(t){return new Promise(e=>{new du(t,e).open()})}var Kv=cd(qh.default),jh="__VALIDATION__",Xv=["1","2","3","4","5","6","any"],Zv=/^\.{3,}$/,Jv=/\.+$/,hu=/[\\/:*?"<>|]/,gi=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function pu(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return Dn(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}}function Qv(t){return(0,fu.default)().format(t)}function Gh(t,e,n,r){let i=nt(t,e);return i?(0,fu.default)(r(i)).format(n):""}function eE(t,e){let{base:i,parameter:o}=eo(e);switch(i){case"":case"B":return t.toFixed(o??0);case"KB":return(t/1024).toFixed(o??0);case"MB":return(t/1048576).toFixed(o??0);default:throw new Error(`Invalid file size format: ${e}`)}}function tE(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let l=e.slice(0,i),u=e.slice(i+1),d=eo(l);switch(d.base){case"indexFromEnd":r=n.length-1-(d.parameter??0);break;case"indexFromStart":r=d.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${l}`);return zn(n[r]??"",l)}let p=n[r]??"";return zn(p,u)}function zn(t,e){let{base:n,parameter:r}=eo(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return aE(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}function nE(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=eo(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let o=0;o<(n??1);o++)i+=sE(r);return i}function rE(t,e,n){let r=nt(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let o=pn(i.frontmatter,n)??"";return String(o)}async function iE(t){if(zn("",t.format),t.noteFilePath===jh)return"";let e=await Hh({ctx:t,valueValidator:n=>Hn({app:t.app,areSingleDotsAllowed:!0,fileName:n,isEmptyAllowed:!0,tokenValidationMode:"Error"})});if(e===null)throw new Error("Prompt cancelled");return zn(e,t.format)}var it=class t{static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=ke(this.noteFilePath,xe(this.noteFilePath)),this.noteFolderName=ke(ve(this.noteFilePath)),this.noteFolderPath=ve(this.noteFilePath);let n=e.originalAttachmentFileName??"",r=xe(n);if(this.originalAttachmentFileName=ke(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>Qv(r.format)),this.registerToken("noteFileCreationDate",r=>Gh(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>Gh(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("noteFileName",r=>zn(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>tE(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>rE(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>zn(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",r=>iE(r)),this.registerToken("random",r=>nE(r.format)),this.registerToken("attachmentFileSize",r=>eE(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>zn(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=pu(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await ld(e,gi,async(n,r,i)=>{let o=t.evaluators.get(r.toLowerCase());if(!o)throw new Error(`Unknown token '${r}'.`);let l={app:this.app,attachmentFileContent:this.attachmentFileContent,fillTemplate:this.fillTemplate.bind(this),format:i,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:r,tokenEndOffset:n.offset+n.substring.length,tokenStartOffset:n.offset,tokenWithFormat:n.substring};try{let u=await o(l,this);if(typeof u!="string")throw console.error("Token returned non-string value.",{ctx:l,result:u}),new Error("Token returned non-string value");return u}catch(u){throw new Error(`Error formatting token \${${r}}`,{cause:u})}})}async getHeading(e){if(e||="any",!Xv.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Tr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),o=n.get(i)??-1;r.position.start.line>o&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};async function Hn(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(gi))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await Kh(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=oE(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?hu.test(e)?`File name "${t.fileName}" contains invalid symbols`:Zv.test(e)?`File name "${t.fileName}" contains more than two dots`:Jv.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}async function Qs(t){if(t.areTokensAllowed){let r=await Kh(t.app,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match(gi))return"Tokens are not allowed in path";let e=as(t.path,"/");if(e=os(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Hn({app:t.app,areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(i)return i}return""}function sE(t){return t[Math.floor(Math.random()*t.length)]??""}function eo(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}function oE(t){return me(t,gi,(e,n,r)=>`_${n}_${r}_`)}function aE(t){return Kv(t,{lower:!0})}async function Kh(t,e){let n=new it({app:t,noteFilePath:jh}),r=e.matchAll(gi);for(let i of r){let o=i.groups?.Token??"";if(!it.isRegisteredToken(o))return`Unknown token '${o}'.`;let u=(i.groups?.Format??"").split(",");for(let d of u)try{await n.fillTemplate(`\${${o}:${d}}`)}catch{return`Token '${o}' is used with unknown format '${d}'.`}}return null}async function wi(t,e,n,r){return await cE(t,new it({app:t.app,attachmentFileContent:r,noteFilePath:e,originalAttachmentFileName:n}))}async function yi(t,e){let n=await Xh(t,t.settings.generatedAttachmentFileName,e,!0),r=await Hn({app:t.app,areSingleDotsAllowed:!1,fileName:n,isEmptyAllowed:!1,tokenValidationMode:"Error"});if(r){let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw new to.Notice(i),console.error(i,e),new Error(i)}return n}function uE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}async function cE(t,e){return await Xh(t,t.settings.attachmentFolderPath,e,!1)}async function Xh(t,e,n,r){let i=await n.fillTemplate(e),o=await Qs({app:t.app,areTokensAllowed:!1,path:i});if(o)throw new Error(`Resolved path ${i} is invalid: ${o}`);return i=uE(t,i),r||((i.startsWith("./")||i.startsWith("../"))&&(i=Ee(n.noteFolderPath,i)),i=(0,to.normalizePath)(i)),i}var Ir=require("obsidian");var io=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,Zh=/(?:)/,no=/$./,Pr=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Pr||{}),Gn=(o=>(o.Cancel="Cancel",o.Copy="Copy",o.Move="Move",o.Prompt="Prompt",o.Skip="Skip",o))(Gn||{}),ro=class{attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=rt.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=mu(this._excludePaths,no)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=mu(this._excludePathsFromAttachmentCollecting,no)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=mu(this._includePaths,Zh)}get specialCharactersRegExp(){return new RegExp(`[${ss(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=no;_excludePathsRegExp=no;_includePaths=[];_includePathsRegExp=Zh;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function mu(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${ss(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var gu=class extends Ir.Modal{constructor(n,r,i,o){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=o}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Ir.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText("Attachment "),Q(r,this.attachmentPath),r.appendText(" is referenced by multiple notes."),r.createEl("ul",{},i=>{for(let o of this.backlinks)i.createEl("li",{},l=>[l.appendChild(createFragment(u=>{Q(u,o)}))])})}));let n=!1;new Ir.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new Ir.Setting(this.contentEl).addButton(r=>{r.setButtonText("Skip"),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText("Move"),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText("Copy"),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText("Cancel"),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function Jh(t,e,n){return new Promise(r=>{new gu(t,e,n,r).open()})}async function Qh(t,e,n){let r=t.app;if(n.isAborted)return;let i=new En.Notice(`Collecting attachments for ${e.path}`),o=new Map,l=tn(r,e);await Vs(r,e,async()=>{if(n.isAborted)return[];let u=await Tr(r,e);if(!u)return[];let d=l?await dE(r,e):bn(u),p=[];for(let f of d){if(n.isAborted)return p;let m=await fE(t,f,e.path,e.path);if(!m)continue;if(t.settings.isExcludedFromAttachmentCollecting(m.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${m.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let w=await on(r,m.oldAttachmentPath);if(w.keys().length>1){let v=w.keys().sort((E,S)=>E.localeCompare(S)),F=v.map(E=>`- ${E}`).join(`
`);async function T(E){if(!m)return!1;switch(E){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${m.oldAttachmentPath} is referenced by multiple notes.
${F}`),new En.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":m.newAttachmentPath=await ah(r,m.oldAttachmentPath,m.newAttachmentPath);break;case"Move":await g();break;case"Prompt":{let{mode:S,shouldUseSameActionForOtherProblematicAttachments:P}=await Jh(r,m.oldAttachmentPath,v);return P&&(n.collectAttachmentUsedByMultipleNotesMode=S),T(S)}case"Skip":return console.warn(`Skipping collecting attachment ${m.oldAttachmentPath} as it is referenced by multiple notes.
${F}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(!await T(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode))continue}else await g();async function g(){m&&(m.newAttachmentPath=await Ls(r,m.oldAttachmentPath,m.newAttachmentPath),await js(r,ve(m.oldAttachmentPath)))}if(o.set(m.oldAttachmentPath,m.newAttachmentPath),!l){let v=hi({app:r,link:f,newSourcePathOrFile:e,newTargetPathOrFile:m.newAttachmentPath,oldTargetPathOrFile:m.oldAttachmentPath});p.push(xr(f,v))}}return p},t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"?{timeoutInMilliseconds:za}:void 0),l&&await Ms(r,e,u=>{let d=JSON.parse(u);for(let p of d.nodes){if(p.type!=="file")continue;let f=o.get(p.file);f&&(p.file=f)}return dr(d)}),i.hide()}function ep(t,e){let n=t.app.workspace.getActiveFile();return qn(t,n)?(e||An(t.app,()=>so(t,n?.parent??Zt(new Error("Parent folder not found")))),!0):!1}function tp(t,e){let n=t.app.workspace.getActiveFile();if(!n||!qn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new En.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;An(t.app,()=>Qh(t,n,{}))}return!0}function np(t){An(t.app,()=>so(t,t.app.vault.getRoot()))}async function so(t,e){if(!await Js({app:t.app,message:createFragment(o=>{o.appendText("Do you want to collect attachments for all notes in folder: "),Q(o,e.path),o.appendText(" and all its subfolders?"),o.createEl("br"),o.appendText("This operation cannot be undone.")}),title:createFragment(o=>{(0,En.setIcon)(o.createSpan(),"lucide-alert-triangle"),o.appendText(" Collect attachments in folder")})}))return;t.consoleDebug(`Collect attachments in folder: ${e.path}`);let n=[];En.Vault.recurseChildren(e,o=>{qn(t,o)&&n.push(o)}),n.sort((o,l)=>o.path.localeCompare(l.path));let r={},i=new AbortController;await Wh({abortSignal:AbortSignal.any([t.abortSignal,i.signal]),buildNoticeMessage:(o,l)=>`Collecting attachments ${l} - ${o.path}`,items:n,processItem:async o=>{if(t.settings.isPathIgnored(o.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${o.path}.`);return}await Qh(t,o,r),r.isAborted&&i.abort()},progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}function qn(t,e){if(!e||!Jr(t.app,e))return!1;let n=ye(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async function dE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}async function fE(t,e,n,r){let i=t.app,o=Sr(i,e,r);if(!o)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(qn(t,o))return console.warn(`Skipping collecting attachment ${o.path} as it is a note.`),null;let l=o.path,u=o.name,d=ke(r,xe(r)),p=ke(n,xe(n)),f;t.settings.shouldRenameCollectedAttachments?f=Mt(await yi(t,new it({app:t.app,attachmentFileContent:await t.app.vault.readBinary(o),noteFilePath:n,originalAttachmentFileName:o.name})),o.extension):t.settings.shouldRenameAttachmentFiles?f=u.replaceAll(d,p):f=u;let m=await wi(t,n,f),w=Ee(m,f);return l===w?(console.warn(`Skipping collecting attachment ${o.path} as it is already in the destination folder.`),null):{newAttachmentPath:w,oldAttachmentPath:l}}var Xm=require("obsidian");var rp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wu=class extends Fr{options;constructor(e,n){super(e,n,B.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new rp.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(B.OkButton)}};async function yu(t){await Zs(e=>new wu(t,e))}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Cn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,String(u)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let o={};for(let l of cr(e)){let u=e[l],d=this.transformValueRecursively(u,l);o[l]=d}return o}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bt=class extends Cn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var oo=class extends bt{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var ip=$e(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ao=class extends bt{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,ip.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lo=class extends Cn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??Zt(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var uo=class extends bt{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var co=class extends bt{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var hE="_",fo=class extends Cn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(hE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bi=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ho=class extends bt{get id(){return"two-way-map"}canTransform(e){return e instanceof bi}restoreValue(e){return new bi(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var pE=new lo([new fo,new oo,new ao,new uo,new co,new ho]),po=class extends It{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=cr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),o=await this.validate(i);for(let u of this.propertyNames)this.setPropertyImpl(u,i[u],o[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);mt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async saveToFile(e){mt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let o=await i(e[r],e);o&&(n[r]=o)}return n}getTransformer(){return pE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ot()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(o){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),d=o;n(d);for(let p of Object.keys(d))u.has(p)||l.has(p)&&delete o[p]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Zm=$e(qm(),1);var c2=2e3,Nu=class{autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},So=class extends po{shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,Xm.debounce)(this.customTokensValidatorImpl.bind(this),c2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new ro}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Nu,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=jm(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=jm(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&_e(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await yu({app:this.app,message:createFragment(r=>{r.appendText('In plugin version 9.0.0, the "Rename attachments to lower case" setting is deprecated. Use '),Q(r,"lower"),r.appendText(" format instead. See "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation."}),r.appendText(" for more information.")})})}),e.customTokensStr&&e.warningVersion&&(0,Zm.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.

${d2(e.customTokensStr)}
`,_e(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await yu({app:this.app,message:createFragment(r=>{r.appendText("In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),r.appendText(" for more information.")})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?rt.Keep:rt.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await Qs({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",e=>Hn({app:this.app,areSingleDotsAllowed:!1,fileName:e,isEmptyAllowed:!1,tokenValidationMode:"Validate"})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(hu.exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await Hn({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>Km(e)),this.registerValidator("excludePaths",e=>Km(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=pu(e);this.lastCustomTokenValidatorResult=n===null?"Invalid custom tokens code":void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=me(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=me(e,`substitutions.${r}`,`substitutions.${i}`);return e}};function jm(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}function d2(t){return t.replaceAll(/^/gm,"// ")}function Km(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!od(n))return`Invalid regular expression ${e}`}}var aa=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function _o(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function Fo(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}var Kn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Po(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(B.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();ue(r,B.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}var Jm=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Bu=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Qm(t){return f2(t)?t:t instanceof Jm.AbstractTextComponent?new Bu(t):null}function f2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var We=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Io=class{constructor(e){this.el=e;let n=Po(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ue(this._validatorEl,B.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},xn=class{constructor(e){this.validatorEl=e}};function eg(t){return h2(t)?t:t instanceof We.ColorComponent?new xn(t.colorPickerEl):t instanceof We.DropdownComponent?new xn(t.selectEl):t instanceof We.ProgressBarComponent?new Io(t.progressBar):t instanceof We.SearchComponent?new xn(t.inputEl):t instanceof We.SliderComponent?new xn(t.sliderEl):t instanceof We.TextAreaComponent?new xn(t.inputEl):t instanceof We.TextComponent?new xn(t.inputEl):t instanceof We.ToggleComponent?new Io(t.toggleEl):null}function h2(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function tg(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $u="PluginSettingsTab",Oo=class extends Kn.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,ue(this.containerEl,B.PluginSettingsTab),this.saveSettingsDebounced=(0,Kn.debounce)(je(()=>this.plugin.settingsManager.saveToFile($u)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Us,this.asyncEvents=new It}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let o={...{componentToPluginSettingsValueConverter:S=>S,onChanged:Rn,pluginSettingsToComponentValueConverter:S=>S,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=eg(e)?.validatorEl,u=Qm(e),d=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(o.pluginSettingsToComponentValueConverter(p));let f,m=null,w=null;if(l){let S=Po(l);m=S.createDiv(),ue(m,B.Tooltip,B.TooltipValidator),w=m.createSpan();let P=m.createDiv();ue(P,B.TooltipArrow),m.hide(),S.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(S,P)=>{n===S&&(f=P,T())}));let g=!1;u&&o.shouldShowPlaceholderForDefaultValues&&mt(d,p)?u.empty():e.setValue(o.pluginSettingsToComponentValueConverter(d));let v=!1,T=(0,Kn.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async S=>{if(v){v=!1;return}g=!1;let P=this.pluginSettings[n],W,U=!0;if(u?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty)W=p;else{let x=o.componentToPluginSettingsValueConverter(S);tg(x)?(f=x.validationMessage,U=!1):W=x}U&&(f=await this.plugin.settingsManager.setProperty(n,W),u&&o.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&mt(W,p)&&(g=!0)),T(),W!==void 0&&await o.onChanged(W,P),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{T()}),l?.addEventListener("blur",()=>{T()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{T()})}),f=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",T(),e;function E(){g&&!l?.isActiveElement()&&(g=!1,u?.isEmpty()||(v=!0,u?.empty())),l&&(f===""&&(l.setCustomValidity(""),l.checkValidity(),f=l.validationMessage),l.setCustomValidity(f),o.shouldShowValidationMessage?(w&&(w.textContent=f),m?.toggle(!!f)):f&&(0,Kn.setTooltip)(l,f))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),_e(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile($u)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ot()}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===$u){for(let[i,o]of Object.entries(e.validationMessages))await this.asyncEvents.triggerAsync("validationMessageChanged",i,o);return}this.display()}};var ug=require("obsidian");var ng=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Do=class extends ng.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,B.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Rr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ro=class extends Rr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ue(e,B.CodeHighlighterComponent);let n=e.createDiv();ue(n,B.SettingComponentWrapper),this.textAreaComponent=new Rr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",je(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,_e(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),_e(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,o=n.slice(0,r),l=n.slice(i),u=" ".repeat(this.tabSize),d=o;e.shiftKey?o.endsWith(u)&&(d=o.slice(0,-this.tabSize)):d=o+u;let p=`${d}${l}`;this.setValue(p),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Rr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(B.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Vh(n)}),this.handleScroll()})}};var Vu=$e(Xt(),1);var Mo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var De=class extends Mo.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new Mo.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ue(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ot=class extends De{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var rg="YYYY-MM-DD",Lo=class extends ot{constructor(e){super(e,"date",B.DateComponent)}valueFromString(e){return(0,Vu.default)(e,rg).toDate()}valueToString(e){return(0,Vu.default)(e).format(rg)}};var Yu=$e(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ig="YYYY-MM-DDTHH:mm",No=class extends ot{constructor(e){super(e,"datetime-local",B.DateTimeComponent)}valueFromString(e){return(0,Yu.default)(e,ig).toDate()}valueToString(e){return(0,Yu.default)(e).format(ig)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Bo=class extends De{constructor(e){super(e,"email",B.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $o=class extends De{constructor(e){super(e,"file",B.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Wu=$e(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var sg="YYYY-MM",Vo=class extends ot{constructor(e){super(e,"month",B.MonthComponent)}valueFromString(e){let n=(0,Wu.default)(e,sg);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Wu.default)().year(e.year).month(e.month-1).format(sg)}};var Yo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Mr=class extends Yo.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Yo.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ue(e,B.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Wo=class extends De{constructor(e){super(e,"email",B.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Uo=class extends De{constructor(e){super(e,"file",B.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Ho=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var zo=class extends Ho.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Ho.TextAreaComponent(e),ue(e,B.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Go=class extends ot{constructor(e){super(e,"number",B.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qo=class extends De{constructor(e){super(e,"password",B.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var jo=class extends De{constructor(e){super(e,"tel",B.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Xo=$e(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ko=class extends ot{constructor(e){super(e,"time",B.TimeComponent)}valueFromString(e){return(0,Xo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Xo.utc)(e.asMilliseconds()).format(n)}};var og=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zo=class extends og.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,B.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Qo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Jo=class extends Qo.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Qo.DropdownComponent(e),ue(e,B.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var ag=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ea=class extends ag.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Mr(e),ue(e,B.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ta=class extends De{constructor(e){super(e,"url",B.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Uu=$e(Xt(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lg="YYYY-[W]WW",na=class extends ot{constructor(e){super(e,"week",B.WeekComponent)}valueFromString(e){let n=(0,Uu.default)(e,lg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Uu.default)().year(e.year).isoWeek(e.weekNumber).format(lg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ge=class extends ug.Setting{addCheckbox(e){return this.addComponent(Do,e)}addCodeHighlighter(e){return this.addComponent(Ro,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Lo,e)}addDateTime(e){return this.addComponent(No,e)}addEmail(e){return this.addComponent(Bo,e)}addFile(e){return this.addComponent($o,e)}addMonth(e){return this.addComponent(Vo,e)}addMultipleDropdown(e){return this.addComponent(Mr,e)}addMultipleEmail(e){return this.addComponent(Wo,e)}addMultipleFile(e){return this.addComponent(Uo,e)}addMultipleText(e){return this.addComponent(zo,e)}addNumber(e){return this.addComponent(Go,e)}addPassword(e){return this.addComponent(qo,e)}addTelephone(e){return this.addComponent(jo,e)}addTime(e){return this.addComponent(Ko,e)}addTriStateCheckbox(e){return this.addComponent(Zo,e)}addTypedDropdown(e){return this.addComponent(Jo,e)}addTypedMultipleDropdown(e){return this.addComponent(ea,e)}addUrl(e){return this.addComponent(ta,e)}addWeek(e){return this.addComponent(na,e)}};var ia=require("obsidian");var Lr="custom-attachment-location-tokenized-string",ra=class extends ia.Component{onload(){super.onload(),_e(this.initPrism.bind(this))}async initPrism(){let e=await(0,ia.loadPrism)();e.languages[Lr]={expression:{greedy:!0,inside:{format:{alias:"number",pattern:/[a-zA-Z0-9_]+/},formatDelimiter:{alias:"regex",pattern:/:/},prefix:{alias:"regex",pattern:/[${}]/},token:{alias:"string",pattern:/^[a-zA-Z0-9_,]+/}},pattern:/\${[a-zA-Z0-9_]+(?::[a-zA-Z0-9_,]*)?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Lr]})}};var sa="\u2423",oa=class extends Oo{display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,aa.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()}};new ge(this.containerEl).setName("Location for new attachments").setDesc(createFragment(i=>{i.appendText("Start with "),Q(i,"."),i.appendText(" to use relative path."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Dot-folders like "),Q(i,".attachments"),i.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" Plugin to manage them.")})).addCodeHighlighter(i=>{i.setLanguage(Lr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),new ge(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(i=>{i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(i=>{i.setLanguage(Lr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),new ge(this.containerEl).setName("Markdown URL format").setDesc(createFragment(i=>{i.appendText("Format for the URL that will be inserted into Markdown."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Leave blank to use the default format.")})).addCodeHighlighter(i=>{i.setLanguage(Lr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),new ge(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(i=>{i.appendText("When attaching files:"),i.createEl("br"),Q(i,"None"),i.appendText(" - their names are preserved."),i.createEl("br"),Q(i,"Only pasted images"),i.appendText(" - only pasted images are renamed."),i.createEl("br"),Q(i,"All"),i.appendText(" - all files are renamed.")})).addDropdown(i=>{i.addOptions(Pr),this.bind(i,"attachmentRenameMode",{componentToPluginSettingsValueConverter:o=>Fo(Pr,o),pluginSettingsToComponentValueConverter:o=>_o(Pr,o)})}),new ge(this.containerEl).setName("Should rename attachment folder").setDesc(createFragment(i=>{i.appendText("When renaming md files, automatically rename attachment folder if folder name contains "),Q(i,"${noteFileName}"),i.appendText(".")})).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),new ge(this.containerEl).setName("Should rename attachment files").setDesc(createFragment(i=>{i.appendText("When renaming md files, automatically rename attachment files if file name contains "),Q(i,"${noteFileName}"),i.appendText(".")})).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),new ge(this.containerEl).setName("Special characters").setDesc(createFragment(i=>{i.appendText("Special characters in attachment folder and file name to be replaced or removed."),i.createEl("br"),i.appendText("Leave blank to preserve special characters.")})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:o=>o.replaceAll(sa,""),pluginSettingsToComponentValueConverter:o=>o.replaceAll(" ",sa),shouldResetSettingWhenComponentIsEmpty:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=zu(i.inputEl.value)})}),new ge(this.containerEl).setName("Special characters replacement").setDesc(createFragment(i=>{i.appendText("Replacement string for special characters in attachment folder and file name."),i.createEl("br"),i.appendText("Leave blank to remove special characters.")})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new ge(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),new ge(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(i=>{i.addOptions(p2()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:o=>Number(o),pluginSettingsToComponentValueConverter:o=>o.toString()})}),new ge(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(i=>{i.appendText("If enabled, attachments processed via "),Q(i,"Collect attachments"),i.appendText(" commands will be renamed according to the "),Q(i,"Pasted File Name"),i.appendText(" setting.")})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),new ge(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(i=>{i.appendText("When the collected attachment is used by multiple notes:"),i.createEl("br"),Q(i,"Skip"),i.appendText(" - skip the attachment and proceed to the next one."),i.createEl("br"),Q(i,"Move"),i.appendText(" - move the attachment to the new location."),i.createEl("br"),Q(i,"Copy"),i.appendText(" - copy the attachment to the new location."),i.createEl("br"),Q(i,"Cancel"),i.appendText(" - cancel the attachment collecting."),i.createEl("br"),Q(i,"Prompt"),i.appendText(" - prompt the user to select the action.")})).addDropdown(i=>{i.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:o=>Fo(Gn,o),pluginSettingsToComponentValueConverter:o=>_o(Gn,o)})}),new ge(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(i=>{i.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),i.createEl("br"),i.appendText("E.g., when you are dragging file "),Q(i,"existingFile.pdf"),i.appendText(", it will be renamed to "),Q(i,"existingFile 1.pdf"),i.appendText(", "),Q(i,"existingFile 2.pdf"),i.appendText(", etc, getting the first name available.")})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:o=>o.replaceAll(sa," "),pluginSettingsToComponentValueConverter:zu}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=zu(i.inputEl.value)})}),new ge(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(i=>{i.appendText("When the attachment folder becomes empty:"),i.createEl("br"),Q(i,"Keep"),i.appendText(" - will keep the empty attachment folder."),i.createEl("br"),Q(i,"Delete"),i.appendText(" - will delete the empty attachment folder."),i.createEl("br"),Q(i,"Delete with empty parents"),i.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(i=>{i.addOptions({[rt.Keep]:"Keep",[rt.Delete]:"Delete",[rt.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(i,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:o=>Fo(rt,o),pluginSettingsToComponentValueConverter:o=>_o(rt,o)})}),new ge(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),new ge(this.containerEl).setName("Include paths").setDesc(createFragment(i=>{i.appendText("Include notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, all notes are included.")})).addMultipleText(i=>{this.bind(i,"includePaths")}),new ge(this.containerEl).setName("Exclude paths").setDesc(createFragment(i=>{i.appendText("Exclude notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(i=>{this.bind(i,"excludePaths")}),new ge(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(i=>{i.appendText("Exclude attachments from the following paths when "),Q(i,"Collect attachments"),i.appendText(" command is executed."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,aa.debounce)((i,o)=>{o.trigger("input"),!this.plugin.settingsManager.settingsWrapper.validationMessages.customTokensStr&&it.registerCustomTokens(i)},2e3);new ge(this.containerEl).setName("Custom tokens").setDesc(createFragment(i=>{i.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),i.createEl("br"),i.appendText("See "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),i.appendText(" for more information."),i.createEl("br"),i.appendText("\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk.")})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:o=>{r(o,i.inputEl)}}),i.setPlaceholder(io)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new ge(this.containerEl).addButton(i=>{i.setButtonText("Reset to sample custom tokens"),i.setWarning(),i.onClick(je(async()=>{this.plugin.settings.customTokensStr!==io&&(this.plugin.settings.customTokensStr!==""&&!await Js({app:this.plugin.app,message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"})||(await this.plugin.settingsManager.editAndSave(o=>{o.customTokensStr=io}),this.display()))}))}),new ge(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(i=>{i.appendText("Treat files with these extensions as attachments."),i.createEl("br"),i.appendText("By default, "),Q(i,".md"),i.appendText(", "),Q(i,".canvas"),i.appendText(" and "),Q(i,".base"),i.appendText(" linked files are not treated as attachments and are not moved with the note."),i.createEl("br"),i.appendText("You can add custom extensions, e.g. "),Q(i,".foo.md"),i.appendText(", "),Q(i,".bar.canvas"),i.appendText(", "),Q(i,".baz.base"),i.appendText(", to override this behavior.")})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function p2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}function zu(t){return t.replaceAll(" ",sa)}var m2=/Pasted image (?<Timestamp>\d{14})/,g2="YYYYMMDDHHmmss",w2=10,la=class extends Gs{currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new So(this)}createSettingsTab(){return new oa(this)}async onLayoutReady(){await super.onLayoutReady(),kn(this,this.app.vault,{getAvailablePath:()=>this.getAvailablePath.bind(this),getAvailablePathForAttachments:e=>{this.getAvailablePathForAttachmentsOriginal=e.bind(this.app.vault);let n={isExtended:!0};return Object.assign(this.getAvailablePathForAttachments.bind(this),n)},getConfig:e=>n=>this.getConfig(e,n)}),Hu.webUtils&&kn(this,Hu.webUtils,{getPathForFile:e=>n=>this.getPathForFile(n,e)}),kn(this,this.app.fileManager,{generateMarkdownLink:e=>(n,r,i,o)=>this.generateMarkdownLink(e,n,r,i,o)}),kn(this,dd(this.app.shareReceiver),{importFiles:e=>n=>this.importFiles(e,n)})}async onloadImpl(){await super.onloadImpl(),Lh(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>qn(this,n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:e=>tp(this,e),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:e=>ep(this,e),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:()=>{np(this)},id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),kn(this,this.app,{saveAttachment:()=>(e,n,r)=>this.saveAttachment(e,n,r)}),this.addChild(new ra),this.registerEvent(this.app.workspace.on("file-open",je(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",je(this.handleRename.bind(this))))}generateMarkdownLink(e,n,r,i,o){let l=e.call(this.app.fileManager,n,r,i,o);if(!this.settings.markdownUrlFormat)return l;let u=this.pathMarkdownUrlMap.get(n.path);return u?(Ws(l)&&(l=tu({app:this.app,isWikilink:!1,originalLink:l,sourcePathOrFile:r,targetPathOrFile:n})),nu(l)?l.replace(/\]\(<.+?>\)/,`](<${u}>)`):l.replace(/\]\(.+?\)/,`](${di(u)})`)):l}getAvailablePath(e,n){let r=0;for(;;){let i=Mt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${r.toString()}`,n);if(!Ln(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e,n,r,i,o){if(r&&this.settings.isPathIgnored(r.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(e,n,r);let l;if(!r||!qn(this,r))l=await Ja(this.app,e,n,r,!0);else{let u=await wi(this,r.path,Mt(e,n),o);l=this.app.vault.getAvailablePath(Ee(u,e),n)}if(!i){let u=gt(l);await this.app.vault.exists(u)||(await Rs(this.app,u),this.settings.emptyAttachmentFolderBehavior===rt.Keep&&await this.app.vault.create(Ee(u,".gitkeep"),""))}return l}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}handleFileMenu(e,n){n instanceof cg.TFolder&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>so(this,n))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await wi(this,e.path,"dummy.pdf"))}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),l=await(await fetch(i)).arrayBuffer(),u=new it({app:this.app,attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),d=await yi(this,u),p=xe(r.name).slice(1);r.name=Mt(d,p)}return e.call(this.app.shareReceiver,n)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let o=!1,l=m2.exec(e);if(l){let p=l.groups?.Timestamp;if(p){let f=(0,Gu.default)(p,g2);f.isValid()&&(0,Gu.default)().diff(f,"seconds")<w2&&(o=!0)}}o&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await sd(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=o;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await yi(this,new it({app:this.app,attachmentFileContent:r,noteFilePath:i.path,originalAttachmentFileName:Mt(e,n)})));let d=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let p=await new it({app:this.app,attachmentFileContent:r,generatedAttachmentFileName:d.name,generatedAttachmentFilePath:d.path,noteFilePath:i.path,originalAttachmentFileName:Mt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(d.path,p)}else this.pathMarkdownUrlMap.delete(d.path);return d}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),o=await this.getAvailablePathForAttachments(e,n,i,!1,r);return await this.app.vault.createBinary(o,r)}};var y2=la;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */