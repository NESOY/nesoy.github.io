---
title: Database의 트랜잭션(Transaction)이란?
tags:
  - Database
date: 2018-05-27
aliases: 
  - ../articles/2018-05/Database-Transaction
---

![[Assets/logo/database.jpg]]

# 트랜잭션(Transaction)이란?
- 트랜잭션(Transaction)은 데이터베이스의 완전성을 보장하기 위한 것입니다.
- 상태를 변화시키기 해서 수행하는 **하나의 작업의 단위**를 뜻합니다.


## 특징(ACID)
### 원자성 (Atomicity)
> all or nothing

- 트랜잭션과 관련된 작업들이 **부분적으로 실행되다가 중단되지 않는 것을 보장**하는 것을 의미한다.
- 원자성은 이와 같이 중간 단계까지 실행되고 실패하는 일이 없도록 하는 것이다.

### 일관성 (Consistency)
- 트랜잭션이 실행을 성공적으로 완료하면 **언제나 일관성 있는 데이터베이스 상태로 유지**하는 것을 의미한다.
- 일관성 있는 데이터베이스 상태라는 것은 다양한 제약 조건(constraints, cascades, triggers)등에 만족한다는 것이다. - Software Level

### 독립성 (Isolation)
- 트랜잭션을 수행 시 **다른 트랜잭션의 연산 작업이 끼어들지 못하도록 보장**하는 것을 의미한다.
- 트랜잭션 밖에 있는 어떤 연산도 중간 단계의 데이터를 볼 수 없음을 의미한다.

### 지속성 (Durability)
- **성공적으로 수행된 트랜잭션은 영원히 반영되어야 함**을 의미한다. - Hardware Level
- 전력문제, 시스템 문제, DB 일관성 체크 등을 하더라도 유지되어야 함을 의미한다.
- 전형적으로 모든 트랜잭션은 로그로 남고 시스템 장애 발생 전 상태로 되돌릴 수 있다.
- 트랜잭션은 로그에 모든 것이 저장된 후에만 commit 상태로 간주될 수 있다.


## 트랜잭션(Transaction)을 사용하며 주의해야 할점?
> 언제나 얻는 것이 있으면 잃는 것도 있다.

트랜잭션은 데이터를 완전성을 보장하기 위해 많은 자원들을 사용하게 된다. 자원을 사용하며 Lock을 걸게 되면 다른 사용자들은 Lock이 해제될 때까지 기다려야한다. 기다린다는 것은 성능에 좋지 않다는 의미이다. 따라서 **Transaction의 범위를 최소화하여 적용하는 것**이 좋다.

